!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MyApp=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ionicAngular=require("ionic-angular"),_ionicNative=require("ionic-native"),_tabs=require("./pages/tabs/tabs"),_drinks=require("./providers/drinks"),_statisticprovider=require("./providers/statisticprovider"),_databaseprovider=require("./providers/databaseprovider");exports.MyApp=(_dec=(0,_ionicAngular.App)({template:'<ion-nav [root]="rootPage"></ion-nav>',providers:[_drinks.Drinks,_statisticprovider.StatisticProvider,_databaseprovider.DatabaseProvider],config:{}}),_dec(_class=function(){function MyApp(platform){_classCallCheck(this,MyApp),this.rootPage=_tabs.TabsPage,platform.ready().then(function(){_ionicNative.StatusBar.styleDefault()})}return _createClass(MyApp,null,[{key:"parameters",get:function(){return[[_ionicAngular.Platform]]}}]),MyApp}())||_class)},{"./pages/tabs/tabs":5,"./providers/databaseprovider":6,"./providers/drinks":7,"./providers/statisticprovider":8,"ionic-angular":342,"ionic-native":364}],2:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Page1=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ionicAngular=require("ionic-angular"),_drinks=require("../../providers/drinks"),_databaseprovider=require("../../providers/databaseprovider"),_statisticprovider=require("../../providers/statisticprovider");exports.Page1=(_dec=(0,_ionicAngular.Page)({templateUrl:"build/pages/page1/page1.html"}),_dec(_class=function(){function Page1(drinks,database,statistic){_classCallCheck(this,Page1),this.drinks=drinks.getDrinks(),this.storage=database,this.statistic=statistic,this.refresh()}return _createClass(Page1,null,[{key:"parameters",get:function(){return[[_drinks.Drinks],[_databaseprovider.DatabaseProvider],[_statisticprovider.StatisticProvider]]}}]),_createClass(Page1,[{key:"refresh",value:function(){var _this=this;this.storage.get("balance").then(function(balance){_this.balance=null==balance?0:balance});for(var _loop=function(i){_this.drinks[i].id;_this.storage.get(_this.drinks[i].id).then(function(consumed){_this.drinks[i].consumed=Number(consumed)})},i=0;i<this.drinks.length;i++)_loop(i)}},{key:"remove",value:function(drink){var _this2=this;this.storage.get(drink.id).then(function(consumed){null==consumed&&(consumed=0),consumed>0&&(_this2.storage.set(drink.id,Number(consumed)-1),_this2.storage.get("balance").then(function(balance){_this2.storage.set("balance",Number(balance)+drink.price),_this2.refresh()}))})}},{key:"add",value:function(drink){var _this3=this;this.storage.get(drink.id).then(function(consumed){null==consumed&&(consumed=0),_this3.storage.set(drink.id,Number(consumed)+1),_this3.statistic.collectStatForDrink(drink.id)}),this.storage.get("balance").then(function(balance){_this3.storage.set("balance",balance-drink.price),_this3.refresh()})}}]),Page1}())||_class)},{"../../providers/databaseprovider":6,"../../providers/drinks":7,"../../providers/statisticprovider":8,"ionic-angular":342}],3:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Page2=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ionicAngular=require("ionic-angular"),_drinks=require("../../providers/drinks"),_databaseprovider=require("../../providers/databaseprovider");exports.Page2=(_dec=(0,_ionicAngular.Page)({templateUrl:"build/pages/page2/page2.html"}),_dec(_class=function(){function Page2(drinks,database){var _this=this;_classCallCheck(this,Page2),this.drinks=drinks.getDrinks(),this.storage=database,this.storage.get("balance").then(function(balance){_this.balance=Number(null==balance?0:balance)})}return _createClass(Page2,null,[{key:"parameters",get:function(){return[[_drinks.Drinks],[_databaseprovider.DatabaseProvider]]}}]),_createClass(Page2,[{key:"setBalance",value:function(){Number(this.newBalance)>0&&(this.balance=Number(this.newBalance),this.storage.set("balance",this.newBalance))}},{key:"addExtra",value:function(){Number(this.newBalance)>0&&(this.balance=Number(this.balance)+Number(this.newBalance),this.storage.set("balance",this.balance))}},{key:"reset",value:function(){this.balance=0,this.storage.set("balance",0);for(var i=0;i<this.drinks.length;i++)this.storage.set(this.drinks[i].id,0)}}]),Page2}())||_class)},{"../../providers/databaseprovider":6,"../../providers/drinks":7,"ionic-angular":342}],4:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Page3=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ionicAngular=require("ionic-angular"),_drinks=require("../../providers/drinks"),_statisticprovider=require("../../providers/statisticprovider");exports.Page3=(_dec=(0,_ionicAngular.Page)({templateUrl:"build/pages/page3/page3.html"}),_dec(_class=function(){function Page3(drinksProvider,statisticProvider){var _this=this;_classCallCheck(this,Page3),this.statisticProvider=statisticProvider;var drinks=drinksProvider.getDrinks().slice();drinks.sort(function(a,b){return a.consumed>b.consumed?-1:a.consumed<b.consumed?1:0}),this.drinks=drinks,this.statsAvailable=drinks[0].consumed>0,statisticProvider.getWeeklyStatStatus().then(function(weekly){_this.stats2Available=null==weekly?!1:"on"==weekly,_this.stats2Available&&_this.drawWeeklyStat()}),statisticProvider.getBadges().then(function(badges){_this.stats3Available=null==badges?!1:"on"==badges})}return _createClass(Page3,null,[{key:"parameters",get:function(){return[[_drinks.Drinks],[_statisticprovider.StatisticProvider]]}}]),_createClass(Page3,[{key:"drawWeeklyStat",value:function(){var _this2=this,sp=this.statisticProvider;sp.getDrinkStatistics().then(function(result){for(var weeklyDatasets={},i=0;i<result.res.rows.length;i++){var id=result.res.rows.item(i).id,dataset="undefined"==typeof weeklyDatasets[id]?{}:weeklyDatasets[id];"undefined"==typeof dataset.label&&(dataset.label=id,dataset.data=[0,0,0,0,0]);var consumed=result.res.rows.item(i).consumed,date=new Date(result.res.rows.item(i).date),position=0==date.getDay()?6:date.getDay()-1;position>=0&&4>=position&&(dataset.data[position]=consumed,weeklyDatasets[id]=dataset)}return weeklyDatasets}).then(function(weeklyDatasets){var dataset=[];if(_this2.drinks.forEach(function(drink,index){var ds={};"undefined"!=typeof weeklyDatasets[drink.id]&&(ds.data=weeklyDatasets[drink.id].data,ds.label=drink.title,dataset.push(ds))}),0==dataset.length)_this2.notEnoughChartData=!0;else{_this2.notEnoughChartData=!1,Chart.defaults.global.responsive=!1,Chart.defaults.global.legend.display=!0,Chart.defaults.global.tooltips.enabled=!1;var ctx=document.getElementById("myChart");"undefined"==typeof _this2.myChart?_this2.myChart=new Chart(ctx,{type:"line",data:{labels:["Montag","Dienstag","Mittwoch","Donnerstag","Freitag"],datasets:dataset},options:{scales:{display:!1}}}):_this2.myChart.update(1e3,!0)}})}},{key:"badgesOn",value:function(){this.statisticProvider.setBadges(!0),this.stats3Available=!0}},{key:"badgesOff",value:function(){this.statisticProvider.setBadges(!1),this.stats3Available=!1}},{key:"weeklyOn",value:function(){this.statisticProvider.setWeeklyStatStatus(!0),this.stats2Available=!0,this.drawWeeklyStat()}},{key:"weeklyOff",value:function(){this.statisticProvider.setWeeklyStatStatus(!1),this.stats2Available=!1}}]),Page3}())||_class)},{"../../providers/drinks":7,"../../providers/statisticprovider":8,"ionic-angular":342}],5:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabsPage=void 0;var _dec,_class,_ionicAngular=require("ionic-angular"),_page=require("../page1/page1"),_page2=require("../page2/page2"),_page3=require("../page3/page3");exports.TabsPage=(_dec=(0,_ionicAngular.Page)({templateUrl:"build/pages/tabs/tabs.html"}),_dec(_class=function TabsPage(){_classCallCheck(this,TabsPage),this.tab1Root=_page.Page1,this.tab2Root=_page2.Page2,this.tab3Root=_page3.Page3})||_class)},{"../page1/page1":2,"../page2/page2":3,"../page3/page3":4,"ionic-angular":342}],6:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatabaseProvider=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=require("angular2/core"),_ionicAngular=require("ionic-angular");exports.DatabaseProvider=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function DatabaseProvider(){_classCallCheck(this,DatabaseProvider),this.storage=new _ionicAngular.Storage(_ionicAngular.SqlStorage,{name:"baggr",backupFlag:_ionicAngular.SqlStorage.BACKUP_DOCUMENTS}),this.storage.query("CREATE TABLE IF NOT EXISTS statistics (id,date)"),console.log("Database Provider Initialized")}return _createClass(DatabaseProvider,[{key:"set",value:function(key,value){this.storage.set(key,value)}},{key:"get",value:function(key){return this.storage.get(key)}},{key:"insertStatistic",value:function(drink_id,date){console.log("inserting statistics drink_id: "+drink_id+" date: "+date),this.storage.query('INSERT INTO statistics VALUES ("'+drink_id+'", date("now") )')}},{key:"pad",value:function(num,size){var s="000000000"+num;return s.substr(s.length-size)}},{key:"getDrinkStatistics",value:function(){var now=new Date,day=now.getDay(),diff=now.getDate()-day+(0==day?-6:1),monday=new Date(now.setDate(diff)),mondaySQL=monday.getFullYear()+"-"+this.pad(monday.getMonth()+1,2)+"-"+this.pad(monday.getDate(),2),SQL='SELECT id, count(id) as consumed,date FROM statistics WHERE date(date) >= date("'+mondaySQL+'") GROUP BY id,date';return this.storage.query(SQL)}}]),DatabaseProvider}())||_class)},{"angular2/core":11,"ionic-angular":342}],7:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Drinks=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=require("angular2/core");exports.Drinks=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function Drinks(){_classCallCheck(this,Drinks),this.drinks=[{id:"coffee",image:"img/coffee.jpg",title:"Kaffee",description:"Creme / Espresso",price:.2,consumed:1},{id:"doublecoffee",image:"img/doublecoffee.jpg",title:"Creme / Espresso",description:"mit Milch",price:.25,consumed:2},{id:"water",image:"img/water.jpg",title:"Wasser",description:"Eine Flasche Wasser",price:.8,consumed:3},{id:"coke",image:"img/coke.jpg",title:"Coke",description:"Eine Flasche Cola",price:1.25,consumed:4},{id:"redbull",image:"img/redbull.jpg",title:"Red Bull",description:"Eine Flasche Red Bull",price:1.5,consumed:5}]}return _createClass(Drinks,[{key:"getDrinks",value:function(){return this.drinks}}]),Drinks}())||_class)},{"angular2/core":11}],8:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatisticProvider=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=require("angular2/core"),_databaseprovider=require("./databaseprovider");exports.StatisticProvider=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function StatisticProvider(database){_classCallCheck(this,StatisticProvider),console.log("Statistic Provider Initialized"),this.storage=database}return _createClass(StatisticProvider,null,[{key:"parameters",get:function(){return[[_databaseprovider.DatabaseProvider]]}}]),_createClass(StatisticProvider,[{key:"setBadges",value:function(state){this.storage.set("badges",state?"on":"off")}},{key:"getBadges",value:function(){return this.storage.get("badges")}},{key:"getWeeklyStatStatus",value:function(){return this.storage.get("weekly")}},{key:"setWeeklyStatStatus",value:function(state){this.storage.set("weekly",state?"on":"off")}},{key:"collectStatForDrink",value:function(drink_id){var _this=this;this.getWeeklyStatStatus().then(function(status){if(null==status?!1:"on"==status){var now=new Date,today=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();_this.storage.insertStatistic(drink_id,today)}})}},{key:"getDrinkStatistics",value:function(){return this.storage.getDrinkStatistics()}}]),StatisticProvider}())||_class)},{"./databaseprovider":6,"angular2/core":11}],9:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./src/common/pipes")),__export(require("./src/common/directives")),__export(require("./src/common/forms")),__export(require("./src/common/common_directives"))},{"./src/common/common_directives":22,"./src/common/directives":23,"./src/common/forms":32,"./src/common/pipes":56}],10:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./src/compiler/url_resolver")),__export(require("./src/compiler/xhr")),__export(require("./src/compiler/compiler"))},{"./src/compiler/compiler":72,"./src/compiler/url_resolver":94,"./src/compiler/xhr":97}],11:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./src/core/metadata")),__export(require("./src/core/util")),__export(require("./src/core/prod_mode")),__export(require("./src/core/di")),__export(require("./src/facade/facade"));var lang_1=require("angular2/src/facade/lang");exports.enableProdMode=lang_1.enableProdMode;var application_ref_1=require("./src/core/application_ref");exports.platform=application_ref_1.platform,exports.createNgZone=application_ref_1.createNgZone,exports.PlatformRef=application_ref_1.PlatformRef,exports.ApplicationRef=application_ref_1.ApplicationRef;var application_tokens_1=require("./src/core/application_tokens");exports.APP_ID=application_tokens_1.APP_ID,exports.APP_COMPONENT=application_tokens_1.APP_COMPONENT,exports.APP_INITIALIZER=application_tokens_1.APP_INITIALIZER,exports.PACKAGE_ROOT_URL=application_tokens_1.PACKAGE_ROOT_URL,exports.PLATFORM_INITIALIZER=application_tokens_1.PLATFORM_INITIALIZER,__export(require("./src/core/zone")),__export(require("./src/core/render")),__export(require("./src/core/linker"));var debug_node_1=require("./src/core/debug/debug_node");exports.DebugElement=debug_node_1.DebugElement,exports.DebugNode=debug_node_1.DebugNode,exports.asNativeElements=debug_node_1.asNativeElements,__export(require("./src/core/testability/testability")),__export(require("./src/core/change_detection")),__export(require("./src/core/platform_directives_and_pipes")),__export(require("./src/core/platform_common_providers")),__export(require("./src/core/application_common_providers")),__export(require("./src/core/reflection/reflection"))},{"./src/core/application_common_providers":99,"./src/core/application_ref":100,"./src/core/application_tokens":101,"./src/core/change_detection":102,"./src/core/debug/debug_node":133,"./src/core/di":135,"./src/core/linker":144,"./src/core/metadata":162,"./src/core/platform_common_providers":168,"./src/core/platform_directives_and_pipes":169,"./src/core/prod_mode":170,"./src/core/reflection/reflection":174,"./src/core/render":178,"./src/core/testability/testability":181,"./src/core/util":182,"./src/core/zone":184,"./src/facade/facade":193,"angular2/src/facade/lang":195}],12:[function(require,module,exports){"use strict";var core_1=require("angular2/core"),http_1=require("./src/http/http"),xhr_backend_1=require("./src/http/backends/xhr_backend"),jsonp_backend_1=require("./src/http/backends/jsonp_backend"),browser_xhr_1=require("./src/http/backends/browser_xhr"),browser_jsonp_1=require("./src/http/backends/browser_jsonp"),base_request_options_1=require("./src/http/base_request_options"),base_response_options_1=require("./src/http/base_response_options"),static_request_1=require("./src/http/static_request");exports.Request=static_request_1.Request;var static_response_1=require("./src/http/static_response");exports.Response=static_response_1.Response;var interfaces_1=require("./src/http/interfaces");exports.Connection=interfaces_1.Connection,exports.ConnectionBackend=interfaces_1.ConnectionBackend;var browser_xhr_2=require("./src/http/backends/browser_xhr");exports.BrowserXhr=browser_xhr_2.BrowserXhr;var base_request_options_2=require("./src/http/base_request_options");exports.BaseRequestOptions=base_request_options_2.BaseRequestOptions,exports.RequestOptions=base_request_options_2.RequestOptions;var base_response_options_2=require("./src/http/base_response_options");exports.BaseResponseOptions=base_response_options_2.BaseResponseOptions,exports.ResponseOptions=base_response_options_2.ResponseOptions;var xhr_backend_2=require("./src/http/backends/xhr_backend");exports.XHRBackend=xhr_backend_2.XHRBackend,exports.XHRConnection=xhr_backend_2.XHRConnection;var jsonp_backend_2=require("./src/http/backends/jsonp_backend");exports.JSONPBackend=jsonp_backend_2.JSONPBackend,exports.JSONPConnection=jsonp_backend_2.JSONPConnection;var http_2=require("./src/http/http");exports.Http=http_2.Http,exports.Jsonp=http_2.Jsonp;var headers_1=require("./src/http/headers");exports.Headers=headers_1.Headers;var enums_1=require("./src/http/enums");exports.ResponseType=enums_1.ResponseType,exports.ReadyState=enums_1.ReadyState,exports.RequestMethod=enums_1.RequestMethod;var url_search_params_1=require("./src/http/url_search_params");exports.URLSearchParams=url_search_params_1.URLSearchParams,exports.HTTP_PROVIDERS=[core_1.provide(http_1.Http,{useFactory:function(xhrBackend,requestOptions){return new http_1.Http(xhrBackend,requestOptions)},deps:[xhr_backend_1.XHRBackend,base_request_options_1.RequestOptions]}),browser_xhr_1.BrowserXhr,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),xhr_backend_1.XHRBackend],exports.HTTP_BINDINGS=exports.HTTP_PROVIDERS,exports.JSONP_PROVIDERS=[core_1.provide(http_1.Jsonp,{useFactory:function(jsonpBackend,requestOptions){return new http_1.Jsonp(jsonpBackend,requestOptions)},deps:[jsonp_backend_1.JSONPBackend,base_request_options_1.RequestOptions]}),browser_jsonp_1.BrowserJsonp,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),core_1.provide(jsonp_backend_1.JSONPBackend,{useClass:jsonp_backend_1.JSONPBackend_})],exports.JSON_BINDINGS=exports.JSONP_PROVIDERS},{"./src/http/backends/browser_jsonp":198,"./src/http/backends/browser_xhr":199,"./src/http/backends/jsonp_backend":200,"./src/http/backends/xhr_backend":201,"./src/http/base_request_options":202,"./src/http/base_response_options":203,"./src/http/enums":204,"./src/http/headers":205,"./src/http/http":206,"./src/http/interfaces":208,"./src/http/static_request":209,"./src/http/static_response":210,"./src/http/url_search_params":211,"angular2/core":11}],13:[function(require,module,exports){"use strict";var profile_1=require("./src/core/profile/profile");exports.wtfCreateScope=profile_1.wtfCreateScope,exports.wtfLeave=profile_1.wtfLeave,exports.wtfStartTimeRange=profile_1.wtfStartTimeRange,exports.wtfEndTimeRange=profile_1.wtfEndTimeRange},{"./src/core/profile/profile":171}],14:[function(require,module,exports){"use strict";function bootstrap(appComponentType,customProviders){core_1.reflector.reflectionCapabilities=new reflection_capabilities_1.ReflectionCapabilities;var appProviders=lang_1.isPresent(customProviders)?[exports.BROWSER_APP_PROVIDERS,customProviders]:exports.BROWSER_APP_PROVIDERS;return core_1.platform(browser_common_2.BROWSER_PROVIDERS).application(appProviders).bootstrap(appComponentType)}var angular_entrypoint_1=require("angular2/src/core/angular_entrypoint");exports.AngularEntrypoint=angular_entrypoint_1.AngularEntrypoint;var browser_common_1=require("angular2/src/platform/browser_common");exports.BROWSER_PROVIDERS=browser_common_1.BROWSER_PROVIDERS,exports.CACHED_TEMPLATE_PROVIDER=browser_common_1.CACHED_TEMPLATE_PROVIDER,exports.ELEMENT_PROBE_PROVIDERS=browser_common_1.ELEMENT_PROBE_PROVIDERS,exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=browser_common_1.ELEMENT_PROBE_PROVIDERS_PROD_MODE,exports.inspectNativeElement=browser_common_1.inspectNativeElement,exports.BrowserDomAdapter=browser_common_1.BrowserDomAdapter,exports.By=browser_common_1.By,exports.Title=browser_common_1.Title,exports.DOCUMENT=browser_common_1.DOCUMENT,exports.enableDebugTools=browser_common_1.enableDebugTools,exports.disableDebugTools=browser_common_1.disableDebugTools;var lang_1=require("angular2/src/facade/lang"),browser_common_2=require("angular2/src/platform/browser_common"),compiler_1=require("angular2/compiler"),core_1=require("angular2/core"),reflection_capabilities_1=require("angular2/src/core/reflection/reflection_capabilities"),xhr_impl_1=require("angular2/src/platform/browser/xhr_impl"),compiler_2=require("angular2/compiler"),di_1=require("angular2/src/core/di");exports.BROWSER_APP_PROVIDERS=lang_1.CONST_EXPR([browser_common_2.BROWSER_APP_COMMON_PROVIDERS,compiler_1.COMPILER_PROVIDERS,new di_1.Provider(compiler_2.XHR,{useClass:xhr_impl_1.XHRImpl})]),exports.bootstrap=bootstrap},{"angular2/compiler":10,"angular2/core":11,"angular2/src/core/angular_entrypoint":98,"angular2/src/core/di":135,"angular2/src/core/reflection/reflection_capabilities":175,"angular2/src/facade/lang":195,"angular2/src/platform/browser/xhr_impl":219,"angular2/src/platform/browser_common":220}],15:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");exports.DOM=dom_adapter_1.DOM,exports.setRootDomAdapter=dom_adapter_1.setRootDomAdapter,exports.DomAdapter=dom_adapter_1.DomAdapter;var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");exports.DomRenderer=dom_renderer_1.DomRenderer;var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");exports.DOCUMENT=dom_tokens_1.DOCUMENT;var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");exports.SharedStylesHost=shared_styles_host_1.SharedStylesHost,exports.DomSharedStylesHost=shared_styles_host_1.DomSharedStylesHost;var dom_events_1=require("angular2/src/platform/dom/events/dom_events");exports.DomEventsPlugin=dom_events_1.DomEventsPlugin;var event_manager_1=require("angular2/src/platform/dom/events/event_manager");exports.EVENT_MANAGER_PLUGINS=event_manager_1.EVENT_MANAGER_PLUGINS,exports.EventManager=event_manager_1.EventManager,exports.EventManagerPlugin=event_manager_1.EventManagerPlugin,__export(require("angular2/src/platform/dom/debug/by")),__export(require("angular2/src/platform/dom/debug/ng_probe"))},{"angular2/src/platform/dom/debug/by":221,"angular2/src/platform/dom/debug/ng_probe":222,"angular2/src/platform/dom/dom_adapter":223,"angular2/src/platform/dom/dom_renderer":224,"angular2/src/platform/dom/dom_tokens":225,"angular2/src/platform/dom/events/dom_events":226,"angular2/src/platform/dom/events/event_manager":227,"angular2/src/platform/dom/shared_styles_host":231}],16:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var router_1=require("./src/router/router");exports.Router=router_1.Router;var router_outlet_1=require("./src/router/directives/router_outlet");exports.RouterOutlet=router_outlet_1.RouterOutlet;var router_link_1=require("./src/router/directives/router_link");exports.RouterLink=router_link_1.RouterLink;var instruction_1=require("./src/router/instruction");exports.RouteParams=instruction_1.RouteParams,exports.RouteData=instruction_1.RouteData;var platform_location_1=require("./src/router/location/platform_location");exports.PlatformLocation=platform_location_1.PlatformLocation;var route_registry_1=require("./src/router/route_registry");exports.RouteRegistry=route_registry_1.RouteRegistry,exports.ROUTER_PRIMARY_COMPONENT=route_registry_1.ROUTER_PRIMARY_COMPONENT;var location_strategy_1=require("./src/router/location/location_strategy");exports.LocationStrategy=location_strategy_1.LocationStrategy,exports.APP_BASE_HREF=location_strategy_1.APP_BASE_HREF;var hash_location_strategy_1=require("./src/router/location/hash_location_strategy");exports.HashLocationStrategy=hash_location_strategy_1.HashLocationStrategy;var path_location_strategy_1=require("./src/router/location/path_location_strategy");exports.PathLocationStrategy=path_location_strategy_1.PathLocationStrategy;var location_1=require("./src/router/location/location");exports.Location=location_1.Location,__export(require("./src/router/route_config/route_config_decorator"));var lifecycle_annotations_1=require("./src/router/lifecycle/lifecycle_annotations");exports.CanActivate=lifecycle_annotations_1.CanActivate;var instruction_2=require("./src/router/instruction");exports.Instruction=instruction_2.Instruction,exports.ComponentInstruction=instruction_2.ComponentInstruction;var core_1=require("angular2/core");exports.OpaqueToken=core_1.OpaqueToken;var router_providers_common_1=require("angular2/src/router/router_providers_common");exports.ROUTER_PROVIDERS_COMMON=router_providers_common_1.ROUTER_PROVIDERS_COMMON;var router_providers_1=require("angular2/src/router/router_providers");exports.ROUTER_PROVIDERS=router_providers_1.ROUTER_PROVIDERS,exports.ROUTER_BINDINGS=router_providers_1.ROUTER_BINDINGS;var router_outlet_2=require("./src/router/directives/router_outlet"),router_link_2=require("./src/router/directives/router_link"),lang_1=require("./src/facade/lang");exports.ROUTER_DIRECTIVES=lang_1.CONST_EXPR([router_outlet_2.RouterOutlet,router_link_2.RouterLink])},{"./src/facade/lang":195,"./src/router/directives/router_link":233,"./src/router/directives/router_outlet":234,"./src/router/instruction":235,"./src/router/lifecycle/lifecycle_annotations":236,"./src/router/location/hash_location_strategy":240,"./src/router/location/location":241,"./src/router/location/location_strategy":242,"./src/router/location/path_location_strategy":243,"./src/router/location/platform_location":244,"./src/router/route_config/route_config_decorator":245,"./src/router/route_registry":248,"./src/router/router":249,"angular2/core":11,"angular2/src/router/router_providers":250,"angular2/src/router/router_providers_common":251}],17:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),math_1=require("angular2/src/facade/math"),util_1=require("angular2/src/platform/dom/util"),collection_1=require("angular2/src/facade/collection"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),Animation=function(){function Animation(element,data,browserDetails){var _this=this;this.element=element,this.data=data,this.browserDetails=browserDetails,this.callbacks=[],this.eventClearFunctions=[],this.completed=!1,this._stringPrefix="",this.startTime=lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now()),this._stringPrefix=dom_adapter_1.DOM.getAnimationPrefix(),this.setup(),this.wait(function(timestamp){return _this.start()})}return Object.defineProperty(Animation.prototype,"totalTime",{get:function(){var delay=null!=this.computedDelay?this.computedDelay:0,duration=null!=this.computedDuration?this.computedDuration:0;
return delay+duration},enumerable:!0,configurable:!0}),Animation.prototype.wait=function(callback){this.browserDetails.raf(callback,2)},Animation.prototype.setup=function(){null!=this.data.fromStyles&&this.applyStyles(this.data.fromStyles),null!=this.data.duration&&this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"}),null!=this.data.delay&&this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})},Animation.prototype.start=function(){this.addClasses(this.data.classesToAdd),this.addClasses(this.data.animationClasses),this.removeClasses(this.data.classesToRemove),null!=this.data.toStyles&&this.applyStyles(this.data.toStyles);var computedStyles=dom_adapter_1.DOM.getComputedStyle(this.element);this.computedDelay=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay"))),this.computedDuration=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration"))),this.addEvents()},Animation.prototype.applyStyles=function(styles){var _this=this;collection_1.StringMapWrapper.forEach(styles,function(value,key){var dashCaseKey=util_1.camelCaseToDashCase(key);lang_1.isPresent(dom_adapter_1.DOM.getStyle(_this.element,dashCaseKey))?dom_adapter_1.DOM.setStyle(_this.element,dashCaseKey,value.toString()):dom_adapter_1.DOM.setStyle(_this.element,_this._stringPrefix+dashCaseKey,value.toString())})},Animation.prototype.addClasses=function(classes){for(var i=0,len=classes.length;len>i;i++)dom_adapter_1.DOM.addClass(this.element,classes[i])},Animation.prototype.removeClasses=function(classes){for(var i=0,len=classes.length;len>i;i++)dom_adapter_1.DOM.removeClass(this.element,classes[i])},Animation.prototype.addEvents=function(){var _this=this;this.totalTime>0?this.eventClearFunctions.push(dom_adapter_1.DOM.onAndCancel(this.element,dom_adapter_1.DOM.getTransitionEnd(),function(event){return _this.handleAnimationEvent(event)})):this.handleAnimationCompleted()},Animation.prototype.handleAnimationEvent=function(event){var elapsedTime=math_1.Math.round(1e3*event.elapsedTime);this.browserDetails.elapsedTimeIncludesDelay||(elapsedTime+=this.computedDelay),event.stopPropagation(),elapsedTime>=this.totalTime&&this.handleAnimationCompleted()},Animation.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses),this.callbacks.forEach(function(callback){return callback()}),this.callbacks=[],this.eventClearFunctions.forEach(function(fn){return fn()}),this.eventClearFunctions=[],this.completed=!0},Animation.prototype.onComplete=function(callback){return this.completed?callback():this.callbacks.push(callback),this},Animation.prototype.parseDurationString=function(duration){var maxValue=0;if(null==duration||duration.length<2)return maxValue;if("ms"==duration.substring(duration.length-2)){var value=lang_1.NumberWrapper.parseInt(this.stripLetters(duration),10);value>maxValue&&(maxValue=value)}else if("s"==duration.substring(duration.length-1)){var ms=1e3*lang_1.NumberWrapper.parseFloat(this.stripLetters(duration)),value=math_1.Math.floor(ms);value>maxValue&&(maxValue=value)}return maxValue},Animation.prototype.stripLetters=function(str){return lang_1.StringWrapper.replaceAll(str,lang_1.RegExpWrapper.create("[^0-9]+$",""),"")},Animation}();exports.Animation=Animation},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/facade/math":196,"angular2/src/platform/dom/dom_adapter":223,"angular2/src/platform/dom/util":232}],18:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),css_animation_builder_1=require("./css_animation_builder"),browser_details_1=require("./browser_details"),AnimationBuilder=function(){function AnimationBuilder(browserDetails){this.browserDetails=browserDetails}return AnimationBuilder.prototype.css=function(){return new css_animation_builder_1.CssAnimationBuilder(this.browserDetails)},AnimationBuilder=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[browser_details_1.BrowserDetails])],AnimationBuilder)}();exports.AnimationBuilder=AnimationBuilder},{"./browser_details":19,"./css_animation_builder":20,"angular2/src/core/di":135}],19:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),math_1=require("angular2/src/facade/math"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),BrowserDetails=function(){function BrowserDetails(){this.elapsedTimeIncludesDelay=!1,this.doesElapsedTimeIncludesDelay()}return BrowserDetails.prototype.doesElapsedTimeIncludesDelay=function(){var _this=this,div=dom_adapter_1.DOM.createElement("div");dom_adapter_1.DOM.setAttribute(div,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;"),this.raf(function(timestamp){dom_adapter_1.DOM.on(div,"transitionend",function(event){var elapsed=math_1.Math.round(1e3*event.elapsedTime);_this.elapsedTimeIncludesDelay=2==elapsed,dom_adapter_1.DOM.remove(div)}),dom_adapter_1.DOM.setStyle(div,"width","2px")},2)},BrowserDetails.prototype.raf=function(callback,frames){void 0===frames&&(frames=1);var queue=new RafQueue(callback,frames);return function(){return queue.cancel()}},BrowserDetails=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],BrowserDetails)}();exports.BrowserDetails=BrowserDetails;var RafQueue=function(){function RafQueue(callback,frames){this.callback=callback,this.frames=frames,this._raf()}return RafQueue.prototype._raf=function(){var _this=this;this.currentFrameId=dom_adapter_1.DOM.requestAnimationFrame(function(timestamp){return _this._nextFrame(timestamp)})},RafQueue.prototype._nextFrame=function(timestamp){this.frames--,this.frames>0?this._raf():this.callback(timestamp)},RafQueue.prototype.cancel=function(){dom_adapter_1.DOM.cancelAnimationFrame(this.currentFrameId),this.currentFrameId=null},RafQueue}()},{"angular2/src/core/di":135,"angular2/src/facade/math":196,"angular2/src/platform/dom/dom_adapter":223}],20:[function(require,module,exports){"use strict";var css_animation_options_1=require("./css_animation_options"),animation_1=require("./animation"),CssAnimationBuilder=function(){function CssAnimationBuilder(browserDetails){this.browserDetails=browserDetails,this.data=new css_animation_options_1.CssAnimationOptions}return CssAnimationBuilder.prototype.addAnimationClass=function(className){return this.data.animationClasses.push(className),this},CssAnimationBuilder.prototype.addClass=function(className){return this.data.classesToAdd.push(className),this},CssAnimationBuilder.prototype.removeClass=function(className){return this.data.classesToRemove.push(className),this},CssAnimationBuilder.prototype.setDuration=function(duration){return this.data.duration=duration,this},CssAnimationBuilder.prototype.setDelay=function(delay){return this.data.delay=delay,this},CssAnimationBuilder.prototype.setStyles=function(from,to){return this.setFromStyles(from).setToStyles(to)},CssAnimationBuilder.prototype.setFromStyles=function(from){return this.data.fromStyles=from,this},CssAnimationBuilder.prototype.setToStyles=function(to){return this.data.toStyles=to,this},CssAnimationBuilder.prototype.start=function(element){return new animation_1.Animation(element,this.data,this.browserDetails)},CssAnimationBuilder}();exports.CssAnimationBuilder=CssAnimationBuilder},{"./animation":17,"./css_animation_options":21}],21:[function(require,module,exports){"use strict";var CssAnimationOptions=function(){function CssAnimationOptions(){this.classesToAdd=[],this.classesToRemove=[],this.animationClasses=[]}return CssAnimationOptions}();exports.CssAnimationOptions=CssAnimationOptions},{}],22:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),forms_1=require("./forms"),directives_1=require("./directives");exports.COMMON_DIRECTIVES=lang_1.CONST_EXPR([directives_1.CORE_DIRECTIVES,forms_1.FORM_DIRECTIVES])},{"./directives":23,"./forms":32,"angular2/src/facade/lang":195}],23:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var ng_class_1=require("./directives/ng_class");exports.NgClass=ng_class_1.NgClass;var ng_for_1=require("./directives/ng_for");exports.NgFor=ng_for_1.NgFor;var ng_if_1=require("./directives/ng_if");exports.NgIf=ng_if_1.NgIf;var ng_style_1=require("./directives/ng_style");exports.NgStyle=ng_style_1.NgStyle;var ng_switch_1=require("./directives/ng_switch");exports.NgSwitch=ng_switch_1.NgSwitch,exports.NgSwitchWhen=ng_switch_1.NgSwitchWhen,exports.NgSwitchDefault=ng_switch_1.NgSwitchDefault;var ng_plural_1=require("./directives/ng_plural");exports.NgPlural=ng_plural_1.NgPlural,exports.NgPluralCase=ng_plural_1.NgPluralCase,exports.NgLocalization=ng_plural_1.NgLocalization,__export(require("./directives/observable_list_diff"));var core_directives_1=require("./directives/core_directives");exports.CORE_DIRECTIVES=core_directives_1.CORE_DIRECTIVES},{"./directives/core_directives":24,"./directives/ng_class":25,"./directives/ng_for":26,"./directives/ng_if":27,"./directives/ng_plural":28,"./directives/ng_style":29,"./directives/ng_switch":30,"./directives/observable_list_diff":31}],24:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),ng_class_1=require("./ng_class"),ng_for_1=require("./ng_for"),ng_if_1=require("./ng_if"),ng_style_1=require("./ng_style"),ng_switch_1=require("./ng_switch"),ng_plural_1=require("./ng_plural");exports.CORE_DIRECTIVES=lang_1.CONST_EXPR([ng_class_1.NgClass,ng_for_1.NgFor,ng_if_1.NgIf,ng_style_1.NgStyle,ng_switch_1.NgSwitch,ng_switch_1.NgSwitchWhen,ng_switch_1.NgSwitchDefault,ng_plural_1.NgPlural,ng_plural_1.NgPluralCase])},{"./ng_class":25,"./ng_for":26,"./ng_if":27,"./ng_plural":28,"./ng_style":29,"./ng_switch":30,"angular2/src/facade/lang":195}],25:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),collection_1=require("angular2/src/facade/collection"),NgClass=function(){function NgClass(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._initialClasses=[]}return Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(v){this._applyInitialClasses(!0),this._initialClasses=lang_1.isPresent(v)&&lang_1.isString(v)?v.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"rawClass",{set:function(v){this._cleanupClasses(this._rawClass),lang_1.isString(v)&&(v=v.split(" ")),this._rawClass=v,this._iterableDiffer=null,this._keyValueDiffer=null,lang_1.isPresent(v)&&(collection_1.isListLikeIterable(v)?this._iterableDiffer=this._iterableDiffers.find(v).create(null):this._keyValueDiffer=this._keyValueDiffers.find(v).create(null))},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._iterableDiffer)){var changes=this._iterableDiffer.diff(this._rawClass);lang_1.isPresent(changes)&&this._applyIterableChanges(changes)}if(lang_1.isPresent(this._keyValueDiffer)){var changes=this._keyValueDiffer.diff(this._rawClass);lang_1.isPresent(changes)&&this._applyKeyValueChanges(changes)}},NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},NgClass.prototype._cleanupClasses=function(rawClassVal){this._applyClasses(rawClassVal,!0),this._applyInitialClasses(!1)},NgClass.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){_this._toggleClass(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){record.previousValue&&_this._toggleClass(record.key,!1)})},NgClass.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(function(record){_this._toggleClass(record.item,!1)})},NgClass.prototype._applyInitialClasses=function(isCleanup){var _this=this;this._initialClasses.forEach(function(className){return _this._toggleClass(className,!isCleanup)})},NgClass.prototype._applyClasses=function(rawClassVal,isCleanup){var _this=this;lang_1.isPresent(rawClassVal)&&(lang_1.isArray(rawClassVal)?rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)}):rawClassVal instanceof Set?rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)}):collection_1.StringMapWrapper.forEach(rawClassVal,function(expVal,className){lang_1.isPresent(expVal)&&_this._toggleClass(className,!isCleanup)}))},NgClass.prototype._toggleClass=function(className,enabled){if(className=className.trim(),className.length>0)if(className.indexOf(" ")>-1)for(var classes=className.split(/\s+/g),i=0,len=classes.length;len>i;i++)this._renderer.setElementClass(this._ngEl.nativeElement,classes[i],enabled);else this._renderer.setElementClass(this._ngEl.nativeElement,className,enabled)},NgClass=__decorate([core_1.Directive({selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}),__metadata("design:paramtypes",[core_1.IterableDiffers,core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgClass)}();exports.NgClass=NgClass},{"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],26:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("../../facade/exceptions"),NgFor=function(){function NgFor(_viewContainer,_templateRef,_iterableDiffers,_cdr){this._viewContainer=_viewContainer,this._templateRef=_templateRef,this._iterableDiffers=_iterableDiffers,this._cdr=_cdr}return Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(value){if(this._ngForOf=value,lang_1.isBlank(this._differ)&&lang_1.isPresent(value))try{this._differ=this._iterableDiffers.find(value).create(this._cdr,this._ngForTrackBy)}catch(e){throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+value+"' of type '"+lang_1.getTypeNameForDebugging(value)+"'. NgFor only supports binding to Iterables such as Arrays.")}},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(value){lang_1.isPresent(value)&&(this._templateRef=value)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(value){this._ngForTrackBy=value},enumerable:!0,configurable:!0}),NgFor.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._ngForOf);lang_1.isPresent(changes)&&this._applyChanges(changes)}},NgFor.prototype._applyChanges=function(changes){var _this=this,recordViewTuples=[];changes.forEachRemovedItem(function(removedRecord){return recordViewTuples.push(new RecordViewTuple(removedRecord,null))}),changes.forEachMovedItem(function(movedRecord){return recordViewTuples.push(new RecordViewTuple(movedRecord,null))});var insertTuples=this._bulkRemove(recordViewTuples);changes.forEachAddedItem(function(addedRecord){return insertTuples.push(new RecordViewTuple(addedRecord,null))}),this._bulkInsert(insertTuples);for(var i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(var i=0,ilen=this._viewContainer.length;ilen>i;i++){var viewRef=this._viewContainer.get(i);viewRef.setLocal("first",0===i),viewRef.setLocal("last",i===ilen-1)}changes.forEachIdentityChange(function(record){var viewRef=_this._viewContainer.get(record.currentIndex);viewRef.setLocal("$implicit",record.item)})},NgFor.prototype._perViewChange=function(view,record){view.setLocal("$implicit",record.item),view.setLocal("index",record.currentIndex),view.setLocal("even",record.currentIndex%2==0),view.setLocal("odd",record.currentIndex%2==1)},NgFor.prototype._bulkRemove=function(tuples){tuples.sort(function(a,b){return a.record.previousIndex-b.record.previousIndex});for(var movedTuples=[],i=tuples.length-1;i>=0;i--){var tuple=tuples[i];lang_1.isPresent(tuple.record.currentIndex)?(tuple.view=this._viewContainer.detach(tuple.record.previousIndex),movedTuples.push(tuple)):this._viewContainer.remove(tuple.record.previousIndex)}return movedTuples},NgFor.prototype._bulkInsert=function(tuples){tuples.sort(function(a,b){return a.record.currentIndex-b.record.currentIndex});for(var i=0;i<tuples.length;i++){var tuple=tuples[i];lang_1.isPresent(tuple.view)?this._viewContainer.insert(tuple.view,tuple.record.currentIndex):tuple.view=this._viewContainer.createEmbeddedView(this._templateRef,tuple.record.currentIndex)}return tuples},NgFor=__decorate([core_1.Directive({selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,core_1.IterableDiffers,core_1.ChangeDetectorRef])],NgFor)}();exports.NgFor=NgFor;var RecordViewTuple=function(){function RecordViewTuple(record,view){this.record=record,this.view=view}return RecordViewTuple}()},{"../../facade/exceptions":192,"angular2/core":11,"angular2/src/facade/lang":195}],27:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),NgIf=function(){function NgIf(_viewContainer,_templateRef){this._viewContainer=_viewContainer,this._templateRef=_templateRef,this._prevCondition=null}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(newCondition){!newCondition||!lang_1.isBlank(this._prevCondition)&&this._prevCondition?newCondition||!lang_1.isBlank(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),NgIf=__decorate([core_1.Directive({selector:"[ngIf]",inputs:["ngIf"]}),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef])],NgIf)}();exports.NgIf=NgIf},{"angular2/core":11,"angular2/src/facade/lang":195}],28:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),ng_switch_1=require("./ng_switch"),_CATEGORY_DEFAULT="other",NgLocalization=function(){function NgLocalization(){}return NgLocalization}();exports.NgLocalization=NgLocalization;var NgPluralCase=function(){function NgPluralCase(value,template,viewContainer){this.value=value,this._view=new ng_switch_1.SwitchView(viewContainer,template)}return NgPluralCase=__decorate([core_1.Directive({selector:"[ngPluralCase]"}),__param(0,core_1.Attribute("ngPluralCase")),__metadata("design:paramtypes",[String,core_1.TemplateRef,core_1.ViewContainerRef])],NgPluralCase)}();exports.NgPluralCase=NgPluralCase;var NgPlural=function(){function NgPlural(_localization){this._localization=_localization,this._caseViews=new collection_1.Map,this.cases=null}return Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(value){this._switchValue=value,this._updateView()},enumerable:!0,configurable:!0}),NgPlural.prototype.ngAfterContentInit=function(){var _this=this;this.cases.forEach(function(pluralCase){_this._caseViews.set(_this._formatValue(pluralCase),pluralCase._view)}),this._updateView()},NgPlural.prototype._updateView=function(){this._clearViews();var view=this._caseViews.get(this._switchValue);lang_1.isPresent(view)||(view=this._getCategoryView(this._switchValue)),this._activateView(view)},NgPlural.prototype._clearViews=function(){lang_1.isPresent(this._activeView)&&this._activeView.destroy()},NgPlural.prototype._activateView=function(view){lang_1.isPresent(view)&&(this._activeView=view,this._activeView.create())},NgPlural.prototype._getCategoryView=function(value){var category=this._localization.getPluralCategory(value),categoryView=this._caseViews.get(category);return lang_1.isPresent(categoryView)?categoryView:this._caseViews.get(_CATEGORY_DEFAULT)},NgPlural.prototype._isValueView=function(pluralCase){return"="===pluralCase.value[0]},NgPlural.prototype._formatValue=function(pluralCase){return this._isValueView(pluralCase)?this._stripValue(pluralCase.value):pluralCase.value},NgPlural.prototype._stripValue=function(value){return lang_1.NumberWrapper.parseInt(value.substring(1),10)},__decorate([core_1.ContentChildren(NgPluralCase),__metadata("design:type",core_1.QueryList)],NgPlural.prototype,"cases",void 0),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],NgPlural.prototype,"ngPlural",null),NgPlural=__decorate([core_1.Directive({selector:"[ngPlural]"}),__metadata("design:paramtypes",[NgLocalization])],NgPlural)}();exports.NgPlural=NgPlural},{"./ng_switch":30,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],29:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),NgStyle=function(){function NgStyle(_differs,_ngEl,_renderer){this._differs=_differs,this._ngEl=_ngEl,this._renderer=_renderer}return Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(v){this._rawStyle=v,lang_1.isBlank(this._differ)&&lang_1.isPresent(v)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._rawStyle);lang_1.isPresent(changes)&&this._applyChanges(changes)}},NgStyle.prototype._applyChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._setStyle(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){_this._setStyle(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){_this._setStyle(record.key,null)})},NgStyle.prototype._setStyle=function(name,val){this._renderer.setElementStyle(this._ngEl.nativeElement,name,val)},NgStyle=__decorate([core_1.Directive({selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}),__metadata("design:paramtypes",[core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgStyle)}();exports.NgStyle=NgStyle},{"angular2/core":11,"angular2/src/facade/lang":195}],30:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),_WHEN_DEFAULT=lang_1.CONST_EXPR(new Object),SwitchView=function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef}return SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()},SwitchView}();exports.SwitchView=SwitchView;var NgSwitch=function(){function NgSwitch(){this._useDefault=!1,this._valueViews=new collection_1.Map,this._activeViews=[]}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(value){this._emptyAllActiveViews(),this._useDefault=!1;var views=this._valueViews.get(value);lang_1.isBlank(views)&&(this._useDefault=!0,views=lang_1.normalizeBlank(this._valueViews.get(_WHEN_DEFAULT))),this._activateViews(views),this._switchValue=value},enumerable:!0,configurable:!0}),NgSwitch.prototype._onWhenValueChanged=function(oldWhen,newWhen,view){this._deregisterView(oldWhen,view),this._registerView(newWhen,view),oldWhen===this._switchValue?(view.destroy(),collection_1.ListWrapper.remove(this._activeViews,view)):newWhen===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),view.create(),this._activeViews.push(view)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(_WHEN_DEFAULT)))},NgSwitch.prototype._emptyAllActiveViews=function(){for(var activeContainers=this._activeViews,i=0;i<activeContainers.length;i++)activeContainers[i].destroy();this._activeViews=[]},NgSwitch.prototype._activateViews=function(views){if(lang_1.isPresent(views)){for(var i=0;i<views.length;i++)views[i].create();this._activeViews=views}},NgSwitch.prototype._registerView=function(value,view){var views=this._valueViews.get(value);lang_1.isBlank(views)&&(views=[],this._valueViews.set(value,views)),views.push(view)},NgSwitch.prototype._deregisterView=function(value,view){if(value!==_WHEN_DEFAULT){var views=this._valueViews.get(value);1==views.length?this._valueViews["delete"](value):collection_1.ListWrapper.remove(views,view)}},NgSwitch=__decorate([core_1.Directive({selector:"[ngSwitch]",inputs:["ngSwitch"]}),__metadata("design:paramtypes",[])],NgSwitch)}();exports.NgSwitch=NgSwitch;var NgSwitchWhen=function(){function NgSwitchWhen(viewContainer,templateRef,ngSwitch){this._value=_WHEN_DEFAULT,this._switch=ngSwitch,this._view=new SwitchView(viewContainer,templateRef)}return Object.defineProperty(NgSwitchWhen.prototype,"ngSwitchWhen",{set:function(value){this._switch._onWhenValueChanged(this._value,value,this._view),this._value=value},enumerable:!0,configurable:!0}),NgSwitchWhen=__decorate([core_1.Directive({selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchWhen)}();exports.NgSwitchWhen=NgSwitchWhen;var NgSwitchDefault=function(){function NgSwitchDefault(viewContainer,templateRef,sswitch){sswitch._registerView(_WHEN_DEFAULT,new SwitchView(viewContainer,templateRef))}return NgSwitchDefault=__decorate([core_1.Directive({selector:"[ngSwitchDefault]"}),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchDefault)}();exports.NgSwitchDefault=NgSwitchDefault},{"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],31:[function(require,module,exports){"use strict"},{}],32:[function(require,module,exports){"use strict";var model_1=require("./forms/model");exports.AbstractControl=model_1.AbstractControl,exports.Control=model_1.Control,exports.ControlGroup=model_1.ControlGroup,exports.ControlArray=model_1.ControlArray;var abstract_control_directive_1=require("./forms/directives/abstract_control_directive");exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var control_container_1=require("./forms/directives/control_container");exports.ControlContainer=control_container_1.ControlContainer;
var ng_control_name_1=require("./forms/directives/ng_control_name");exports.NgControlName=ng_control_name_1.NgControlName;var ng_form_control_1=require("./forms/directives/ng_form_control");exports.NgFormControl=ng_form_control_1.NgFormControl;var ng_model_1=require("./forms/directives/ng_model");exports.NgModel=ng_model_1.NgModel;var ng_control_1=require("./forms/directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_group_1=require("./forms/directives/ng_control_group");exports.NgControlGroup=ng_control_group_1.NgControlGroup;var ng_form_model_1=require("./forms/directives/ng_form_model");exports.NgFormModel=ng_form_model_1.NgFormModel;var ng_form_1=require("./forms/directives/ng_form");exports.NgForm=ng_form_1.NgForm;var control_value_accessor_1=require("./forms/directives/control_value_accessor");exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=require("./forms/directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_status_1=require("./forms/directives/ng_control_status");exports.NgControlStatus=ng_control_status_1.NgControlStatus;var checkbox_value_accessor_1=require("./forms/directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var select_control_value_accessor_1=require("./forms/directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;var directives_1=require("./forms/directives");exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES,exports.RadioButtonState=directives_1.RadioButtonState;var validators_1=require("./forms/validators");exports.NG_VALIDATORS=validators_1.NG_VALIDATORS,exports.NG_ASYNC_VALIDATORS=validators_1.NG_ASYNC_VALIDATORS,exports.Validators=validators_1.Validators;var validators_2=require("./forms/directives/validators");exports.RequiredValidator=validators_2.RequiredValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.PatternValidator=validators_2.PatternValidator;var form_builder_1=require("./forms/form_builder");exports.FormBuilder=form_builder_1.FormBuilder;var form_builder_2=require("./forms/form_builder"),radio_control_value_accessor_1=require("./forms/directives/radio_control_value_accessor"),lang_1=require("angular2/src/facade/lang");exports.FORM_PROVIDERS=lang_1.CONST_EXPR([form_builder_2.FormBuilder,radio_control_value_accessor_1.RadioControlRegistry]),exports.FORM_BINDINGS=exports.FORM_PROVIDERS},{"./forms/directives":33,"./forms/directives/abstract_control_directive":34,"./forms/directives/checkbox_value_accessor":35,"./forms/directives/control_container":36,"./forms/directives/control_value_accessor":37,"./forms/directives/default_value_accessor":38,"./forms/directives/ng_control":39,"./forms/directives/ng_control_group":40,"./forms/directives/ng_control_name":41,"./forms/directives/ng_control_status":42,"./forms/directives/ng_form":43,"./forms/directives/ng_form_control":44,"./forms/directives/ng_form_model":45,"./forms/directives/ng_model":46,"./forms/directives/radio_control_value_accessor":49,"./forms/directives/select_control_value_accessor":50,"./forms/directives/validators":52,"./forms/form_builder":53,"./forms/model":54,"./forms/validators":55,"angular2/src/facade/lang":195}],33:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),ng_control_name_1=require("./directives/ng_control_name"),ng_form_control_1=require("./directives/ng_form_control"),ng_model_1=require("./directives/ng_model"),ng_control_group_1=require("./directives/ng_control_group"),ng_form_model_1=require("./directives/ng_form_model"),ng_form_1=require("./directives/ng_form"),default_value_accessor_1=require("./directives/default_value_accessor"),checkbox_value_accessor_1=require("./directives/checkbox_value_accessor"),number_value_accessor_1=require("./directives/number_value_accessor"),radio_control_value_accessor_1=require("./directives/radio_control_value_accessor"),ng_control_status_1=require("./directives/ng_control_status"),select_control_value_accessor_1=require("./directives/select_control_value_accessor"),validators_1=require("./directives/validators"),ng_control_name_2=require("./directives/ng_control_name");exports.NgControlName=ng_control_name_2.NgControlName;var ng_form_control_2=require("./directives/ng_form_control");exports.NgFormControl=ng_form_control_2.NgFormControl;var ng_model_2=require("./directives/ng_model");exports.NgModel=ng_model_2.NgModel;var ng_control_group_2=require("./directives/ng_control_group");exports.NgControlGroup=ng_control_group_2.NgControlGroup;var ng_form_model_2=require("./directives/ng_form_model");exports.NgFormModel=ng_form_model_2.NgFormModel;var ng_form_2=require("./directives/ng_form");exports.NgForm=ng_form_2.NgForm;var default_value_accessor_2=require("./directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var checkbox_value_accessor_2=require("./directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var radio_control_value_accessor_2=require("./directives/radio_control_value_accessor");exports.RadioControlValueAccessor=radio_control_value_accessor_2.RadioControlValueAccessor,exports.RadioButtonState=radio_control_value_accessor_2.RadioButtonState;var number_value_accessor_2=require("./directives/number_value_accessor");exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var ng_control_status_2=require("./directives/ng_control_status");exports.NgControlStatus=ng_control_status_2.NgControlStatus;var select_control_value_accessor_2=require("./directives/select_control_value_accessor");exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor,exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption;var validators_2=require("./directives/validators");exports.RequiredValidator=validators_2.RequiredValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.PatternValidator=validators_2.PatternValidator;var ng_control_1=require("./directives/ng_control");exports.NgControl=ng_control_1.NgControl,exports.FORM_DIRECTIVES=lang_1.CONST_EXPR([ng_control_name_1.NgControlName,ng_control_group_1.NgControlGroup,ng_form_control_1.NgFormControl,ng_model_1.NgModel,ng_form_model_1.NgFormModel,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,radio_control_value_accessor_1.RadioControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator,validators_1.PatternValidator])},{"./directives/checkbox_value_accessor":35,"./directives/default_value_accessor":38,"./directives/ng_control":39,"./directives/ng_control_group":40,"./directives/ng_control_name":41,"./directives/ng_control_status":42,"./directives/ng_form":43,"./directives/ng_form_control":44,"./directives/ng_form_model":45,"./directives/ng_model":46,"./directives/number_value_accessor":48,"./directives/radio_control_value_accessor":49,"./directives/select_control_value_accessor":50,"./directives/validators":52,"angular2/src/facade/lang":195}],34:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),AbstractControlDirective=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective}();exports.AbstractControlDirective=AbstractControlDirective},{"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],35:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),control_value_accessor_1=require("./control_value_accessor"),lang_1=require("angular2/src/facade/lang"),CHECKBOX_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor}),multi:!0})),CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",value)},CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},CheckboxControlValueAccessor=__decorate([core_1.Directive({selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[CHECKBOX_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],CheckboxControlValueAccessor)}();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor},{"./control_value_accessor":37,"angular2/core":11,"angular2/src/facade/lang":195}],36:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstract_control_directive_1=require("./abstract_control_directive"),ControlContainer=function(_super){function ControlContainer(){_super.apply(this,arguments)}return __extends(ControlContainer,_super),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(abstract_control_directive_1.AbstractControlDirective);exports.ControlContainer=ControlContainer},{"./abstract_control_directive":34}],37:[function(require,module,exports){"use strict";var core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang");exports.NG_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValueAccessor"))},{"angular2/core":11,"angular2/src/facade/lang":195}],38:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),control_value_accessor_1=require("./control_value_accessor"),lang_1=require("angular2/src/facade/lang"),DEFAULT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return DefaultValueAccessor}),multi:!0})),DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=lang_1.isBlank(value)?"":value;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",normalizedValue)},DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},DefaultValueAccessor=__decorate([core_1.Directive({selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[DEFAULT_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],DefaultValueAccessor)}();exports.DefaultValueAccessor=DefaultValueAccessor},{"./control_value_accessor":37,"angular2/core":11,"angular2/src/facade/lang":195}],39:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},abstract_control_directive_1=require("./abstract_control_directive"),exceptions_1=require("angular2/src/facade/exceptions"),NgControl=function(_super){function NgControl(){_super.apply(this,arguments),this.name=null,this.valueAccessor=null}return __extends(NgControl,_super),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),NgControl}(abstract_control_directive_1.AbstractControlDirective);exports.NgControl=NgControl},{"./abstract_control_directive":34,"angular2/src/facade/exceptions":192}],40:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),control_container_1=require("./control_container"),shared_1=require("./shared"),validators_1=require("../validators"),controlGroupProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgControlGroup})})),NgControlGroup=function(_super){function NgControlGroup(parent,_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._parent=parent}return __extends(NgControlGroup,_super),NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgControlGroup=__decorate([core_1.Directive({selector:"[ngControlGroup]",providers:[controlGroupProvider],inputs:["name: ngControlGroup"],exportAs:"ngForm"}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[control_container_1.ControlContainer,Array,Array])],NgControlGroup)}(control_container_1.ControlContainer);exports.NgControlGroup=NgControlGroup},{"../validators":55,"./control_container":36,"./shared":51,"angular2/core":11,"angular2/src/facade/lang":195}],41:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),core_1=require("angular2/core"),control_container_1=require("./control_container"),ng_control_1=require("./ng_control"),control_value_accessor_1=require("./control_value_accessor"),shared_1=require("./shared"),validators_1=require("../validators"),controlNameBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgControlName})})),NgControlName=function(_super){function NgControlName(_parent,_validators,_asyncValidators,valueAccessors){_super.call(this),this._parent=_parent,this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this._added=!1,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgControlName,_super),NgControlName.prototype.ngOnChanges=function(changes){this._added||(this.formDirective.addControl(this),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},NgControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},Object.defineProperty(NgControlName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),NgControlName=__decorate([core_1.Directive({selector:"[ngControl]",bindings:[controlNameBinding],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(3,core_1.Optional()),__param(3,core_1.Self()),__param(3,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[control_container_1.ControlContainer,Array,Array,Array])],NgControlName)}(ng_control_1.NgControl);exports.NgControlName=NgControlName},{"../validators":55,"./control_container":36,"./control_value_accessor":37,"./ng_control":39,"./shared":51,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/lang":195}],42:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),ng_control_1=require("./ng_control"),lang_1=require("angular2/src/facade/lang"),NgControlStatus=function(){function NgControlStatus(cd){this._cd=cd}return Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.untouched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.touched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.pristine:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.dirty:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.valid:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return lang_1.isPresent(this._cd.control)?!this._cd.control.valid:!1},enumerable:!0,configurable:!0}),NgControlStatus=__decorate([core_1.Directive({selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),__param(0,core_1.Self()),__metadata("design:paramtypes",[ng_control_1.NgControl])],NgControlStatus)}();exports.NgControlStatus=NgControlStatus},{"./ng_control":39,"angular2/core":11,"angular2/src/facade/lang":195}],43:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},async_1=require("angular2/src/facade/async"),collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),control_container_1=require("./control_container"),model_1=require("../model"),shared_1=require("./shared"),validators_1=require("../validators"),formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgForm})})),NgForm=function(_super){function NgForm(validators,asyncValidators){_super.call(this),this.ngSubmit=new async_1.EventEmitter,this.form=new model_1.ControlGroup({},null,shared_1.composeValidators(validators),shared_1.composeAsyncValidators(asyncValidators))}return __extends(NgForm,_super),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),ctrl=new model_1.Control;shared_1.setUpControl(ctrl,dir),container.addControl(dir.name,ctrl),ctrl.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(dir){return this.form.find(dir.path)},NgForm.prototype.removeControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&(container.removeControl(dir.name),container.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.addControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),group=new model_1.ControlGroup({});shared_1.setUpControlGroup(group,dir),container.addControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&(container.removeControl(dir.name),container.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.getControlGroup=function(dir){return this.form.find(dir.path)},NgForm.prototype.updateModel=function(dir,value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var ctrl=_this.form.find(dir.path);ctrl.updateValue(value)})},NgForm.prototype.onSubmit=function(){return async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgForm.prototype._findContainer=function(path){return path.pop(),collection_1.ListWrapper.isEmpty(path)?this.form:this.form.find(path)},NgForm=__decorate([core_1.Directive({selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[formDirectiveProvider],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[Array,Array])],NgForm)}(control_container_1.ControlContainer);exports.NgForm=NgForm},{"../model":54,"../validators":55,"./control_container":36,"./shared":51,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],44:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),async_1=require("angular2/src/facade/async"),core_1=require("angular2/core"),ng_control_1=require("./ng_control"),validators_1=require("../validators"),control_value_accessor_1=require("./control_value_accessor"),shared_1=require("./shared"),formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){
return NgFormControl})})),NgFormControl=function(_super){function NgFormControl(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgFormControl,_super),NgFormControl.prototype.ngOnChanges=function(changes){this._isControlChanged(changes)&&(shared_1.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),NgFormControl.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgFormControl.prototype._isControlChanged=function(changes){return collection_1.StringMapWrapper.contains(changes,"form")},NgFormControl=__decorate([core_1.Directive({selector:"[ngFormControl]",bindings:[formControlBinding],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[Array,Array,Array])],NgFormControl)}(ng_control_1.NgControl);exports.NgFormControl=NgFormControl},{"../validators":55,"./control_value_accessor":37,"./ng_control":39,"./shared":51,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],45:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),async_1=require("angular2/src/facade/async"),core_1=require("angular2/core"),control_container_1=require("./control_container"),shared_1=require("./shared"),validators_1=require("../validators"),formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgFormModel})})),NgFormModel=function(_super){function NgFormModel(_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this.form=null,this.directives=[],this.ngSubmit=new async_1.EventEmitter}return __extends(NgFormModel,_super),NgFormModel.prototype.ngOnChanges=function(changes){if(collection_1.StringMapWrapper.contains(changes,"form")){var sync=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,sync]);var async=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,async]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),NgFormModel.prototype.addControl=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir)},NgFormModel.prototype.getControl=function(dir){return this.form.find(dir.path)},NgFormModel.prototype.removeControl=function(dir){collection_1.ListWrapper.remove(this.directives,dir)},NgFormModel.prototype.addControlGroup=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControlGroup(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},NgFormModel.prototype.removeControlGroup=function(dir){},NgFormModel.prototype.getControlGroup=function(dir){return this.form.find(dir.path)},NgFormModel.prototype.updateModel=function(dir,value){var ctrl=this.form.find(dir.path);ctrl.updateValue(value)},NgFormModel.prototype.onSubmit=function(){return async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgFormModel.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var ctrl=_this.form.find(dir.path);dir.valueAccessor.writeValue(ctrl.value)})},NgFormModel=__decorate([core_1.Directive({selector:"[ngFormModel]",bindings:[formDirectiveProvider],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[Array,Array])],NgFormModel)}(control_container_1.ControlContainer);exports.NgFormModel=NgFormModel},{"../validators":55,"./control_container":36,"./shared":51,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],46:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),core_1=require("angular2/core"),control_value_accessor_1=require("./control_value_accessor"),ng_control_1=require("./ng_control"),model_1=require("../model"),validators_1=require("../validators"),shared_1=require("./shared"),formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgModel})})),NgModel=function(_super){function NgModel(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._control=new model_1.Control,this._added=!1,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgModel,_super),NgModel.prototype.ngOnChanges=function(changes){this._added||(shared_1.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgModel=__decorate([core_1.Directive({selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[formControlBinding],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[Array,Array,Array])],NgModel)}(ng_control_1.NgControl);exports.NgModel=NgModel},{"../model":54,"../validators":55,"./control_value_accessor":37,"./ng_control":39,"./shared":51,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/lang":195}],47:[function(require,module,exports){"use strict";function normalizeValidator(validator){return void 0!==validator.validate?function(c){return validator.validate(c)}:validator}function normalizeAsyncValidator(validator){return void 0!==validator.validate?function(c){return Promise.resolve(validator.validate(c))}:validator}exports.normalizeValidator=normalizeValidator,exports.normalizeAsyncValidator=normalizeAsyncValidator},{}],48:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),control_value_accessor_1=require("./control_value_accessor"),lang_1=require("angular2/src/facade/lang"),NUMBER_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return NumberValueAccessor}),multi:!0})),NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)},NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(lang_1.NumberWrapper.parseFloat(value))}},NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},NumberValueAccessor=__decorate([core_1.Directive({selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[NUMBER_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],NumberValueAccessor)}();exports.NumberValueAccessor=NumberValueAccessor},{"./control_value_accessor":37,"angular2/core":11,"angular2/src/facade/lang":195}],49:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor"),ng_control_1=require("angular2/src/common/forms/directives/ng_control"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),RADIO_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return RadioControlValueAccessor}),multi:!0})),RadioControlRegistry=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor])},RadioControlRegistry.prototype.remove=function(accessor){for(var indexToRemove=-1,i=0;i<this._accessors.length;++i)this._accessors[i][1]===accessor&&(indexToRemove=i);collection_1.ListWrapper.removeAt(this._accessors,indexToRemove)},RadioControlRegistry.prototype.select=function(accessor){this._accessors.forEach(function(c){c[0].control.root===accessor._control.control.root&&c[1]!==accessor&&c[1].fireUncheck()})},RadioControlRegistry=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],RadioControlRegistry)}();exports.RadioControlRegistry=RadioControlRegistry;var RadioButtonState=function(){function RadioButtonState(checked,value){this.checked=checked,this.value=value}return RadioButtonState}();exports.RadioButtonState=RadioButtonState;var RadioControlValueAccessor=function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(ng_control_1.NgControl),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value,lang_1.isPresent(value)&&value.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(){fn(new RadioButtonState(!0,_this._state.value)),_this._registry.select(_this)}},RadioControlValueAccessor.prototype.fireUncheck=function(){this._fn(new RadioButtonState(!1,this._state.value))},RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},__decorate([core_1.Input(),__metadata("design:type",String)],RadioControlValueAccessor.prototype,"name",void 0),RadioControlValueAccessor=__decorate([core_1.Directive({selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[RADIO_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,RadioControlRegistry,core_1.Injector])],RadioControlValueAccessor)}();exports.RadioControlValueAccessor=RadioControlValueAccessor},{"angular2/core":11,"angular2/src/common/forms/directives/control_value_accessor":37,"angular2/src/common/forms/directives/ng_control":39,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],50:[function(require,module,exports){"use strict";function _buildValueString(id,value){return lang_1.isBlank(id)?""+value:(lang_1.isPrimitive(value)||(value="Object"),lang_1.StringWrapper.slice(id+": "+value,0,50))}function _extractId(valueString){return valueString.split(":")[0]}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),control_value_accessor_1=require("./control_value_accessor"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),SELECT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor}),multi:!0})),SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=function(_){},this.onTouched=function(){}}return SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;var valueString=_buildValueString(this._getOptionId(value),value);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",valueString)},SelectControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this.onChange=function(valueString){fn(_this._getOptionValue(valueString))}},SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(value){for(var _i=0,_a=collection_1.MapWrapper.keys(this._optionMap);_i<_a.length;_i++){var id=_a[_i];if(lang_1.looseIdentical(this._optionMap.get(id),value))return id}return null},SelectControlValueAccessor.prototype._getOptionValue=function(valueString){var value=this._optionMap.get(_extractId(valueString));return lang_1.isPresent(value)?value:valueString},SelectControlValueAccessor=__decorate([core_1.Directive({selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[SELECT_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],SelectControlValueAccessor)}();exports.SelectControlValueAccessor=SelectControlValueAccessor;var NgSelectOption=function(){function NgSelectOption(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,lang_1.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(value){this._setElementValue(value),lang_1.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(value){this._renderer.setElementProperty(this._element.nativeElement,"value",value)},NgSelectOption.prototype.ngOnDestroy=function(){lang_1.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},__decorate([core_1.Input("ngValue"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],NgSelectOption.prototype,"ngValue",null),__decorate([core_1.Input("value"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],NgSelectOption.prototype,"value",null),NgSelectOption=__decorate([core_1.Directive({selector:"option"}),__param(2,core_1.Optional()),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,SelectControlValueAccessor])],NgSelectOption)}();exports.NgSelectOption=NgSelectOption},{"./control_value_accessor":37,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],51:[function(require,module,exports){"use strict";function controlPath(name,parent){var p=collection_1.ListWrapper.clone(parent.path);return p.push(name),p}function setUpControl(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),lang_1.isBlank(dir.valueAccessor)&&_throwError(dir,"No value accessor for"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue),control.updateValue(newValue,{emitModelToViewChange:!1}),control.markAsDirty()}),control.registerOnChange(function(newValue){return dir.valueAccessor.writeValue(newValue)}),dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched()})}function setUpControlGroup(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _throwError(dir,message){var path=dir.path.join(" -> ");throw new exceptions_1.BaseException(message+" '"+path+"'")}function composeValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)):null}function composeAsyncValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!collection_1.StringMapWrapper.contains(changes,"model"))return!1;var change=changes.model;return change.isFirstChange()?!0:!lang_1.looseIdentical(viewModel,change.currentValue)}function selectValueAccessor(dir,valueAccessors){if(lang_1.isBlank(valueAccessors))return null;var defaultAccessor,builtinAccessor,customAccessor;return valueAccessors.forEach(function(v){lang_1.hasConstructor(v,default_value_accessor_1.DefaultValueAccessor)?defaultAccessor=v:lang_1.hasConstructor(v,checkbox_value_accessor_1.CheckboxControlValueAccessor)||lang_1.hasConstructor(v,number_value_accessor_1.NumberValueAccessor)||lang_1.hasConstructor(v,select_control_value_accessor_1.SelectControlValueAccessor)||lang_1.hasConstructor(v,radio_control_value_accessor_1.RadioControlValueAccessor)?(lang_1.isPresent(builtinAccessor)&&_throwError(dir,"More than one built-in value accessor matches"),builtinAccessor=v):(lang_1.isPresent(customAccessor)&&_throwError(dir,"More than one custom value accessor matches"),customAccessor=v)}),lang_1.isPresent(customAccessor)?customAccessor:lang_1.isPresent(builtinAccessor)?builtinAccessor:lang_1.isPresent(defaultAccessor)?defaultAccessor:(_throwError(dir,"No valid value accessor for"),null)}var collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),validators_1=require("../validators"),default_value_accessor_1=require("./default_value_accessor"),number_value_accessor_1=require("./number_value_accessor"),checkbox_value_accessor_1=require("./checkbox_value_accessor"),select_control_value_accessor_1=require("./select_control_value_accessor"),radio_control_value_accessor_1=require("./radio_control_value_accessor"),normalize_validator_1=require("./normalize_validator");exports.controlPath=controlPath,exports.setUpControl=setUpControl,exports.setUpControlGroup=setUpControlGroup,exports.composeValidators=composeValidators,exports.composeAsyncValidators=composeAsyncValidators,exports.isPropertyUpdated=isPropertyUpdated,exports.selectValueAccessor=selectValueAccessor},{"../validators":55,"./checkbox_value_accessor":35,"./default_value_accessor":38,"./normalize_validator":47,"./number_value_accessor":48,"./radio_control_value_accessor":49,"./select_control_value_accessor":50,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],52:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),validators_1=require("../validators"),lang_2=require("angular2/src/facade/lang"),REQUIRED=validators_1.Validators.required,REQUIRED_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useValue:REQUIRED,multi:!0})),RequiredValidator=function(){function RequiredValidator(){}return RequiredValidator=__decorate([core_1.Directive({selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[REQUIRED_VALIDATOR]}),__metadata("design:paramtypes",[])],RequiredValidator)}();exports.RequiredValidator=RequiredValidator;var MIN_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MinLengthValidator}),multi:!0})),MinLengthValidator=function(){function MinLengthValidator(minLength){this._validator=validators_1.Validators.minLength(lang_2.NumberWrapper.parseInt(minLength,10))}return MinLengthValidator.prototype.validate=function(c){return this._validator(c)},MinLengthValidator=__decorate([core_1.Directive({selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[MIN_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("minlength")),__metadata("design:paramtypes",[String])],MinLengthValidator)}();exports.MinLengthValidator=MinLengthValidator;var MAX_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MaxLengthValidator}),multi:!0})),MaxLengthValidator=function(){function MaxLengthValidator(maxLength){this._validator=validators_1.Validators.maxLength(lang_2.NumberWrapper.parseInt(maxLength,10))}return MaxLengthValidator.prototype.validate=function(c){return this._validator(c)},MaxLengthValidator=__decorate([core_1.Directive({selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[MAX_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("maxlength")),__metadata("design:paramtypes",[String])],MaxLengthValidator)}();exports.MaxLengthValidator=MaxLengthValidator;var PATTERN_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return PatternValidator}),multi:!0})),PatternValidator=function(){function PatternValidator(pattern){this._validator=validators_1.Validators.pattern(pattern)}return PatternValidator.prototype.validate=function(c){return this._validator(c)},PatternValidator=__decorate([core_1.Directive({selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[PATTERN_VALIDATOR]}),__param(0,core_1.Attribute("pattern")),__metadata("design:paramtypes",[String])],PatternValidator)}();exports.PatternValidator=PatternValidator},{"../validators":55,"angular2/core":11,"angular2/src/facade/lang":195}],53:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),modelModule=require("./model"),FormBuilder=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(controlsConfig,extra){void 0===extra&&(extra=null);var controls=this._reduceControls(controlsConfig),optionals=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"optionals"):null,validator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"validator"):null,asyncValidator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"asyncValidator"):null;return new modelModule.ControlGroup(controls,optionals,validator,asyncValidator)},FormBuilder.prototype.control=function(value,validator,asyncValidator){return void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),new modelModule.Control(value,validator,asyncValidator)},FormBuilder.prototype.array=function(controlsConfig,validator,asyncValidator){var _this=this;void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null);var controls=controlsConfig.map(function(c){return _this._createControl(c)});return new modelModule.ControlArray(controls,validator,asyncValidator)},FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this,controls={};return collection_1.StringMapWrapper.forEach(controlsConfig,function(controlConfig,controlName){controls[controlName]=_this._createControl(controlConfig)}),controls},FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof modelModule.Control||controlConfig instanceof modelModule.ControlGroup||controlConfig instanceof modelModule.ControlArray)return controlConfig;if(lang_1.isArray(controlConfig)){var value=controlConfig[0],validator=controlConfig.length>1?controlConfig[1]:null,asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controlConfig);
},FormBuilder=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],FormBuilder)}();exports.FormBuilder=FormBuilder},{"./model":54,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],54:[function(require,module,exports){"use strict";function isControl(control){return control instanceof AbstractControl}function _find(control,path){return lang_1.isBlank(path)?null:(path instanceof Array||(path=path.split("/")),path instanceof Array&&collection_1.ListWrapper.isEmpty(path)?null:path.reduce(function(v,name){if(v instanceof ControlGroup)return lang_1.isPresent(v.controls[name])?v.controls[name]:null;if(v instanceof ControlArray){var index=name;return lang_1.isPresent(v.at(index))?v.at(index):null}return null},control))}function toObservable(r){return promise_1.PromiseWrapper.isPromise(r)?async_1.ObservableWrapper.fromPromise(r):r}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),promise_1=require("angular2/src/facade/promise"),collection_1=require("angular2/src/facade/collection");exports.VALID="VALID",exports.INVALID="INVALID",exports.PENDING="PENDING",exports.isControl=isControl;var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._pristine=!0,this._touched=!1}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===exports.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==exports.PENDING},enumerable:!0,configurable:!0}),AbstractControl.prototype.markAsTouched=function(){this._touched=!0},AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._pristine=!1,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsDirty({onlySelf:onlySelf})},AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._status=exports.PENDING,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsPending({onlySelf:onlySelf})},AbstractControl.prototype.setParent=function(parent){this._parent=parent},AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;onlySelf=lang_1.normalizeBool(onlySelf),emitEvent=lang_1.isPresent(emitEvent)?emitEvent:!0,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=exports.VALID&&this._status!=exports.PENDING||this._runAsyncValidator(emitEvent),emitEvent&&(async_1.ObservableWrapper.callEmit(this._valueChanges,this._value),async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)),lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},AbstractControl.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING,this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(obs,function(res){return _this.setErrors(res,{emitEvent:emitEvent})})}},AbstractControl.prototype._cancelExistingSubscription=function(){lang_1.isPresent(this._asyncValidationSubscription)&&async_1.ObservableWrapper.dispose(this._asyncValidationSubscription)},AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(void 0===_a?{}:_a).emitEvent;emitEvent=lang_1.isPresent(emitEvent)?emitEvent:!0,this._errors=errors,this._status=this._calculateStatus(),emitEvent&&async_1.ObservableWrapper.callEmit(this._statusChanges,this._status),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype.find=function(path){return _find(this,path)},AbstractControl.prototype.getError=function(errorCode,path){void 0===path&&(path=null);var control=lang_1.isPresent(path)&&!collection_1.ListWrapper.isEmpty(path)?this.find(path):this;return lang_1.isPresent(control)&&lang_1.isPresent(control._errors)?collection_1.StringMapWrapper.get(control._errors,errorCode):null},AbstractControl.prototype.hasError=function(errorCode,path){return void 0===path&&(path=null),lang_1.isPresent(this.getError(errorCode,path))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var x=this;lang_1.isPresent(x._parent);)x=x._parent;return x},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter,this._statusChanges=new async_1.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return lang_1.isPresent(this._errors)?exports.INVALID:this._anyControlsHaveStatus(exports.PENDING)?exports.PENDING:this._anyControlsHaveStatus(exports.INVALID)?exports.INVALID:exports.VALID},AbstractControl}();exports.AbstractControl=AbstractControl;var Control=function(_super){function Control(value,validator,asyncValidator){void 0===value&&(value=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this._value=value,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(Control,_super),Control.prototype.updateValue=function(value,_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange;emitModelToViewChange=lang_1.isPresent(emitModelToViewChange)?emitModelToViewChange:!0,this._value=value,lang_1.isPresent(this._onChange)&&emitModelToViewChange&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},Control.prototype._updateValue=function(){},Control.prototype._anyControlsHaveStatus=function(status){return!1},Control.prototype.registerOnChange=function(fn){this._onChange=fn},Control}(AbstractControl);exports.Control=Control;var ControlGroup=function(_super){function ControlGroup(controls,optionals,validator,asyncValidator){void 0===optionals&&(optionals=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._optionals=lang_1.isPresent(optionals)?optionals:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(ControlGroup,_super),ControlGroup.prototype.addControl=function(name,control){this.controls[name]=control,control.setParent(this)},ControlGroup.prototype.removeControl=function(name){collection_1.StringMapWrapper["delete"](this.controls,name)},ControlGroup.prototype.include=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!0),this.updateValueAndValidity()},ControlGroup.prototype.exclude=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!1),this.updateValueAndValidity()},ControlGroup.prototype.contains=function(controlName){var c=collection_1.StringMapWrapper.contains(this.controls,controlName);return c&&this._included(controlName)},ControlGroup.prototype._setParentForControls=function(){var _this=this;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){control.setParent(_this)})},ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue()},ControlGroup.prototype._anyControlsHaveStatus=function(status){var _this=this,res=!1;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){res=res||_this.contains(name)&&control.status==status}),res},ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(acc,control,name){return acc[name]=control.value,acc})},ControlGroup.prototype._reduceChildren=function(initValue,fn){var _this=this,res=initValue;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){_this._included(name)&&(res=fn(res,control,name))}),res},ControlGroup.prototype._included=function(controlName){var isOptional=collection_1.StringMapWrapper.contains(this._optionals,controlName);return!isOptional||collection_1.StringMapWrapper.get(this._optionals,controlName)},ControlGroup}(AbstractControl);exports.ControlGroup=ControlGroup;var ControlArray=function(_super){function ControlArray(controls,validator,asyncValidator){void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(ControlArray,_super),ControlArray.prototype.at=function(index){return this.controls[index]},ControlArray.prototype.push=function(control){this.controls.push(control),control.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.insert=function(index,control){collection_1.ListWrapper.insert(this.controls,index,control),control.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.removeAt=function(index){collection_1.ListWrapper.removeAt(this.controls,index),this.updateValueAndValidity()},Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(control){return control.value})},ControlArray.prototype._anyControlsHaveStatus=function(status){return this.controls.some(function(c){return c.status==status})},ControlArray.prototype._setParentForControls=function(){var _this=this;this.controls.forEach(function(control){control.setParent(_this)})},ControlArray}(AbstractControl);exports.ControlArray=ControlArray},{"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/facade/promise":197}],55:[function(require,module,exports){"use strict";function _convertToPromise(obj){return promise_1.PromiseWrapper.isPromise(obj)?obj:async_1.ObservableWrapper.toPromise(obj)}function _executeValidators(control,validators){return validators.map(function(v){return v(control)})}function _executeAsyncValidators(control,validators){return validators.map(function(v){return v(control)})}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return lang_1.isPresent(errors)?collection_1.StringMapWrapper.merge(res,errors):res},{});return collection_1.StringMapWrapper.isEmpty(res)?null:res}var lang_1=require("angular2/src/facade/lang"),promise_1=require("angular2/src/facade/promise"),async_1=require("angular2/src/facade/async"),collection_1=require("angular2/src/facade/collection"),core_1=require("angular2/core");exports.NG_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValidators")),exports.NG_ASYNC_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgAsyncValidators"));var Validators=function(){function Validators(){}return Validators.required=function(control){return lang_1.isBlank(control.value)||lang_1.isString(control.value)&&""==control.value?{required:!0}:null},Validators.minLength=function(minLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length<minLength?{minlength:{requiredLength:minLength,actualLength:v.length}}:null}},Validators.maxLength=function(maxLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:v.length}}:null}},Validators.pattern=function(pattern){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var regex=new RegExp("^"+pattern+"$"),v=control.value;return regex.test(v)?null:{pattern:{requiredPattern:"^"+pattern+"$",actualValue:v}}}},Validators.nullValidator=function(c){return null},Validators.compose=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(_executeValidators(control,presentValidators))}},Validators.composeAsync=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){var promises=_executeAsyncValidators(control,presentValidators).map(_convertToPromise);return promise_1.PromiseWrapper.all(promises).then(_mergeErrors)}},Validators}();exports.Validators=Validators},{"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/facade/promise":197}],56:[function(require,module,exports){"use strict";var async_pipe_1=require("./pipes/async_pipe");exports.AsyncPipe=async_pipe_1.AsyncPipe;var date_pipe_1=require("./pipes/date_pipe");exports.DatePipe=date_pipe_1.DatePipe;var json_pipe_1=require("./pipes/json_pipe");exports.JsonPipe=json_pipe_1.JsonPipe;var slice_pipe_1=require("./pipes/slice_pipe");exports.SlicePipe=slice_pipe_1.SlicePipe;var lowercase_pipe_1=require("./pipes/lowercase_pipe");exports.LowerCasePipe=lowercase_pipe_1.LowerCasePipe;var number_pipe_1=require("./pipes/number_pipe");exports.NumberPipe=number_pipe_1.NumberPipe,exports.DecimalPipe=number_pipe_1.DecimalPipe,exports.PercentPipe=number_pipe_1.PercentPipe,exports.CurrencyPipe=number_pipe_1.CurrencyPipe;var uppercase_pipe_1=require("./pipes/uppercase_pipe");exports.UpperCasePipe=uppercase_pipe_1.UpperCasePipe;var replace_pipe_1=require("./pipes/replace_pipe");exports.ReplacePipe=replace_pipe_1.ReplacePipe;var i18n_plural_pipe_1=require("./pipes/i18n_plural_pipe");exports.I18nPluralPipe=i18n_plural_pipe_1.I18nPluralPipe;var i18n_select_pipe_1=require("./pipes/i18n_select_pipe");exports.I18nSelectPipe=i18n_select_pipe_1.I18nSelectPipe;var common_pipes_1=require("./pipes/common_pipes");exports.COMMON_PIPES=common_pipes_1.COMMON_PIPES},{"./pipes/async_pipe":57,"./pipes/common_pipes":58,"./pipes/date_pipe":59,"./pipes/i18n_plural_pipe":60,"./pipes/i18n_select_pipe":61,"./pipes/json_pipe":63,"./pipes/lowercase_pipe":64,"./pipes/number_pipe":65,"./pipes/replace_pipe":66,"./pipes/slice_pipe":67,"./pipes/uppercase_pipe":68}],57:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),ObservableStrategy=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async_1.ObservableWrapper.subscribe(async,updateLatestValue,function(e){throw e})},ObservableStrategy.prototype.dispose=function(subscription){async_1.ObservableWrapper.dispose(subscription)},ObservableStrategy.prototype.onDestroy=function(subscription){async_1.ObservableWrapper.dispose(subscription)},ObservableStrategy}(),PromiseStrategy=function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue)},PromiseStrategy.prototype.dispose=function(subscription){},PromiseStrategy.prototype.onDestroy=function(subscription){},PromiseStrategy}(),_promiseStrategy=new PromiseStrategy,_observableStrategy=new ObservableStrategy,AsyncPipe=function(){function AsyncPipe(_ref){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=_ref}return AsyncPipe.prototype.ngOnDestroy=function(){lang_1.isPresent(this._subscription)&&this._dispose()},AsyncPipe.prototype.transform=function(obj,args){return lang_1.isBlank(this._obj)?(lang_1.isPresent(obj)&&this._subscribe(obj),this._latestReturnedValue=this._latestValue,this._latestValue):obj!==this._obj?(this._dispose(),this.transform(obj)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,core_1.WrappedValue.wrap(this._latestValue))},AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value)})},AsyncPipe.prototype._selectStrategy=function(obj){if(lang_1.isPromise(obj))return _promiseStrategy;if(async_1.ObservableWrapper.isObservable(obj))return _observableStrategy;throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(AsyncPipe,obj)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())},AsyncPipe=__decorate([core_1.Pipe({name:"async",pure:!1}),core_1.Injectable(),__metadata("design:paramtypes",[core_1.ChangeDetectorRef])],AsyncPipe)}();exports.AsyncPipe=AsyncPipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/lang":195}],58:[function(require,module,exports){"use strict";var async_pipe_1=require("./async_pipe"),uppercase_pipe_1=require("./uppercase_pipe"),lowercase_pipe_1=require("./lowercase_pipe"),json_pipe_1=require("./json_pipe"),slice_pipe_1=require("./slice_pipe"),date_pipe_1=require("./date_pipe"),number_pipe_1=require("./number_pipe"),replace_pipe_1=require("./replace_pipe"),i18n_plural_pipe_1=require("./i18n_plural_pipe"),i18n_select_pipe_1=require("./i18n_select_pipe"),lang_1=require("angular2/src/facade/lang");exports.COMMON_PIPES=lang_1.CONST_EXPR([async_pipe_1.AsyncPipe,uppercase_pipe_1.UpperCasePipe,lowercase_pipe_1.LowerCasePipe,json_pipe_1.JsonPipe,slice_pipe_1.SlicePipe,number_pipe_1.DecimalPipe,number_pipe_1.PercentPipe,number_pipe_1.CurrencyPipe,date_pipe_1.DatePipe,replace_pipe_1.ReplacePipe,i18n_plural_pipe_1.I18nPluralPipe,i18n_select_pipe_1.I18nSelectPipe])},{"./async_pipe":57,"./date_pipe":59,"./i18n_plural_pipe":60,"./i18n_select_pipe":61,"./json_pipe":63,"./lowercase_pipe":64,"./number_pipe":65,"./replace_pipe":66,"./slice_pipe":67,"./uppercase_pipe":68,"angular2/src/facade/lang":195}],59:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),intl_1=require("angular2/src/facade/intl"),core_1=require("angular2/core"),collection_1=require("angular2/src/facade/collection"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),defaultLocale="en-US",DatePipe=function(){function DatePipe(){}return DatePipe.prototype.transform=function(value,args){if(lang_1.isBlank(value))return null;if(!this.supports(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(DatePipe,value);var pattern=lang_1.isPresent(args)&&args.length>0?args[0]:"mediumDate";return lang_1.isNumber(value)&&(value=lang_1.DateWrapper.fromMillis(value)),collection_1.StringMapWrapper.contains(DatePipe._ALIASES,pattern)&&(pattern=collection_1.StringMapWrapper.get(DatePipe._ALIASES,pattern)),intl_1.DateFormatter.format(value,defaultLocale,pattern)},DatePipe.prototype.supports=function(obj){return lang_1.isDate(obj)||lang_1.isNumber(obj)},DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DatePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"date",pure:!0}),core_1.Injectable(),__metadata("design:paramtypes",[])],DatePipe)}();exports.DatePipe=DatePipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/intl":194,"angular2/src/facade/lang":195}],60:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),interpolationExp=lang_1.RegExpWrapper.create("#"),I18nPluralPipe=function(){function I18nPluralPipe(){}return I18nPluralPipe.prototype.transform=function(value,args){void 0===args&&(args=null);var key,valueStr,pluralMap=args[0];if(!lang_1.isStringMap(pluralMap))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nPluralPipe,pluralMap);return key=0===value||1===value?"="+value:"other",valueStr=lang_1.isPresent(value)?value.toString():"",lang_1.StringWrapper.replaceAll(pluralMap[key],interpolationExp,valueStr)},I18nPluralPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"i18nPlural",pure:!0}),core_1.Injectable(),__metadata("design:paramtypes",[])],I18nPluralPipe)}();exports.I18nPluralPipe=I18nPluralPipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/lang":195}],61:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),I18nSelectPipe=function(){function I18nSelectPipe(){}return I18nSelectPipe.prototype.transform=function(value,args){void 0===args&&(args=null);var mapping=args[0];if(!lang_1.isStringMap(mapping))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nSelectPipe,mapping);return collection_1.StringMapWrapper.contains(mapping,value)?mapping[value]:mapping.other},I18nSelectPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"i18nSelect",pure:!0}),core_1.Injectable(),__metadata("design:paramtypes",[])],I18nSelectPipe)}();exports.I18nSelectPipe=I18nSelectPipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],62:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),InvalidPipeArgumentException=function(_super){function InvalidPipeArgumentException(type,value){_super.call(this,"Invalid argument '"+value+"' for pipe '"+lang_1.stringify(type)+"'")}return __extends(InvalidPipeArgumentException,_super),InvalidPipeArgumentException}(exceptions_1.BaseException);exports.InvalidPipeArgumentException=InvalidPipeArgumentException},{"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],63:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),JsonPipe=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(value,args){return void 0===args&&(args=null),lang_1.Json.stringify(value)},JsonPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"json",pure:!1}),core_1.Injectable(),__metadata("design:paramtypes",[])],JsonPipe)}();exports.JsonPipe=JsonPipe},{"angular2/core":11,"angular2/src/facade/lang":195}],64:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),LowerCasePipe=function(){function LowerCasePipe(){}return LowerCasePipe.prototype.transform=function(value,args){if(void 0===args&&(args=null),lang_1.isBlank(value))return value;if(!lang_1.isString(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(LowerCasePipe,value);return value.toLowerCase()},LowerCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"lowercase"}),core_1.Injectable(),__metadata("design:paramtypes",[])],LowerCasePipe)}();exports.LowerCasePipe=LowerCasePipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/lang":195}],65:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),intl_1=require("angular2/src/facade/intl"),core_1=require("angular2/core"),collection_1=require("angular2/src/facade/collection"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),defaultLocale="en-US",_re=lang_1.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$"),NumberPipe=function(){function NumberPipe(){}return NumberPipe._format=function(value,style,digits,currency,currencyAsSymbol){if(void 0===currency&&(currency=null),void 0===currencyAsSymbol&&(currencyAsSymbol=!1),lang_1.isBlank(value))return null;if(!lang_1.isNumber(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(NumberPipe,value);var minInt=1,minFraction=0,maxFraction=3;if(lang_1.isPresent(digits)){var parts=lang_1.RegExpWrapper.firstMatch(_re,digits);if(lang_1.isBlank(parts))throw new exceptions_1.BaseException(digits+" is not a valid digit info for number pipes");lang_1.isPresent(parts[1])&&(minInt=lang_1.NumberWrapper.parseIntAutoRadix(parts[1])),lang_1.isPresent(parts[3])&&(minFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[3])),lang_1.isPresent(parts[5])&&(maxFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[5]))}return intl_1.NumberFormatter.format(value,defaultLocale,style,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol})},NumberPipe=__decorate([lang_1.CONST(),core_1.Injectable(),__metadata("design:paramtypes",[])],NumberPipe)}();exports.NumberPipe=NumberPipe;var DecimalPipe=function(_super){function DecimalPipe(){_super.apply(this,arguments)}return __extends(DecimalPipe,_super),DecimalPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);
return NumberPipe._format(value,intl_1.NumberFormatStyle.Decimal,digits)},DecimalPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"number"}),core_1.Injectable(),__metadata("design:paramtypes",[])],DecimalPipe)}(NumberPipe);exports.DecimalPipe=DecimalPipe;var PercentPipe=function(_super){function PercentPipe(){_super.apply(this,arguments)}return __extends(PercentPipe,_super),PercentPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Percent,digits)},PercentPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"percent"}),core_1.Injectable(),__metadata("design:paramtypes",[])],PercentPipe)}(NumberPipe);exports.PercentPipe=PercentPipe;var CurrencyPipe=function(_super){function CurrencyPipe(){_super.apply(this,arguments)}return __extends(CurrencyPipe,_super),CurrencyPipe.prototype.transform=function(value,args){var currencyCode=lang_1.isPresent(args)&&args.length>0?args[0]:"USD",symbolDisplay=lang_1.isPresent(args)&&args.length>1?args[1]:!1,digits=lang_1.isPresent(args)&&args.length>2?args[2]:null;return NumberPipe._format(value,intl_1.NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay)},CurrencyPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"currency"}),core_1.Injectable(),__metadata("design:paramtypes",[])],CurrencyPipe)}(NumberPipe);exports.CurrencyPipe=CurrencyPipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/intl":194,"angular2/src/facade/lang":195}],66:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),ReplacePipe=function(){function ReplacePipe(){}return ReplacePipe.prototype.transform=function(value,args){if(lang_1.isBlank(args)||2!==args.length)throw new exceptions_1.BaseException("ReplacePipe requires two arguments");if(lang_1.isBlank(value))return value;if(!this._supportedInput(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,value);var input=value.toString(),pattern=args[0],replacement=args[1];if(!this._supportedPattern(pattern))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,pattern);if(!this._supportedReplacement(replacement))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,replacement);if(lang_1.isFunction(replacement)){var rgxPattern=lang_1.isString(pattern)?lang_1.RegExpWrapper.create(pattern):pattern;return lang_1.StringWrapper.replaceAllMapped(input,rgxPattern,replacement)}return pattern instanceof RegExp?lang_1.StringWrapper.replaceAll(input,pattern,replacement):lang_1.StringWrapper.replace(input,pattern,replacement)},ReplacePipe.prototype._supportedInput=function(input){return lang_1.isString(input)||lang_1.isNumber(input)},ReplacePipe.prototype._supportedPattern=function(pattern){return lang_1.isString(pattern)||pattern instanceof RegExp},ReplacePipe.prototype._supportedReplacement=function(replacement){return lang_1.isString(replacement)||lang_1.isFunction(replacement)},ReplacePipe=__decorate([core_1.Pipe({name:"replace"}),core_1.Injectable(),__metadata("design:paramtypes",[])],ReplacePipe)}();exports.ReplacePipe=ReplacePipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],67:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),SlicePipe=function(){function SlicePipe(){}return SlicePipe.prototype.transform=function(value,args){if(void 0===args&&(args=null),lang_1.isBlank(args)||0==args.length)throw new exceptions_1.BaseException("Slice pipe requires one argument");if(!this.supports(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(SlicePipe,value);if(lang_1.isBlank(value))return value;var start=args[0],end=args.length>1?args[1]:null;return lang_1.isString(value)?lang_1.StringWrapper.slice(value,start,end):collection_1.ListWrapper.slice(value,start,end)},SlicePipe.prototype.supports=function(obj){return lang_1.isString(obj)||lang_1.isArray(obj)},SlicePipe=__decorate([core_1.Pipe({name:"slice",pure:!1}),core_1.Injectable(),__metadata("design:paramtypes",[])],SlicePipe)}();exports.SlicePipe=SlicePipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],68:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),invalid_pipe_argument_exception_1=require("./invalid_pipe_argument_exception"),UpperCasePipe=function(){function UpperCasePipe(){}return UpperCasePipe.prototype.transform=function(value,args){if(void 0===args&&(args=null),lang_1.isBlank(value))return value;if(!lang_1.isString(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(UpperCasePipe,value);return value.toUpperCase()},UpperCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"uppercase"}),core_1.Injectable(),__metadata("design:paramtypes",[])],UpperCasePipe)}();exports.UpperCasePipe=UpperCasePipe},{"./invalid_pipe_argument_exception":62,"angular2/core":11,"angular2/src/facade/lang":195}],69:[function(require,module,exports){"use strict";function assertArrayOfStrings(identifier,value){if(lang_1.assertionsEnabled()&&!lang_1.isBlank(value)){if(!lang_1.isArray(value))throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array of strings.");for(var i=0;i<value.length;i+=1)if(!lang_1.isString(value[i]))throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array of strings.")}}var lang_1=require("../facade/lang"),exceptions_1=require("../facade/exceptions");exports.assertArrayOfStrings=assertArrayOfStrings},{"../facade/exceptions":192,"../facade/lang":195}],70:[function(require,module,exports){"use strict";function createChangeDetectorDefinitions(componentType,componentStrategy,genConfig,parsedTemplate){var pvVisitors=[],visitor=new ProtoViewVisitor(null,pvVisitors,componentStrategy);return template_ast_1.templateVisitAll(visitor,parsedTemplate),createChangeDefinitions(pvVisitors,componentType,genConfig)}function createChangeDefinitions(pvVisitors,componentType,genConfig){var pvVariableNames=_collectNestedProtoViewsVariableNames(pvVisitors);return pvVisitors.map(function(pvVisitor){var id=componentType.name+"_"+pvVisitor.viewIndex;return new change_detection_1.ChangeDetectorDefinition(id,pvVisitor.strategy,pvVariableNames[pvVisitor.viewIndex],pvVisitor.bindingRecords,pvVisitor.eventRecords,pvVisitor.directiveRecords,genConfig)})}function _collectNestedProtoViewsVariableNames(pvVisitors){var nestedPvVariableNames=collection_1.ListWrapper.createFixedSize(pvVisitors.length);return pvVisitors.forEach(function(pv){var parentVariableNames=lang_1.isPresent(pv.parent)?nestedPvVariableNames[pv.parent.viewIndex]:[];nestedPvVariableNames[pv.viewIndex]=parentVariableNames.concat(pv.variableNames)}),nestedPvVariableNames}var collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),reflection_1=require("angular2/src/core/reflection/reflection"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),template_ast_1=require("./template_ast"),interfaces_1=require("angular2/src/core/linker/interfaces");exports.createChangeDetectorDefinitions=createChangeDetectorDefinitions;var ProtoViewVisitor=function(){function ProtoViewVisitor(parent,allVisitors,strategy){this.parent=parent,this.allVisitors=allVisitors,this.strategy=strategy,this.nodeCount=0,this.boundElementCount=0,this.variableNames=[],this.bindingRecords=[],this.eventRecords=[],this.directiveRecords=[],this.viewIndex=allVisitors.length,allVisitors.push(this)}return ProtoViewVisitor.prototype.visitEmbeddedTemplate=function(ast,context){this.nodeCount++,this.boundElementCount++,template_ast_1.templateVisitAll(this,ast.outputs);for(var i=0;i<ast.directives.length;i++)ast.directives[i].visit(this,i);var childVisitor=new ProtoViewVisitor(this,this.allVisitors,change_detection_1.ChangeDetectionStrategy.Default);return template_ast_1.templateVisitAll(childVisitor,ast.vars),template_ast_1.templateVisitAll(childVisitor,ast.children),null},ProtoViewVisitor.prototype.visitElement=function(ast,context){this.nodeCount++,ast.isBound()&&this.boundElementCount++,template_ast_1.templateVisitAll(this,ast.inputs,null),template_ast_1.templateVisitAll(this,ast.outputs),template_ast_1.templateVisitAll(this,ast.exportAsVars);for(var i=0;i<ast.directives.length;i++)ast.directives[i].visit(this,i);return template_ast_1.templateVisitAll(this,ast.children),null},ProtoViewVisitor.prototype.visitNgContent=function(ast,context){return null},ProtoViewVisitor.prototype.visitVariable=function(ast,context){return this.variableNames.push(ast.name),null},ProtoViewVisitor.prototype.visitEvent=function(ast,directiveRecord){var bindingRecord=lang_1.isPresent(directiveRecord)?change_detection_1.BindingRecord.createForHostEvent(ast.handler,ast.fullName,directiveRecord):change_detection_1.BindingRecord.createForEvent(ast.handler,ast.fullName,this.boundElementCount-1);return this.eventRecords.push(bindingRecord),null},ProtoViewVisitor.prototype.visitElementProperty=function(ast,directiveRecord){var bindingRecord,boundElementIndex=this.boundElementCount-1,dirIndex=lang_1.isPresent(directiveRecord)?directiveRecord.directiveIndex:null;return ast.type===template_ast_1.PropertyBindingType.Property?bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostProperty(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementProperty(ast.value,boundElementIndex,ast.name):ast.type===template_ast_1.PropertyBindingType.Attribute?bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostAttribute(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementAttribute(ast.value,boundElementIndex,ast.name):ast.type===template_ast_1.PropertyBindingType.Class?bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostClass(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementClass(ast.value,boundElementIndex,ast.name):ast.type===template_ast_1.PropertyBindingType.Style&&(bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostStyle(dirIndex,ast.value,ast.name,ast.unit):change_detection_1.BindingRecord.createForElementStyle(ast.value,boundElementIndex,ast.name,ast.unit)),this.bindingRecords.push(bindingRecord),null},ProtoViewVisitor.prototype.visitAttr=function(ast,context){return null},ProtoViewVisitor.prototype.visitBoundText=function(ast,context){var nodeIndex=this.nodeCount++;return this.bindingRecords.push(change_detection_1.BindingRecord.createForTextNode(ast.value,nodeIndex)),null},ProtoViewVisitor.prototype.visitText=function(ast,context){return this.nodeCount++,null},ProtoViewVisitor.prototype.visitDirective=function(ast,directiveIndexAsNumber){var directiveIndex=new change_detection_1.DirectiveIndex(this.boundElementCount-1,directiveIndexAsNumber),directiveMetadata=ast.directive,outputsArray=[];collection_1.StringMapWrapper.forEach(ast.directive.outputs,function(eventName,dirProperty){return outputsArray.push([dirProperty,eventName])});var directiveRecord=new change_detection_1.DirectiveRecord({directiveIndex:directiveIndex,callAfterContentInit:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentInit),callAfterContentChecked:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentChecked),callAfterViewInit:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewInit),callAfterViewChecked:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewChecked),callOnChanges:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnChanges),callDoCheck:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.DoCheck),callOnInit:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnInit),callOnDestroy:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnDestroy),changeDetection:directiveMetadata.changeDetection,outputs:outputsArray});this.directiveRecords.push(directiveRecord),template_ast_1.templateVisitAll(this,ast.inputs,directiveRecord);var bindingRecords=this.bindingRecords;return directiveRecord.callOnChanges&&bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnChanges(directiveRecord)),directiveRecord.callOnInit&&bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnInit(directiveRecord)),directiveRecord.callDoCheck&&bindingRecords.push(change_detection_1.BindingRecord.createDirectiveDoCheck(directiveRecord)),template_ast_1.templateVisitAll(this,ast.hostProperties,directiveRecord),template_ast_1.templateVisitAll(this,ast.hostEvents,directiveRecord),template_ast_1.templateVisitAll(this,ast.exportAsVars),null},ProtoViewVisitor.prototype.visitDirectiveProperty=function(ast,directiveRecord){var setter=reflection_1.reflector.setter(ast.directiveName);return this.bindingRecords.push(change_detection_1.BindingRecord.createForDirective(ast.value,ast.directiveName,setter,directiveRecord)),null},ProtoViewVisitor}()},{"./template_ast":89,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/linker/interfaces":151,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],71:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},source_module_1=require("./source_module"),change_detection_jit_generator_1=require("angular2/src/core/change_detection/change_detection_jit_generator"),abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector"),change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util"),constants_1=require("angular2/src/core/change_detection/constants"),change_definition_factory_1=require("./change_definition_factory"),lang_1=require("angular2/src/facade/lang"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),change_detector_codegen_1=require("angular2/src/transform/template_compiler/change_detector_codegen"),util_1=require("./util"),di_1=require("angular2/src/core/di"),ABSTRACT_CHANGE_DETECTOR="AbstractChangeDetector",UTIL="ChangeDetectionUtil",CHANGE_DETECTOR_STATE="ChangeDetectorState";exports.CHANGE_DETECTION_JIT_IMPORTS=lang_1.CONST_EXPR({AbstractChangeDetector:abstract_change_detector_1.AbstractChangeDetector,ChangeDetectionUtil:change_detection_util_1.ChangeDetectionUtil,ChangeDetectorState:constants_1.ChangeDetectorState});var ABSTRACT_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/abstract_change_detector"+util_1.MODULE_SUFFIX),UTIL_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/change_detection_util"+util_1.MODULE_SUFFIX),PREGEN_PROTO_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/pregen_proto_change_detector"+util_1.MODULE_SUFFIX),CONSTANTS_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/constants"+util_1.MODULE_SUFFIX),ChangeDetectionCompiler=function(){function ChangeDetectionCompiler(_genConfig){this._genConfig=_genConfig}return ChangeDetectionCompiler.prototype.compileComponentRuntime=function(componentType,strategy,parsedTemplate){var _this=this,changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate);return changeDetectorDefinitions.map(function(definition){return _this._createChangeDetectorFactory(definition)})},ChangeDetectionCompiler.prototype._createChangeDetectorFactory=function(definition){var proto=new change_detection_1.DynamicProtoChangeDetector(definition);return function(){return proto.instantiate()}},ChangeDetectionCompiler.prototype.compileComponentCodeGen=function(componentType,strategy,parsedTemplate){var changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate),factories=[],index=0,sourceParts=changeDetectorDefinitions.map(function(definition){var codegen,sourcePart;if(lang_1.IS_DART){codegen=new change_detector_codegen_1.Codegen(PREGEN_PROTO_CHANGE_DETECTOR_MODULE);var className="_"+definition.id,typeRef=0===index&&componentType.isHost?"dynamic":""+source_module_1.moduleRef(componentType.moduleUrl)+componentType.name;codegen.generate(typeRef,className,definition),factories.push(className+".newChangeDetector"),sourcePart=codegen.toString()}else codegen=new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,""+UTIL_MODULE+UTIL,""+ABSTRACT_CHANGE_DETECTOR_MODULE+ABSTRACT_CHANGE_DETECTOR,""+CONSTANTS_MODULE+CHANGE_DETECTOR_STATE),factories.push("function() { return new "+codegen.typeName+"(); }"),sourcePart=codegen.generateSource();return index++,sourcePart});return new source_module_1.SourceExpressions(sourceParts,factories)},ChangeDetectionCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[change_detection_1.ChangeDetectorGenConfig])],ChangeDetectionCompiler)}();exports.ChangeDetectionCompiler=ChangeDetectionCompiler},{"./change_definition_factory":70,"./source_module":86,"./util":95,"angular2/src/core/change_detection/abstract_change_detector":103,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/change_detection/change_detection_jit_generator":106,"angular2/src/core/change_detection/change_detection_util":107,"angular2/src/core/change_detection/constants":113,"angular2/src/core/di":135,"angular2/src/facade/lang":195,"angular2/src/transform/template_compiler/change_detector_codegen":261}],72:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}function _createChangeDetectorGenConfig(){return new change_detection_1.ChangeDetectorGenConfig(lang_1.assertionsEnabled(),!1,!0)}var runtime_compiler_1=require("./runtime_compiler"),template_compiler_1=require("./template_compiler");exports.TemplateCompiler=template_compiler_1.TemplateCompiler;var directive_metadata_1=require("./directive_metadata");exports.CompileDirectiveMetadata=directive_metadata_1.CompileDirectiveMetadata,exports.CompileTypeMetadata=directive_metadata_1.CompileTypeMetadata,exports.CompileTemplateMetadata=directive_metadata_1.CompileTemplateMetadata;var source_module_1=require("./source_module");exports.SourceModule=source_module_1.SourceModule,exports.SourceWithImports=source_module_1.SourceWithImports;var platform_directives_and_pipes_1=require("angular2/src/core/platform_directives_and_pipes");exports.PLATFORM_DIRECTIVES=platform_directives_and_pipes_1.PLATFORM_DIRECTIVES,exports.PLATFORM_PIPES=platform_directives_and_pipes_1.PLATFORM_PIPES,__export(require("angular2/src/compiler/template_ast"));var template_parser_1=require("angular2/src/compiler/template_parser");exports.TEMPLATE_TRANSFORMS=template_parser_1.TEMPLATE_TRANSFORMS;var lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),template_parser_2=require("angular2/src/compiler/template_parser"),html_parser_1=require("angular2/src/compiler/html_parser"),template_normalizer_1=require("angular2/src/compiler/template_normalizer"),runtime_metadata_1=require("angular2/src/compiler/runtime_metadata"),change_detector_compiler_1=require("angular2/src/compiler/change_detector_compiler"),style_compiler_1=require("angular2/src/compiler/style_compiler"),view_compiler_1=require("angular2/src/compiler/view_compiler"),proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler"),template_compiler_2=require("angular2/src/compiler/template_compiler"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),compiler_1=require("angular2/src/core/linker/compiler"),runtime_compiler_2=require("angular2/src/compiler/runtime_compiler"),element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry"),dom_element_schema_registry_1=require("angular2/src/compiler/schema/dom_element_schema_registry"),url_resolver_1=require("angular2/src/compiler/url_resolver"),change_detection_2=require("angular2/src/core/change_detection/change_detection");exports.COMPILER_PROVIDERS=lang_1.CONST_EXPR([change_detection_2.Lexer,change_detection_2.Parser,html_parser_1.HtmlParser,template_parser_2.TemplateParser,template_normalizer_1.TemplateNormalizer,runtime_metadata_1.RuntimeMetadataResolver,url_resolver_1.DEFAULT_PACKAGE_URL_PROVIDER,style_compiler_1.StyleCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,change_detector_compiler_1.ChangeDetectionCompiler,new di_1.Provider(change_detection_1.ChangeDetectorGenConfig,{useFactory:_createChangeDetectorGenConfig,deps:[]}),template_compiler_2.TemplateCompiler,new di_1.Provider(runtime_compiler_2.RuntimeCompiler,{useClass:runtime_compiler_1.RuntimeCompiler_}),new di_1.Provider(compiler_1.Compiler,{useExisting:runtime_compiler_2.RuntimeCompiler}),dom_element_schema_registry_1.DomElementSchemaRegistry,new di_1.Provider(element_schema_registry_1.ElementSchemaRegistry,{useExisting:dom_element_schema_registry_1.DomElementSchemaRegistry}),url_resolver_1.UrlResolver])},{"./directive_metadata":73,"./runtime_compiler":80,"./source_module":86,"./template_compiler":90,"angular2/src/compiler/change_detector_compiler":71,"angular2/src/compiler/html_parser":76,"angular2/src/compiler/proto_view_compiler":79,"angular2/src/compiler/runtime_compiler":80,"angular2/src/compiler/runtime_metadata":81,"angular2/src/compiler/schema/dom_element_schema_registry":82,"angular2/src/compiler/schema/element_schema_registry":83,"angular2/src/compiler/style_compiler":87,"angular2/src/compiler/template_ast":89,"angular2/src/compiler/template_compiler":90,"angular2/src/compiler/template_normalizer":91,"angular2/src/compiler/template_parser":92,"angular2/src/compiler/url_resolver":94,"angular2/src/compiler/view_compiler":96,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/di":135,"angular2/src/core/linker/compiler":145,"angular2/src/core/platform_directives_and_pipes":169,"angular2/src/facade/lang":195}],73:[function(require,module,exports){"use strict";function metadataFromJson(data){return _COMPILE_METADATA_FROM_JSON[data["class"]](data)}function createHostComponentMeta(componentType,componentSelector){var template=selector_1.CssSelector.parse(componentSelector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({runtime:Object,name:"Host"+componentType.name,moduleUrl:componentType.moduleUrl,isHost:!0}),template:new CompileTemplateMetadata({template:template,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:change_detection_1.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,dynamicLoadable:!1,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function arrayFromJson(obj,fn){return lang_1.isBlank(obj)?null:obj.map(function(o){return objFromJson(o,fn)})}function arrayToJson(obj){return lang_1.isBlank(obj)?null:obj.map(objToJson)}function objFromJson(obj,fn){return lang_1.isArray(obj)?arrayFromJson(obj,fn):lang_1.isString(obj)||lang_1.isBlank(obj)||lang_1.isBoolean(obj)||lang_1.isNumber(obj)?obj:fn(obj)}function objToJson(obj){return lang_1.isArray(obj)?arrayToJson(obj):lang_1.isString(obj)||lang_1.isBlank(obj)||lang_1.isBoolean(obj)||lang_1.isNumber(obj)?obj:obj.toJson()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),view_1=require("angular2/src/core/metadata/view"),selector_1=require("angular2/src/compiler/selector"),util_1=require("./util"),interfaces_1=require("angular2/src/core/linker/interfaces"),HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,CompileMetadataWithIdentifier=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}();exports.CompileMetadataWithIdentifier=CompileMetadataWithIdentifier;var CompileMetadataWithType=function(_super){function CompileMetadataWithType(){_super.apply(this,arguments)}return __extends(CompileMetadataWithType,_super),Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithType}(CompileMetadataWithIdentifier);exports.CompileMetadataWithType=CompileMetadataWithType,exports.metadataFromJson=metadataFromJson;var CompileIdentifierMetadata=function(){function CompileIdentifierMetadata(_a){var _b=void 0===_a?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,constConstructor=_b.constConstructor,value=_b.value;this.runtime=runtime,this.name=name,this.prefix=prefix,this.moduleUrl=moduleUrl,this.constConstructor=constConstructor,this.value=value}return CompileIdentifierMetadata.fromJson=function(data){var value=lang_1.isArray(data.value)?arrayFromJson(data.value,metadataFromJson):objFromJson(data.value,metadataFromJson);return new CompileIdentifierMetadata({name:data.name,prefix:data.prefix,moduleUrl:data.moduleUrl,constConstructor:data.constConstructor,value:value})},CompileIdentifierMetadata.prototype.toJson=function(){var value=lang_1.isArray(this.value)?arrayToJson(this.value):objToJson(this.value);return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,constConstructor:this.constConstructor,value:value}},Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}();exports.CompileIdentifierMetadata=CompileIdentifierMetadata;var CompileDiDependencyMetadata=function(){function CompileDiDependencyMetadata(_a){var _b=void 0===_a?{}:_a,isAttribute=_b.isAttribute,isSelf=_b.isSelf,isHost=_b.isHost,isSkipSelf=_b.isSkipSelf,isOptional=_b.isOptional,query=_b.query,viewQuery=_b.viewQuery,token=_b.token;this.isAttribute=lang_1.normalizeBool(isAttribute),this.isSelf=lang_1.normalizeBool(isSelf),this.isHost=lang_1.normalizeBool(isHost),this.isSkipSelf=lang_1.normalizeBool(isSkipSelf),this.isOptional=lang_1.normalizeBool(isOptional),this.query=query,this.viewQuery=viewQuery,this.token=token}return CompileDiDependencyMetadata.fromJson=function(data){return new CompileDiDependencyMetadata({token:objFromJson(data.token,CompileIdentifierMetadata.fromJson),query:objFromJson(data.query,CompileQueryMetadata.fromJson),viewQuery:objFromJson(data.viewQuery,CompileQueryMetadata.fromJson),isAttribute:data.isAttribute,isSelf:data.isSelf,isHost:data.isHost,isSkipSelf:data.isSkipSelf,isOptional:data.isOptional})},CompileDiDependencyMetadata.prototype.toJson=function(){return{token:objToJson(this.token),query:objToJson(this.query),viewQuery:objToJson(this.viewQuery),isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional}},CompileDiDependencyMetadata}();exports.CompileDiDependencyMetadata=CompileDiDependencyMetadata;var CompileProviderMetadata=function(){function CompileProviderMetadata(_a){var token=_a.token,useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.deps=deps,this.multi=multi}return CompileProviderMetadata.fromJson=function(data){return new CompileProviderMetadata({token:objFromJson(data.token,CompileIdentifierMetadata.fromJson),useClass:objFromJson(data.useClass,CompileTypeMetadata.fromJson),useExisting:objFromJson(data.useExisting,CompileIdentifierMetadata.fromJson),useValue:objFromJson(data.useValue,CompileIdentifierMetadata.fromJson),useFactory:objFromJson(data.useFactory,CompileFactoryMetadata.fromJson)})},CompileProviderMetadata.prototype.toJson=function(){return{"class":"Provider",token:objToJson(this.token),useClass:objToJson(this.useClass),useExisting:objToJson(this.useExisting),useValue:objToJson(this.useValue),useFactory:objToJson(this.useFactory)}},CompileProviderMetadata}();exports.CompileProviderMetadata=CompileProviderMetadata;var CompileFactoryMetadata=function(){
function CompileFactoryMetadata(_a){var runtime=_a.runtime,name=_a.name,moduleUrl=_a.moduleUrl,prefix=_a.prefix,constConstructor=_a.constConstructor,diDeps=_a.diDeps,value=_a.value;this.runtime=runtime,this.name=name,this.prefix=prefix,this.moduleUrl=moduleUrl,this.diDeps=diDeps,this.constConstructor=constConstructor,this.value=value}return Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileFactoryMetadata.fromJson=function(data){return new CompileFactoryMetadata({name:data.name,prefix:data.prefix,moduleUrl:data.moduleUrl,constConstructor:data.constConstructor,value:data.value,diDeps:arrayFromJson(data.diDeps,CompileDiDependencyMetadata.fromJson)})},CompileFactoryMetadata.prototype.toJson=function(){return{"class":"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,constConstructor:this.constConstructor,value:this.value,diDeps:arrayToJson(this.diDeps)}},CompileFactoryMetadata}();exports.CompileFactoryMetadata=CompileFactoryMetadata;var CompileTypeMetadata=function(){function CompileTypeMetadata(_a){var _b=void 0===_a?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,isHost=_b.isHost,constConstructor=_b.constConstructor,value=_b.value,diDeps=_b.diDeps;this.runtime=runtime,this.name=name,this.moduleUrl=moduleUrl,this.prefix=prefix,this.isHost=lang_1.normalizeBool(isHost),this.constConstructor=constConstructor,this.value=value,this.diDeps=lang_1.normalizeBlank(diDeps)}return CompileTypeMetadata.fromJson=function(data){return new CompileTypeMetadata({name:data.name,moduleUrl:data.moduleUrl,prefix:data.prefix,isHost:data.isHost,constConstructor:data.constConstructor,value:data.value,diDeps:arrayFromJson(data.diDeps,CompileDiDependencyMetadata.fromJson)})},Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),CompileTypeMetadata.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,constConstructor:this.constConstructor,value:this.value,diDeps:arrayToJson(this.diDeps)}},CompileTypeMetadata}();exports.CompileTypeMetadata=CompileTypeMetadata;var CompileQueryMetadata=function(){function CompileQueryMetadata(_a){var _b=void 0===_a?{}:_a,selectors=_b.selectors,descendants=_b.descendants,first=_b.first,propertyName=_b.propertyName;this.selectors=selectors,this.descendants=descendants,this.first=lang_1.normalizeBool(first),this.propertyName=propertyName}return CompileQueryMetadata.fromJson=function(data){return new CompileQueryMetadata({selectors:arrayFromJson(data.selectors,CompileIdentifierMetadata.fromJson),descendants:data.descendants,first:data.first,propertyName:data.propertyName})},CompileQueryMetadata.prototype.toJson=function(){return{selectors:arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName}},CompileQueryMetadata}();exports.CompileQueryMetadata=CompileQueryMetadata;var CompileTemplateMetadata=function(){function CompileTemplateMetadata(_a){var _b=void 0===_a?{}:_a,encapsulation=_b.encapsulation,template=_b.template,templateUrl=_b.templateUrl,styles=_b.styles,styleUrls=_b.styleUrls,ngContentSelectors=_b.ngContentSelectors;this.encapsulation=lang_1.isPresent(encapsulation)?encapsulation:view_1.ViewEncapsulation.Emulated,this.template=template,this.templateUrl=templateUrl,this.styles=lang_1.isPresent(styles)?styles:[],this.styleUrls=lang_1.isPresent(styleUrls)?styleUrls:[],this.ngContentSelectors=lang_1.isPresent(ngContentSelectors)?ngContentSelectors:[]}return CompileTemplateMetadata.fromJson=function(data){return new CompileTemplateMetadata({encapsulation:lang_1.isPresent(data.encapsulation)?view_1.VIEW_ENCAPSULATION_VALUES[data.encapsulation]:data.encapsulation,template:data.template,templateUrl:data.templateUrl,styles:data.styles,styleUrls:data.styleUrls,ngContentSelectors:data.ngContentSelectors})},CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:lang_1.isPresent(this.encapsulation)?lang_1.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors}},CompileTemplateMetadata}();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=function(){function CompileDirectiveMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,hostListeners=_b.hostListeners,hostProperties=_b.hostProperties,hostAttributes=_b.hostAttributes,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,template=_b.template;this.type=type,this.isComponent=isComponent,this.dynamicLoadable=dynamicLoadable,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.lifecycleHooks=lifecycleHooks,this.providers=lang_1.normalizeBlank(providers),this.viewProviders=lang_1.normalizeBlank(viewProviders),this.queries=lang_1.normalizeBlank(queries),this.viewQueries=lang_1.normalizeBlank(viewQueries),this.template=template}return CompileDirectiveMetadata.create=function(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,host=_b.host,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,template=_b.template,hostListeners={},hostProperties={},hostAttributes={};lang_1.isPresent(host)&&collection_1.StringMapWrapper.forEach(host,function(value,key){var matches=lang_1.RegExpWrapper.firstMatch(HOST_REG_EXP,key);lang_1.isBlank(matches)?hostAttributes[key]=value:lang_1.isPresent(matches[1])?hostProperties[matches[1]]=value:lang_1.isPresent(matches[2])&&(hostListeners[matches[2]]=value)});var inputsMap={};lang_1.isPresent(inputs)&&inputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});var outputsMap={};return lang_1.isPresent(outputs)&&outputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({type:type,isComponent:lang_1.normalizeBool(isComponent),dynamicLoadable:lang_1.normalizeBool(dynamicLoadable),selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,lifecycleHooks:lang_1.isPresent(lifecycleHooks)?lifecycleHooks:[],providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,template:template})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata.fromJson=function(data){return new CompileDirectiveMetadata({isComponent:data.isComponent,dynamicLoadable:data.dynamicLoadable,selector:data.selector,exportAs:data.exportAs,type:lang_1.isPresent(data.type)?CompileTypeMetadata.fromJson(data.type):data.type,changeDetection:lang_1.isPresent(data.changeDetection)?change_detection_1.CHANGE_DETECTION_STRATEGY_VALUES[data.changeDetection]:data.changeDetection,inputs:data.inputs,outputs:data.outputs,hostListeners:data.hostListeners,hostProperties:data.hostProperties,hostAttributes:data.hostAttributes,lifecycleHooks:data.lifecycleHooks.map(function(hookValue){return interfaces_1.LIFECYCLE_HOOKS_VALUES[hookValue]}),template:lang_1.isPresent(data.template)?CompileTemplateMetadata.fromJson(data.template):data.template,providers:arrayFromJson(data.providers,metadataFromJson),viewProviders:arrayFromJson(data.viewProviders,metadataFromJson),queries:arrayFromJson(data.queries,CompileQueryMetadata.fromJson),viewQueries:arrayFromJson(data.viewQueries,CompileQueryMetadata.fromJson)})},CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,dynamicLoadable:this.dynamicLoadable,selector:this.selector,exportAs:this.exportAs,type:lang_1.isPresent(this.type)?this.type.toJson():this.type,changeDetection:lang_1.isPresent(this.changeDetection)?lang_1.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(hook){return lang_1.serializeEnum(hook)}),template:lang_1.isPresent(this.template)?this.template.toJson():this.template,providers:arrayToJson(this.providers),viewProviders:arrayToJson(this.viewProviders),queries:arrayToJson(this.queries),viewQueries:arrayToJson(this.viewQueries)}},CompileDirectiveMetadata}();exports.CompileDirectiveMetadata=CompileDirectiveMetadata,exports.createHostComponentMeta=createHostComponentMeta;var CompilePipeMetadata=function(){function CompilePipeMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,name=_b.name,pure=_b.pure;this.type=type,this.name=name,this.pure=lang_1.normalizeBool(pure)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata.fromJson=function(data){return new CompilePipeMetadata({type:lang_1.isPresent(data.type)?CompileTypeMetadata.fromJson(data.type):data.type,name:data.name,pure:data.pure})},CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:lang_1.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},CompilePipeMetadata}();exports.CompilePipeMetadata=CompilePipeMetadata;var _COMPILE_METADATA_FROM_JSON={Directive:CompileDirectiveMetadata.fromJson,Pipe:CompilePipeMetadata.fromJson,Type:CompileTypeMetadata.fromJson,Provider:CompileProviderMetadata.fromJson,Identifier:CompileIdentifierMetadata.fromJson,Factory:CompileFactoryMetadata.fromJson}},{"./util":95,"angular2/src/compiler/selector":84,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/linker/interfaces":151,"angular2/src/core/metadata/view":165,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],74:[function(require,module,exports){"use strict";function htmlVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[];return asts.forEach(function(ast){var astResult=ast.visit(visitor,context);lang_1.isPresent(astResult)&&result.push(astResult)}),result}var lang_1=require("angular2/src/facade/lang"),HtmlTextAst=function(){function HtmlTextAst(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return HtmlTextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},HtmlTextAst}();exports.HtmlTextAst=HtmlTextAst;var HtmlAttrAst=function(){function HtmlAttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return HtmlAttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},HtmlAttrAst}();exports.HtmlAttrAst=HtmlAttrAst;var HtmlElementAst=function(){function HtmlElementAst(name,attrs,children,sourceSpan,startSourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.children=children,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}return HtmlElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},HtmlElementAst}();exports.HtmlElementAst=HtmlElementAst;var HtmlCommentAst=function(){function HtmlCommentAst(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return HtmlCommentAst.prototype.visit=function(visitor,context){return visitor.visitComment(this,context)},HtmlCommentAst}();exports.HtmlCommentAst=HtmlCommentAst,exports.htmlVisitAll=htmlVisitAll},{"angular2/src/facade/lang":195}],75:[function(require,module,exports){"use strict";function tokenizeHtml(sourceContent,sourceUrl){return new _HtmlTokenizer(new parse_util_1.ParseSourceFile(sourceContent,sourceUrl)).tokenize()}function unexpectedCharacterErrorMsg(charCode){var char=charCode===$EOF?"EOF":lang_1.StringWrapper.fromCharCode(charCode);return'Unexpected character "'+char+'"'}function unknownEntityErrorMsg(entitySrc){return'Unknown entity "'+entitySrc+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(code){return!isWhitespace(code)||code===$EOF}function isWhitespace(code){return code>=$TAB&&$SPACE>=code||code===$NBSP}function isNameEnd(code){return isWhitespace(code)||code===$GT||code===$SLASH||code===$SQ||code===$DQ||code===$EQ}function isPrefixEnd(code){return($a>code||code>$z)&&($A>code||code>$Z)&&($0>code||code>$9)}function isDigitEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiHexDigit(code)}function isNamedEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiLetter(code)}function isTextEnd(code){return code===$LT||code===$EOF}function isAsciiLetter(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code}function isAsciiHexDigit(code){return code>=$a&&$f>=code||code>=$A&&$F>=code||code>=$0&&$9>=code}function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)}function toUpperCaseCharCode(code){return code>=$a&&$z>=code?code-$a+$A:code}function mergeTextTokens(srcTokens){for(var lastDstToken,dstTokens=[],i=0;i<srcTokens.length;i++){var token=srcTokens[i];lang_1.isPresent(lastDstToken)&&lastDstToken.type==HtmlTokenType.TEXT&&token.type==HtmlTokenType.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),parse_util_1=require("./parse_util"),html_tags_1=require("./html_tags");!function(HtmlTokenType){HtmlTokenType[HtmlTokenType.TAG_OPEN_START=0]="TAG_OPEN_START",HtmlTokenType[HtmlTokenType.TAG_OPEN_END=1]="TAG_OPEN_END",HtmlTokenType[HtmlTokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",HtmlTokenType[HtmlTokenType.TAG_CLOSE=3]="TAG_CLOSE",HtmlTokenType[HtmlTokenType.TEXT=4]="TEXT",HtmlTokenType[HtmlTokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",HtmlTokenType[HtmlTokenType.RAW_TEXT=6]="RAW_TEXT",HtmlTokenType[HtmlTokenType.COMMENT_START=7]="COMMENT_START",HtmlTokenType[HtmlTokenType.COMMENT_END=8]="COMMENT_END",HtmlTokenType[HtmlTokenType.CDATA_START=9]="CDATA_START",HtmlTokenType[HtmlTokenType.CDATA_END=10]="CDATA_END",HtmlTokenType[HtmlTokenType.ATTR_NAME=11]="ATTR_NAME",HtmlTokenType[HtmlTokenType.ATTR_VALUE=12]="ATTR_VALUE",HtmlTokenType[HtmlTokenType.DOC_TYPE=13]="DOC_TYPE",HtmlTokenType[HtmlTokenType.EOF=14]="EOF"}(exports.HtmlTokenType||(exports.HtmlTokenType={}));var HtmlTokenType=exports.HtmlTokenType,HtmlToken=function(){function HtmlToken(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}return HtmlToken}();exports.HtmlToken=HtmlToken;var HtmlTokenError=function(_super){function HtmlTokenError(errorMsg,tokenType,span){_super.call(this,span,errorMsg),this.tokenType=tokenType}return __extends(HtmlTokenError,_super),HtmlTokenError}(parse_util_1.ParseError);exports.HtmlTokenError=HtmlTokenError;var HtmlTokenizeResult=function(){function HtmlTokenizeResult(tokens,errors){this.tokens=tokens,this.errors=errors}return HtmlTokenizeResult}();exports.HtmlTokenizeResult=HtmlTokenizeResult,exports.tokenizeHtml=tokenizeHtml;var $EOF=0,$TAB=9,$LF=10,$CR=13,$SPACE=32,$BANG=33,$DQ=34,$HASH=35,$AMPERSAND=38,$SQ=39,$MINUS=45,$SLASH=47,$0=48,$SEMICOLON=59,$9=57,$COLON=58,$LT=60,$EQ=61,$GT=62,$LBRACKET=91,$RBRACKET=93,$A=65,$F=70,$X=88,$Z=90,$a=97,$f=102,$z=122,$x=120,$NBSP=160,CR_OR_CRLF_REGEXP=/\r\n?/g,ControlFlowError=function(){function ControlFlowError(error){this.error=error}return ControlFlowError}(),_HtmlTokenizer=function(){function _HtmlTokenizer(file){this.file=file,this.peek=-1,this.index=-1,this.line=0,this.column=-1,this.tokens=[],this.errors=[],this.input=file.content,this.length=file.content.length,this._advance()}return _HtmlTokenizer.prototype._processCarriageReturns=function(content){return lang_1.StringWrapper.replaceAll(content,CR_OR_CRLF_REGEXP,"\n")},_HtmlTokenizer.prototype.tokenize=function(){for(;this.peek!==$EOF;){var start=this._getLocation();try{this._attemptCharCode($LT)?this._attemptCharCode($BANG)?this._attemptCharCode($LBRACKET)?this._consumeCdata(start):this._attemptCharCode($MINUS)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode($SLASH)?this._consumeTagClose(start):this._consumeTagOpen(start):this._consumeText()}catch(e){if(!(e instanceof ControlFlowError))throw e;this.errors.push(e.error)}}return this._beginToken(HtmlTokenType.EOF),this._endToken([]),new HtmlTokenizeResult(mergeTextTokens(this.tokens),this.errors)},_HtmlTokenizer.prototype._getLocation=function(){return new parse_util_1.ParseLocation(this.file,this.index,this.line,this.column)},_HtmlTokenizer.prototype._getSpan=function(start,end){return lang_1.isBlank(start)&&(start=this._getLocation()),lang_1.isBlank(end)&&(end=this._getLocation()),new parse_util_1.ParseSourceSpan(start,end)},_HtmlTokenizer.prototype._beginToken=function(type,start){void 0===start&&(start=null),lang_1.isBlank(start)&&(start=this._getLocation()),this.currentTokenStart=start,this.currentTokenType=type},_HtmlTokenizer.prototype._endToken=function(parts,end){void 0===end&&(end=null),lang_1.isBlank(end)&&(end=this._getLocation());var token=new HtmlToken(this.currentTokenType,parts,new parse_util_1.ParseSourceSpan(this.currentTokenStart,end));return this.tokens.push(token),this.currentTokenStart=null,this.currentTokenType=null,token},_HtmlTokenizer.prototype._createError=function(msg,span){var error=new HtmlTokenError(msg,this.currentTokenType,span);return this.currentTokenStart=null,this.currentTokenType=null,new ControlFlowError(error)},_HtmlTokenizer.prototype._advance=function(){if(this.index>=this.length)throw this._createError(unexpectedCharacterErrorMsg($EOF),this._getSpan());this.peek===$LF?(this.line++,this.column=0):this.peek!==$LF&&this.peek!==$CR&&this.column++,this.index++,this.peek=this.index>=this.length?$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)},_HtmlTokenizer.prototype._attemptCharCode=function(charCode){return this.peek===charCode?(this._advance(),!0):!1},_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){return compareCharCodeCaseInsensitive(this.peek,charCode)?(this._advance(),!0):!1},_HtmlTokenizer.prototype._requireCharCode=function(charCode){var location=this._getLocation();if(!this._attemptCharCode(charCode))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(location,location))},_HtmlTokenizer.prototype._attemptStr=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCode(lang_1.StringWrapper.charCodeAt(chars,i)))return!1;return!0},_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(lang_1.StringWrapper.charCodeAt(chars,i)))return!1;return!0},_HtmlTokenizer.prototype._requireStr=function(chars){var location=this._getLocation();if(!this._attemptStr(chars))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(location))},_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(predicate){for(;!predicate(this.peek);)this._advance()},_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._getLocation();if(this._attemptCharCodeUntilFn(predicate),this.index-start.offset<len)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(start,start))},_HtmlTokenizer.prototype._attemptUntilChar=function(char){for(;this.peek!==char;)this._advance()},_HtmlTokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&this.peek===$AMPERSAND)return this._decodeEntity();var index=this.index;return this._advance(),this.input[index]},_HtmlTokenizer.prototype._decodeEntity=function(){var start=this._getLocation();if(this._advance(),!this._attemptCharCode($HASH)){var startPosition=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this.peek!=$SEMICOLON)return this._restorePosition(startPosition),"&";this._advance();var name_1=this.input.substring(start.offset+1,this.index-1),char=html_tags_1.NAMED_ENTITIES[name_1];if(lang_1.isBlank(char))throw this._createError(unknownEntityErrorMsg(name_1),this._getSpan(start));return char}var isHex=this._attemptCharCode($x)||this._attemptCharCode($X),numberStart=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this.peek!=$SEMICOLON)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());this._advance();var strNum=this.input.substring(numberStart,this.index-1);try{var charCode=lang_1.NumberWrapper.parseInt(strNum,isHex?16:10);return lang_1.StringWrapper.fromCharCode(charCode)}catch(e){var entity=this.input.substring(start.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(entity),this._getSpan(start))}},_HtmlTokenizer.prototype._consumeRawText=function(decodeEntities,firstCharOfEnd,attemptEndRest){var tagCloseStart,textStart=this._getLocation();this._beginToken(decodeEntities?HtmlTokenType.ESCAPABLE_RAW_TEXT:HtmlTokenType.RAW_TEXT,textStart);for(var parts=[];;){if(tagCloseStart=this._getLocation(),this._attemptCharCode(firstCharOfEnd)&&attemptEndRest())break;for(this.index>tagCloseStart.offset&&parts.push(this.input.substring(tagCloseStart.offset,this.index));this.peek!==firstCharOfEnd;)parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))],tagCloseStart)},_HtmlTokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(HtmlTokenType.COMMENT_START,start),this._requireCharCode($MINUS),this._endToken([]);var textToken=this._consumeRawText(!1,$MINUS,function(){return _this._attemptStr("->")});this._beginToken(HtmlTokenType.COMMENT_END,textToken.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(HtmlTokenType.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]);var textToken=this._consumeRawText(!1,$RBRACKET,function(){return _this._attemptStr("]>")});this._beginToken(HtmlTokenType.CDATA_END,textToken.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeDocType=function(start){this._beginToken(HtmlTokenType.DOC_TYPE,start),this._attemptUntilChar($GT),this._advance(),this._endToken([this.input.substring(start.offset+2,this.index-1)])},_HtmlTokenizer.prototype._consumePrefixAndName=function(){for(var nameOrPrefixStart=this.index,prefix=null;this.peek!==$COLON&&!isPrefixEnd(this.peek);)this._advance();var nameStart;this.peek===$COLON?(this._advance(),prefix=this.input.substring(nameOrPrefixStart,this.index-1),nameStart=this.index):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,this.index===nameStart?1:0);var name=this.input.substring(nameStart,this.index);return[prefix,name]},_HtmlTokenizer.prototype._consumeTagOpen=function(start){var lowercaseTagName,savedPos=this._savePosition();try{if(!isAsciiLetter(this.peek))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());var nameStart=this.index;for(this._consumeTagOpenStart(start),lowercaseTagName=this.input.substring(nameStart,this.index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this.peek!==$SLASH&&this.peek!==$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof ControlFlowError)return this._restorePosition(savedPos),this._beginToken(HtmlTokenType.TEXT,start),void this._endToken(["<"]);throw e}var contentTokenType=html_tags_1.getHtmlTagDefinition(lowercaseTagName).contentType;contentTokenType===html_tags_1.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(lowercaseTagName,!1):contentTokenType===html_tags_1.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(lowercaseTagName,!0)},_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(lowercaseTagName,decodeEntities){var _this=this,textToken=this._consumeRawText(decodeEntities,$LT,function(){return _this._attemptCharCode($SLASH)?(_this._attemptCharCodeUntilFn(isNotWhitespace),_this._attemptStrCaseInsensitive(lowercaseTagName)?(_this._attemptCharCodeUntilFn(isNotWhitespace),!!_this._attemptCharCode($GT)):!1):!1});this._beginToken(HtmlTokenType.TAG_CLOSE,textToken.sourceSpan.end),this._endToken([null,lowercaseTagName])},_HtmlTokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(HtmlTokenType.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();this._endToken(parts)},_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(HtmlTokenType.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)},_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(HtmlTokenType.ATTR_VALUE);var value;if(this.peek===$SQ||this.peek===$DQ){var quoteChar=this.peek;this._advance();for(var parts=[];this.peek!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._advance()}else{var valueStart=this.index;this._requireCharCodeUntilFn(isNameEnd,1),value=this.input.substring(valueStart,this.index)}this._endToken([this._processCarriageReturns(value)])},_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode($SLASH)?HtmlTokenType.TAG_OPEN_END_VOID:HtmlTokenType.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode($GT),this._endToken([])},_HtmlTokenizer.prototype._consumeTagClose=function(start){this._beginToken(HtmlTokenType.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName;prefixAndName=this._consumePrefixAndName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode($GT),this._endToken(prefixAndName)},_HtmlTokenizer.prototype._consumeText=function(){var start=this._getLocation();this._beginToken(HtmlTokenType.TEXT,start);for(var parts=[this._readChar(!0)];!isTextEnd(this.peek);)parts.push(this._readChar(!0));this._endToken([this._processCarriageReturns(parts.join(""))])},_HtmlTokenizer.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]},_HtmlTokenizer.prototype._restorePosition=function(position){this.peek=position[0],this.index=position[1],this.column=position[2],this.line=position[3];var nbTokens=position[4];nbTokens<this.tokens.length&&(this.tokens=collection_1.ListWrapper.slice(this.tokens,0,nbTokens))},_HtmlTokenizer}()},{"./html_tags":77,"./parse_util":78,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],76:[function(require,module,exports){"use strict";function getElementFullName(prefix,localName,parentElement){return lang_1.isBlank(prefix)&&(prefix=html_tags_1.getHtmlTagDefinition(localName).implicitNamespacePrefix,lang_1.isBlank(prefix)&&lang_1.isPresent(parentElement)&&(prefix=html_tags_1.getNsPrefix(parentElement.name))),html_tags_1.mergeNsAndName(prefix,localName)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),html_ast_1=require("./html_ast"),di_1=require("angular2/src/core/di"),html_lexer_1=require("./html_lexer"),parse_util_1=require("./parse_util"),html_tags_1=require("./html_tags"),HtmlTreeError=function(_super){function HtmlTreeError(elementName,span,msg){_super.call(this,span,msg),this.elementName=elementName}return __extends(HtmlTreeError,_super),HtmlTreeError.create=function(elementName,span,msg){return new HtmlTreeError(elementName,span,msg)},HtmlTreeError}(parse_util_1.ParseError);exports.HtmlTreeError=HtmlTreeError;var HtmlParseTreeResult=function(){function HtmlParseTreeResult(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}return HtmlParseTreeResult}();exports.HtmlParseTreeResult=HtmlParseTreeResult;var HtmlParser=function(){function HtmlParser(){}return HtmlParser.prototype.parse=function(sourceContent,sourceUrl){var tokensAndErrors=html_lexer_1.tokenizeHtml(sourceContent,sourceUrl),treeAndErrors=new TreeBuilder(tokensAndErrors.tokens).build();return new HtmlParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))},HtmlParser=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],HtmlParser)}();exports.HtmlParser=HtmlParser;var TreeBuilder=function(){function TreeBuilder(tokens){this.tokens=tokens,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return TreeBuilder.prototype.build=function(){for(;this.peek.type!==html_lexer_1.HtmlTokenType.EOF;)this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.TEXT||this.peek.type===html_lexer_1.HtmlTokenType.RAW_TEXT||this.peek.type===html_lexer_1.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._advance();return new HtmlParseTreeResult(this.rootNodes,this.errors)},TreeBuilder.prototype._advance=function(){var prev=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],prev},TreeBuilder.prototype._advanceIf=function(type){return this.peek.type===type?this._advance():null},TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance()),this._advanceIf(html_lexer_1.HtmlTokenType.CDATA_END)},TreeBuilder.prototype._consumeComment=function(token){var text=this._advanceIf(html_lexer_1.HtmlTokenType.RAW_TEXT);this._advanceIf(html_lexer_1.HtmlTokenType.COMMENT_END);var value=lang_1.isPresent(text)?text.parts[0].trim():null;this._addToParent(new html_ast_1.HtmlCommentAst(value,token.sourceSpan))},TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];
if(text.length>0&&"\n"==text[0]){var parent_1=this._getParentElement();lang_1.isPresent(parent_1)&&0==parent_1.children.length&&html_tags_1.getHtmlTagDefinition(parent_1.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new html_ast_1.HtmlTextAst(text,token.sourceSpan))},TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var el=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(el.name).isVoid&&this.elementStack.pop()}},TreeBuilder.prototype._consumeStartTag=function(startTagToken){for(var prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];this.peek.type===html_lexer_1.HtmlTokenType.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));var fullName=getElementFullName(prefix,name,this._getParentElement()),selfClosing=!1;this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),selfClosing=!0,null!=html_tags_1.getNsPrefix(fullName)||html_tags_1.getHtmlTagDefinition(fullName).isVoid||this.errors.push(HtmlTreeError.create(fullName,startTagToken.sourceSpan,'Only void and foreign elements can be self closed "'+startTagToken.parts[1]+'"'))):this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END&&(this._advance(),selfClosing=!1);var end=this.peek.sourceSpan.start,span=new parse_util_1.ParseSourceSpan(startTagToken.sourceSpan.start,end),el=new html_ast_1.HtmlElementAst(fullName,attrs,[],span,span,null);this._pushElement(el),selfClosing&&(this._popElement(fullName),el.endSourceSpan=span)},TreeBuilder.prototype._pushElement=function(el){if(this.elementStack.length>0){var parentEl=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(parentEl.name).isClosedByChild(el.name)&&this.elementStack.pop()}var tagDef=html_tags_1.getHtmlTagDefinition(el.name),parentEl=this._getParentElement();if(tagDef.requireExtraParent(lang_1.isPresent(parentEl)?parentEl.name:null)){var newParent=new html_ast_1.HtmlElementAst(tagDef.parentToAdd,[],[el],el.sourceSpan,el.startSourceSpan,el.endSourceSpan);this._addToParent(newParent),this.elementStack.push(newParent),this.elementStack.push(el)}else this._addToParent(el),this.elementStack.push(el)},TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());this._getParentElement().endSourceSpan=endTagToken.sourceSpan,html_tags_1.getHtmlTagDefinition(fullName).isVoid?this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,'Void elements do not have end tags "'+endTagToken.parts[1]+'"')):this._popElement(fullName)||this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,'Unexpected closing tag "'+endTagToken.parts[1]+'"'))},TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this.elementStack.length-1;stackIndex>=0;stackIndex--){var el=this.elementStack[stackIndex];if(el.name==fullName)return collection_1.ListWrapper.splice(this.elementStack,stackIndex,this.elementStack.length-stackIndex),!0;if(!html_tags_1.getHtmlTagDefinition(el.name).closedByParent)return!1}return!1},TreeBuilder.prototype._consumeAttr=function(attrName){var fullName=html_tags_1.mergeNsAndName(attrName.parts[0],attrName.parts[1]),end=attrName.sourceSpan.end,value="";if(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end}return new html_ast_1.HtmlAttrAst(fullName,value,new parse_util_1.ParseSourceSpan(attrName.sourceSpan.start,end))},TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?collection_1.ListWrapper.last(this.elementStack):null},TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();lang_1.isPresent(parent)?parent.children.push(node):this.rootNodes.push(node)},TreeBuilder}()},{"./html_ast":74,"./html_lexer":75,"./html_tags":77,"./parse_util":78,"angular2/src/core/di":135,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],77:[function(require,module,exports){"use strict";function getHtmlTagDefinition(tagName){var result=TAG_DEFINITIONS[tagName.toLowerCase()];return lang_1.isPresent(result)?result:DEFAULT_TAG_DEFINITION}function splitNsName(elementName){if("@"!=elementName[0])return[null,elementName];var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,elementName);return[match[1],match[2]]}function getNsPrefix(elementName){return splitNsName(elementName)[0]}function mergeNsAndName(prefix,localName){return lang_1.isPresent(prefix)?"@"+prefix+":"+localName:localName}var lang_1=require("angular2/src/facade/lang");exports.NAMED_ENTITIES=lang_1.CONST_EXPR({Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"}),function(HtmlTagContentType){HtmlTagContentType[HtmlTagContentType.RAW_TEXT=0]="RAW_TEXT",HtmlTagContentType[HtmlTagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",HtmlTagContentType[HtmlTagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(exports.HtmlTagContentType||(exports.HtmlTagContentType={}));var HtmlTagContentType=exports.HtmlTagContentType,HtmlTagDefinition=function(){function HtmlTagDefinition(_a){var _this=this,_b=void 0===_a?{}:_a,closedByChildren=_b.closedByChildren,requiredParents=_b.requiredParents,implicitNamespacePrefix=_b.implicitNamespacePrefix,contentType=_b.contentType,closedByParent=_b.closedByParent,isVoid=_b.isVoid,ignoreFirstLf=_b.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,lang_1.isPresent(closedByChildren)&&closedByChildren.length>0&&closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=!0}),this.isVoid=lang_1.normalizeBool(isVoid),this.closedByParent=lang_1.normalizeBool(closedByParent)||this.isVoid,lang_1.isPresent(requiredParents)&&requiredParents.length>0&&(this.requiredParents={},this.parentToAdd=requiredParents[0],requiredParents.forEach(function(tagName){return _this.requiredParents[tagName]=!0})),this.implicitNamespacePrefix=implicitNamespacePrefix,this.contentType=lang_1.isPresent(contentType)?contentType:HtmlTagContentType.PARSABLE_DATA,this.ignoreFirstLf=lang_1.normalizeBool(ignoreFirstLf)}return HtmlTagDefinition.prototype.requireExtraParent=function(currentParent){if(lang_1.isBlank(this.requiredParents))return!1;if(lang_1.isBlank(currentParent))return!0;var lcParent=currentParent.toLowerCase();return 1!=this.requiredParents[lcParent]&&"template"!=lcParent},HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||lang_1.normalizeBool(this.closedByChildren[name.toLowerCase()])},HtmlTagDefinition}();exports.HtmlTagDefinition=HtmlTagDefinition;var TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},DEFAULT_TAG_DEFINITION=new HtmlTagDefinition;exports.getHtmlTagDefinition=getHtmlTagDefinition;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;exports.splitNsName=splitNsName,exports.getNsPrefix=getNsPrefix,exports.mergeNsAndName=mergeNsAndName},{"angular2/src/facade/lang":195}],78:[function(require,module,exports){"use strict";var ParseLocation=function(){function ParseLocation(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}return ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},ParseLocation}();exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){function ParseSourceFile(content,url){this.content=content,this.url=url}return ParseSourceFile}();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=function(){function ParseSourceSpan(start,end){this.start=start,this.end=end}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();exports.ParseSourceSpan=ParseSourceSpan;var ParseError=function(){function ParseError(span,msg){this.span=span,this.msg=msg}return ParseError.prototype.toString=function(){var source=this.span.start.file.content,ctxStart=this.span.start.offset;ctxStart>source.length-1&&(ctxStart=source.length-1);for(var ctxEnd=ctxStart,ctxLen=0,ctxLines=0;100>ctxLen&&ctxStart>0&&(ctxStart--,ctxLen++,"\n"!=source[ctxStart]||3!=++ctxLines););for(ctxLen=0,ctxLines=0;100>ctxLen&&ctxEnd<source.length-1&&(ctxEnd++,ctxLen++,"\n"!=source[ctxEnd]||3!=++ctxLines););var context=source.substring(ctxStart,this.span.start.offset)+"[ERROR ->]"+source.substring(this.span.start.offset,ctxEnd+1);return this.msg+' ("'+context+'"): '+this.span.start},ParseError}();exports.ParseError=ParseError},{}],79:[function(require,module,exports){"use strict";function visitAndReturnContext(visitor,asts,context){return template_ast_1.templateVisitAll(visitor,asts,context),context}function mapToKeyValueArray(data){var entryArray=[];collection_1.StringMapWrapper.forEach(data,function(value,name){entryArray.push([name,value])}),collection_1.ListWrapper.sort(entryArray,function(entry1,entry2){return lang_1.StringWrapper.compare(entry1[0],entry2[0])});var keyValueArray=[];return entryArray.forEach(function(entry){keyValueArray.push([entry[0],entry[1]])}),keyValueArray}function mergeAttributeValue(attrName,attrValue1,attrValue2){return attrName==CLASS_ATTR||attrName==STYLE_ATTR?attrValue1+" "+attrValue2:attrValue2}function keyValueArrayToStringMap(keyValueArray){for(var stringMap={},i=0;i<keyValueArray.length;i++){var entry=keyValueArray[i];stringMap[entry[0]]=entry[1]}return stringMap}function codeGenDirectivesArray(directives){var expressions=directives.map(function(directiveType){return typeRef(directiveType.type)});return"["+expressions.join(",")+"]"}function codeGenTypesArray(types){var expressions=types.map(typeRef);return"["+expressions.join(",")+"]"}function codeGenViewType(value){return lang_1.IS_DART?""+exports.VIEW_TYPE_MODULE_REF+value:""+value}function typeRef(type){return""+source_module_1.moduleRef(type.moduleUrl)+type.name}function getViewType(component,embeddedTemplateIndex){return embeddedTemplateIndex>0?view_type_1.ViewType.EMBEDDED:component.type.isHost?view_type_1.ViewType.HOST:view_type_1.ViewType.COMPONENT}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),template_ast_1=require("./template_ast"),source_module_1=require("./source_module"),view_1=require("angular2/src/core/linker/view"),view_type_1=require("angular2/src/core/linker/view_type"),element_1=require("angular2/src/core/linker/element"),util_1=require("./util"),di_1=require("angular2/src/core/di");exports.PROTO_VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({AppProtoView:view_1.AppProtoView,AppProtoElement:element_1.AppProtoElement,ViewType:view_type_1.ViewType}),exports.APP_VIEW_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/view"+util_1.MODULE_SUFFIX),exports.VIEW_TYPE_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/view_type"+util_1.MODULE_SUFFIX),exports.APP_EL_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/element"+util_1.MODULE_SUFFIX),exports.METADATA_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/metadata/view"+util_1.MODULE_SUFFIX);var IMPLICIT_TEMPLATE_VAR="$implicit",CLASS_ATTR="class",STYLE_ATTR="style",ProtoViewCompiler=function(){function ProtoViewCompiler(){}return ProtoViewCompiler.prototype.compileProtoViewRuntime=function(metadataCache,component,template,pipes){var protoViewFactory=new RuntimeProtoViewFactory(metadataCache,component,pipes),allProtoViews=[];return protoViewFactory.createCompileProtoView(template,[],[],allProtoViews),new CompileProtoViews([],allProtoViews)},ProtoViewCompiler.prototype.compileProtoViewCodeGen=function(resolvedMetadataCacheExpr,component,template,pipes){var protoViewFactory=new CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes),allProtoViews=[],allStatements=[];return protoViewFactory.createCompileProtoView(template,[],allStatements,allProtoViews),new CompileProtoViews(allStatements.map(function(stmt){return stmt.statement}),allProtoViews)},ProtoViewCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ProtoViewCompiler)}();exports.ProtoViewCompiler=ProtoViewCompiler;var CompileProtoViews=function(){function CompileProtoViews(declarations,protoViews){this.declarations=declarations,this.protoViews=protoViews}return CompileProtoViews}();exports.CompileProtoViews=CompileProtoViews;var CompileProtoView=function(){function CompileProtoView(embeddedTemplateIndex,protoElements,protoView){this.embeddedTemplateIndex=embeddedTemplateIndex,this.protoElements=protoElements,this.protoView=protoView}return CompileProtoView}();exports.CompileProtoView=CompileProtoView;var CompileProtoElement=function(){function CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl){this.boundElementIndex=boundElementIndex,this.attrNameAndValues=attrNameAndValues,this.variableNameAndValues=variableNameAndValues,this.renderEvents=renderEvents,this.directives=directives,this.embeddedTemplateIndex=embeddedTemplateIndex,this.appProtoEl=appProtoEl}return CompileProtoElement}();exports.CompileProtoElement=CompileProtoElement;var ProtoViewFactory=function(){function ProtoViewFactory(component){this.component=component}return ProtoViewFactory.prototype.createCompileProtoView=function(template,templateVariableBindings,targetStatements,targetProtoViews){var embeddedTemplateIndex=targetProtoViews.length;targetProtoViews.push(null);var builder=new ProtoViewBuilderVisitor(this,targetStatements,targetProtoViews);template_ast_1.templateVisitAll(builder,template);var viewType=getViewType(this.component,embeddedTemplateIndex),appProtoView=this.createAppProtoView(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements),cpv=new CompileProtoView(embeddedTemplateIndex,builder.protoElements,appProtoView);return targetProtoViews[embeddedTemplateIndex]=cpv,cpv},ProtoViewFactory}(),CodeGenProtoViewFactory=function(_super){function CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes){_super.call(this,component),this.resolvedMetadataCacheExpr=resolvedMetadataCacheExpr,this.pipes=pipes,this._nextVarId=0}return __extends(CodeGenProtoViewFactory,_super),CodeGenProtoViewFactory.prototype._nextProtoViewVar=function(embeddedTemplateIndex){return"appProtoView"+this._nextVarId++ +"_"+this.component.type.name+embeddedTemplateIndex},CodeGenProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var protoViewVarName=this._nextProtoViewVar(embeddedTemplateIndex),viewTypeExpr=codeGenViewType(viewType),pipesExpr=0===embeddedTemplateIndex?codeGenTypesArray(this.pipes.map(function(pipeMeta){return pipeMeta.type})):null,statement="var "+protoViewVarName+" = "+exports.APP_VIEW_MODULE_REF+"AppProtoView.create("+this.resolvedMetadataCacheExpr.expression+", "+viewTypeExpr+", "+pipesExpr+", "+util_1.codeGenStringMap(templateVariableBindings)+");";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(protoViewVarName)},CodeGenProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var varName="appProtoEl"+this._nextVarId++ +"_"+this.component.type.name,value=exports.APP_EL_MODULE_REF+"AppProtoElement.create(\n        "+this.resolvedMetadataCacheExpr.expression+",\n        "+boundElementIndex+",\n        "+util_1.codeGenStringMap(attrNameAndValues)+",\n        "+codeGenDirectivesArray(directives)+",\n        "+util_1.codeGenStringMap(variableNameAndValues)+"\n      )",statement="var "+varName+" = "+value+";";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(varName)},CodeGenProtoViewFactory}(ProtoViewFactory),RuntimeProtoViewFactory=function(_super){function RuntimeProtoViewFactory(metadataCache,component,pipes){_super.call(this,component),this.metadataCache=metadataCache,this.pipes=pipes}return __extends(RuntimeProtoViewFactory,_super),RuntimeProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var pipes=0===embeddedTemplateIndex?this.pipes.map(function(pipeMeta){return pipeMeta.type.runtime}):[],templateVars=keyValueArrayToStringMap(templateVariableBindings);return view_1.AppProtoView.create(this.metadataCache,viewType,pipes,templateVars)},RuntimeProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var attrs=keyValueArrayToStringMap(attrNameAndValues);return element_1.AppProtoElement.create(this.metadataCache,boundElementIndex,attrs,directives.map(function(dirMeta){return dirMeta.type.runtime}),keyValueArrayToStringMap(variableNameAndValues))},RuntimeProtoViewFactory}(ProtoViewFactory),ProtoViewBuilderVisitor=function(){function ProtoViewBuilderVisitor(factory,allStatements,allProtoViews){this.factory=factory,this.allStatements=allStatements,this.allProtoViews=allProtoViews,this.protoElements=[],this.boundElementCount=0}return ProtoViewBuilderVisitor.prototype._readAttrNameAndValues=function(directives,attrAsts){var attrs=visitAndReturnContext(this,attrAsts,{});return directives.forEach(function(directiveMeta){collection_1.StringMapWrapper.forEach(directiveMeta.hostAttributes,function(value,name){var prevValue=attrs[name];attrs[name]=lang_1.isPresent(prevValue)?mergeAttributeValue(name,prevValue,value):value})}),mapToKeyValueArray(attrs)},ProtoViewBuilderVisitor.prototype.visitBoundText=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitText=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitNgContent=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitElement=function(ast,context){var _this=this,boundElementIndex=null;ast.isBound()&&(boundElementIndex=this.boundElementCount++);var component=ast.getComponent(),variableNameAndValues=[];lang_1.isBlank(component)&&ast.exportAsVars.forEach(function(varAst){variableNameAndValues.push([varAst.name,null])});var directives=[],renderEvents=visitAndReturnContext(this,ast.outputs,new Map);collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,renderEvents,variableNameAndValues,directives))});var renderEventArray=[];renderEvents.forEach(function(eventAst,_){return renderEventArray.push(eventAst)});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs);return this._addProtoElement(ast.isBound(),boundElementIndex,attrNameAndValues,variableNameAndValues,renderEventArray,directives,null),template_ast_1.templateVisitAll(this,ast.children),null},ProtoViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,context){var _this=this,boundElementIndex=this.boundElementCount++,directives=[];collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,new Map,[],directives))});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs),templateVariableBindings=ast.vars.map(function(varAst){return[varAst.value.length>0?varAst.value:IMPLICIT_TEMPLATE_VAR,varAst.name]}),nestedProtoView=this.factory.createCompileProtoView(ast.children,templateVariableBindings,this.allStatements,this.allProtoViews);return this._addProtoElement(!0,boundElementIndex,attrNameAndValues,[],[],directives,nestedProtoView.embeddedTemplateIndex),null},ProtoViewBuilderVisitor.prototype._addProtoElement=function(isBound,boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex){var appProtoEl=null;isBound&&(appProtoEl=this.factory.createAppProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,this.allStatements));var compileProtoEl=new CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl);this.protoElements.push(compileProtoEl)},ProtoViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null},ProtoViewBuilderVisitor.prototype.visitAttr=function(ast,attrNameAndValues){return attrNameAndValues[ast.name]=ast.value,null},ProtoViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return ctx.targetDirectives.push(ast.directive),template_ast_1.templateVisitAll(this,ast.hostEvents,ctx.hostEventTargetAndNames),ast.exportAsVars.forEach(function(varAst){ctx.targetVariableNameAndValues.push([varAst.name,ctx.index])}),null},ProtoViewBuilderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return eventTargetAndNames.set(ast.fullName,ast),null},ProtoViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null},ProtoViewBuilderVisitor}(),DirectiveContext=function(){function DirectiveContext(index,boundElementIndex,hostEventTargetAndNames,targetVariableNameAndValues,targetDirectives){this.index=index,this.boundElementIndex=boundElementIndex,this.hostEventTargetAndNames=hostEventTargetAndNames,this.targetVariableNameAndValues=targetVariableNameAndValues,this.targetDirectives=targetDirectives}return DirectiveContext}()},{"./source_module":86,"./template_ast":89,"./util":95,"angular2/src/core/di":135,"angular2/src/core/linker/element":149,"angular2/src/core/linker/view":156,"angular2/src/core/linker/view_type":161,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],80:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},compiler_1=require("angular2/src/core/linker/compiler"),view_ref_1=require("angular2/src/core/linker/view_ref"),template_compiler_1=require("./template_compiler"),di_1=require("angular2/src/core/di"),RuntimeCompiler=function(_super){function RuntimeCompiler(){_super.apply(this,arguments)}return __extends(RuntimeCompiler,_super),RuntimeCompiler}(compiler_1.Compiler);exports.RuntimeCompiler=RuntimeCompiler;var RuntimeCompiler_=function(_super){function RuntimeCompiler_(_templateCompiler){_super.call(this),this._templateCompiler=_templateCompiler}return __extends(RuntimeCompiler_,_super),RuntimeCompiler_.prototype.compileInHost=function(componentType){return this._templateCompiler.compileHostComponentRuntime(componentType).then(function(hostViewFactory){return new view_ref_1.HostViewFactoryRef_(hostViewFactory)})},RuntimeCompiler_.prototype.clearCache=function(){_super.prototype.clearCache.call(this),this._templateCompiler.clearCache()},RuntimeCompiler_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[template_compiler_1.TemplateCompiler])],RuntimeCompiler_)}(compiler_1.Compiler_);exports.RuntimeCompiler_=RuntimeCompiler_},{"./template_compiler":90,"angular2/src/core/di":135,"angular2/src/core/linker/compiler":145,"angular2/src/core/linker/view_ref":159}],81:[function(require,module,exports){"use strict";function flattenDirectives(view,platformDirectives){var directives=[];return lang_1.isPresent(platformDirectives)&&flattenArray(platformDirectives,directives),lang_1.isPresent(view.directives)&&flattenArray(view.directives,directives),directives}function flattenPipes(view,platformPipes){var pipes=[];return lang_1.isPresent(platformPipes)&&flattenArray(platformPipes,pipes),lang_1.isPresent(view.pipes)&&flattenArray(view.pipes,pipes),pipes}function flattenArray(tree,out){for(var i=0;i<tree.length;i++){var item=di_1.resolveForwardRef(tree[i]);lang_1.isArray(item)?flattenArray(item,out):out.push(item)}}function isValidType(value){return lang_1.isPresent(value)&&value instanceof lang_1.Type}function calcModuleUrl(type,cmpMetadata){var moduleId=cmpMetadata.moduleId;if(lang_1.isPresent(moduleId)){var scheme=url_resolver_1.getUrlScheme(moduleId);return lang_1.isPresent(scheme)&&scheme.length>0?moduleId:"package:"+moduleId+util_1.MODULE_SUFFIX}return reflection_1.reflector.importUri(type)}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),cpl=require("./directive_metadata"),md=require("angular2/src/core/metadata/directives"),directive_resolver_1=require("angular2/src/core/linker/directive_resolver"),pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver"),view_resolver_1=require("angular2/src/core/linker/view_resolver"),directive_lifecycle_reflector_1=require("angular2/src/core/linker/directive_lifecycle_reflector"),interfaces_1=require("angular2/src/core/linker/interfaces"),reflection_1=require("angular2/src/core/reflection/reflection"),di_2=require("angular2/src/core/di"),platform_directives_and_pipes_1=require("angular2/src/core/platform_directives_and_pipes"),util_1=require("./util"),assertions_1=require("./assertions"),url_resolver_1=require("angular2/src/compiler/url_resolver"),RuntimeMetadataResolver=function(){
function RuntimeMetadataResolver(_directiveResolver,_pipeResolver,_viewResolver,_platformDirectives,_platformPipes){this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._viewResolver=_viewResolver,this._platformDirectives=_platformDirectives,this._platformPipes=_platformPipes,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return RuntimeMetadataResolver.prototype.sanitizeName=function(obj){var result=lang_1.stringify(obj);if(result.indexOf("(")<0)return result;var found=this._anonymousTypes.get(obj);return found||(this._anonymousTypes.set(obj,this._anonymousTypeIndex++),found=this._anonymousTypes.get(obj)),"anonymous_type_"+found+"_"},RuntimeMetadataResolver.prototype.getDirectiveMetadata=function(directiveType){var meta=this._directiveCache.get(directiveType);if(lang_1.isBlank(meta)){var dirMeta=this._directiveResolver.resolve(directiveType),moduleUrl=null,templateMeta=null,changeDetectionStrategy=null;if(dirMeta instanceof md.ComponentMetadata){assertions_1.assertArrayOfStrings("styles",dirMeta.styles);var cmpMeta=dirMeta;moduleUrl=calcModuleUrl(directiveType,cmpMeta);var viewMeta=this._viewResolver.resolve(directiveType);assertions_1.assertArrayOfStrings("styles",viewMeta.styles),templateMeta=new cpl.CompileTemplateMetadata({encapsulation:viewMeta.encapsulation,template:viewMeta.template,templateUrl:viewMeta.templateUrl,styles:viewMeta.styles,styleUrls:viewMeta.styleUrls}),changeDetectionStrategy=cmpMeta.changeDetection}meta=cpl.CompileDirectiveMetadata.create({selector:dirMeta.selector,exportAs:dirMeta.exportAs,isComponent:lang_1.isPresent(templateMeta),dynamicLoadable:!0,type:new cpl.CompileTypeMetadata({name:this.sanitizeName(directiveType),moduleUrl:moduleUrl,runtime:directiveType}),template:templateMeta,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs,outputs:dirMeta.outputs,host:dirMeta.host,lifecycleHooks:interfaces_1.LIFECYCLE_HOOKS_VALUES.filter(function(hook){return directive_lifecycle_reflector_1.hasLifecycleHook(hook,directiveType)})}),this._directiveCache.set(directiveType,meta)}return meta},RuntimeMetadataResolver.prototype.getPipeMetadata=function(pipeType){var meta=this._pipeCache.get(pipeType);if(lang_1.isBlank(meta)){var pipeMeta=this._pipeResolver.resolve(pipeType),moduleUrl=reflection_1.reflector.importUri(pipeType);meta=new cpl.CompilePipeMetadata({type:new cpl.CompileTypeMetadata({name:this.sanitizeName(pipeType),moduleUrl:moduleUrl,runtime:pipeType}),name:pipeMeta.name,pure:pipeMeta.pure}),this._pipeCache.set(pipeType,meta)}return meta},RuntimeMetadataResolver.prototype.getViewDirectivesMetadata=function(component){for(var _this=this,view=this._viewResolver.resolve(component),directives=flattenDirectives(view,this._platformDirectives),i=0;i<directives.length;i++)if(!isValidType(directives[i]))throw new exceptions_1.BaseException("Unexpected directive value '"+lang_1.stringify(directives[i])+"' on the View of component '"+lang_1.stringify(component)+"'");return directives.map(function(type){return _this.getDirectiveMetadata(type)})},RuntimeMetadataResolver.prototype.getViewPipesMetadata=function(component){for(var _this=this,view=this._viewResolver.resolve(component),pipes=flattenPipes(view,this._platformPipes),i=0;i<pipes.length;i++)if(!isValidType(pipes[i]))throw new exceptions_1.BaseException("Unexpected piped value '"+lang_1.stringify(pipes[i])+"' on the View of component '"+lang_1.stringify(component)+"'");return pipes.map(function(type){return _this.getPipeMetadata(type)})},RuntimeMetadataResolver=__decorate([di_2.Injectable(),__param(3,di_2.Optional()),__param(3,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_DIRECTIVES)),__param(4,di_2.Optional()),__param(4,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_PIPES)),__metadata("design:paramtypes",[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,view_resolver_1.ViewResolver,Array,Array])],RuntimeMetadataResolver)}();exports.RuntimeMetadataResolver=RuntimeMetadataResolver},{"./assertions":69,"./directive_metadata":73,"./util":95,"angular2/src/compiler/url_resolver":94,"angular2/src/core/di":135,"angular2/src/core/linker/directive_lifecycle_reflector":146,"angular2/src/core/linker/directive_resolver":147,"angular2/src/core/linker/interfaces":151,"angular2/src/core/linker/pipe_resolver":152,"angular2/src/core/linker/view_resolver":160,"angular2/src/core/metadata/directives":164,"angular2/src/core/platform_directives_and_pipes":169,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],82:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),html_tags_1=require("angular2/src/compiler/html_tags"),element_schema_registry_1=require("./element_schema_registry"),NAMESPACE_URIS=lang_1.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),DomElementSchemaRegistry=function(_super){function DomElementSchemaRegistry(){_super.apply(this,arguments),this._protoElements=new Map}return __extends(DomElementSchemaRegistry,_super),DomElementSchemaRegistry.prototype._getProtoElement=function(tagName){var element=this._protoElements.get(tagName);if(lang_1.isBlank(element)){var nsAndName=html_tags_1.splitNsName(tagName);element=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]),this._protoElements.set(tagName,element)}return element},DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){if(-1!==tagName.indexOf("-"))return!0;var elm=this._getProtoElement(tagName);return dom_adapter_1.DOM.hasProperty(elm,propName)},DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){var mappedPropName=collection_1.StringMapWrapper.get(dom_adapter_1.DOM.attrToPropMap,propName);return lang_1.isPresent(mappedPropName)?mappedPropName:propName},DomElementSchemaRegistry=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],DomElementSchemaRegistry)}(element_schema_registry_1.ElementSchemaRegistry);exports.DomElementSchemaRegistry=DomElementSchemaRegistry},{"./element_schema_registry":83,"angular2/src/compiler/html_tags":77,"angular2/src/core/di":135,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],83:[function(require,module,exports){"use strict";var ElementSchemaRegistry=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){return!0},ElementSchemaRegistry.prototype.getMappedPropName=function(propName){return propName},ElementSchemaRegistry}();exports.ElementSchemaRegistry=ElementSchemaRegistry},{}],84:[function(require,module,exports){"use strict";var collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),_EMPTY_ATTR_VALUE="",_SELECTOR_REGEXP=lang_1.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),CssSelector=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(selector){for(var match,results=[],_addResult=function(res,cssSel){cssSel.notSelectors.length>0&&lang_1.isBlank(cssSel.element)&&collection_1.ListWrapper.isEmpty(cssSel.classNames)&&collection_1.ListWrapper.isEmpty(cssSel.attrs)&&(cssSel.element="*"),res.push(cssSel)},cssSelector=new CssSelector,matcher=lang_1.RegExpWrapper.matcher(_SELECTOR_REGEXP,selector),current=cssSelector,inNot=!1;lang_1.isPresent(match=lang_1.RegExpMatcherWrapper.next(matcher));){if(lang_1.isPresent(match[1])){if(inNot)throw new exceptions_1.BaseException("Nesting :not is not allowed in a selector");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}if(lang_1.isPresent(match[2])&&current.setElement(match[2]),lang_1.isPresent(match[3])&&current.addClassName(match[3]),lang_1.isPresent(match[4])&&current.addAttribute(match[4],match[5]),lang_1.isPresent(match[6])&&(inNot=!1,current=cssSelector),lang_1.isPresent(match[7])){if(inNot)throw new exceptions_1.BaseException("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results},CssSelector.prototype.isElementSelector=function(){return lang_1.isPresent(this.element)&&collection_1.ListWrapper.isEmpty(this.classNames)&&collection_1.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},CssSelector.prototype.setElement=function(element){void 0===element&&(element=null),this.element=element},CssSelector.prototype.getMatchingElementTemplate=function(){for(var tagName=lang_1.isPresent(this.element)?this.element:"div",classAttr=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",attrs="",i=0;i<this.attrs.length;i+=2){var attrName=this.attrs[i],attrValue=""!==this.attrs[i+1]?'="'+this.attrs[i+1]+'"':"";attrs+=" "+attrName+attrValue}return"<"+tagName+classAttr+attrs+"></"+tagName+">"},CssSelector.prototype.addAttribute=function(name,value){void 0===value&&(value=_EMPTY_ATTR_VALUE),this.attrs.push(name),value=lang_1.isPresent(value)?value.toLowerCase():_EMPTY_ATTR_VALUE,this.attrs.push(value)},CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase())},CssSelector.prototype.toString=function(){var res="";if(lang_1.isPresent(this.element)&&(res+=this.element),lang_1.isPresent(this.classNames))for(var i=0;i<this.classNames.length;i++)res+="."+this.classNames[i];if(lang_1.isPresent(this.attrs))for(var i=0;i<this.attrs.length;){var attrName=this.attrs[i++],attrValue=this.attrs[i++];res+="["+attrName,attrValue.length>0&&(res+="="+attrValue),res+="]"}return this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")"}),res},CssSelector}();exports.CssSelector=CssSelector;var SelectorMatcher=function(){function SelectorMatcher(){this._elementMap=new collection_1.Map,this._elementPartialMap=new collection_1.Map,this._classMap=new collection_1.Map,this._classPartialMap=new collection_1.Map,this._attrValueMap=new collection_1.Map,this._attrValuePartialMap=new collection_1.Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher},SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(var i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)},SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(lang_1.isPresent(element)){var isTerminal=0===attrs.length&&0===classNames.length;isTerminal?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(lang_1.isPresent(classNames))for(var index=0;index<classNames.length;index++){var isTerminal=0===attrs.length&&index===classNames.length-1,className=classNames[index];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(lang_1.isPresent(attrs))for(var index=0;index<attrs.length;){var isTerminal=index===attrs.length-2,attrName=attrs[index++],attrValue=attrs[index++];if(isTerminal){var terminalMap=matcher._attrValueMap,terminalValuesMap=terminalMap.get(attrName);lang_1.isBlank(terminalValuesMap)&&(terminalValuesMap=new collection_1.Map,terminalMap.set(attrName,terminalValuesMap)),this._addTerminal(terminalValuesMap,attrValue,selectable)}else{var parttialMap=matcher._attrValuePartialMap,partialValuesMap=parttialMap.get(attrName);lang_1.isBlank(partialValuesMap)&&(partialValuesMap=new collection_1.Map,parttialMap.set(attrName,partialValuesMap)),matcher=this._addPartial(partialValuesMap,attrValue)}}},SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map.get(name);lang_1.isBlank(terminalList)&&(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)},SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map.get(name);return lang_1.isBlank(matcher)&&(matcher=new SelectorMatcher,map.set(name,matcher)),matcher},SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){for(var result=!1,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,lang_1.isPresent(classNames))for(var index=0;index<classNames.length;index++){var className=classNames[index];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(lang_1.isPresent(attrs))for(var index=0;index<attrs.length;){var attrName=attrs[index++],attrValue=attrs[index++],terminalValuesMap=this._attrValueMap.get(attrName);lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)||(result=this._matchTerminal(terminalValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,attrValue,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap.get(attrName);lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)||(result=this._matchPartial(partialValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,attrValue,cssSelector,matchedCallback)||result}return result},SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name))return!1;var selectables=map.get(name),starSelectables=map.get("*");if(lang_1.isPresent(starSelectables)&&(selectables=selectables.concat(starSelectables)),lang_1.isBlank(selectables))return!1;for(var selectable,result=!1,index=0;index<selectables.length;index++)selectable=selectables[index],result=selectable.finalize(cssSelector,matchedCallback)||result;return result},SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name))return!1;var nestedSelector=map.get(name);return lang_1.isBlank(nestedSelector)?!1:nestedSelector.match(cssSelector,matchedCallback)},SelectorMatcher}();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=function(){function SelectorListContext(selectors){this.selectors=selectors,this.alreadyMatched=!1}return SelectorListContext}();exports.SelectorListContext=SelectorListContext;var SelectorContext=function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}return SelectorContext.prototype.finalize=function(cssSelector,callback){var result=!0;if(this.notSelectors.length>0&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var notMatcher=SelectorMatcher.createNotMatcher(this.notSelectors);result=!notMatcher.match(cssSelector,null)}return result&&lang_1.isPresent(callback)&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(lang_1.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result},SelectorContext}();exports.SelectorContext=SelectorContext},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],85:[function(require,module,exports){"use strict";function stripComments(input){return lang_1.StringWrapper.replaceAllMapped(input,_commentRe,function(_){return""})}function processRules(input,ruleCallback){var inputWithEscapedBlocks=escapeBlocks(input),nextBlockIndex=0;return lang_1.StringWrapper.replaceAllMapped(inputWithEscapedBlocks.escapedString,_ruleRe,function(m){var selector=m[2],content="",suffix=m[4],contentPrefix="";lang_1.isPresent(m[4])&&m[4].startsWith("{"+BLOCK_PLACEHOLDER)&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=m[4].substring(BLOCK_PLACEHOLDER.length+1),contentPrefix="{");var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix})}function escapeBlocks(input){for(var inputParts=lang_1.StringWrapper.split(input,_curlyRe),resultParts=[],escapedBlocks=[],bracketCount=0,currentBlockParts=[],partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];part==CLOSE_CURLY&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER),currentBlockParts=[]),resultParts.push(part)),part==OPEN_CURLY&&bracketCount++}return currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER)),new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}var collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),ShadowCss=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){return void 0===hostSelector&&(hostSelector=""),cssText=stripComments(cssText),cssText=this._insertDirectives(cssText),this._scopeCssText(cssText,selector,hostSelector)},ShadowCss.prototype._insertDirectives=function(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentNextSelectorRe,function(m){return m[1]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentRuleRe,function(m){var rule=m[0];return rule=lang_1.StringWrapper.replace(rule,m[1],""),rule=lang_1.StringWrapper.replace(rule,m[2],""),m[3]+rule})},ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscoped=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),lang_1.isPresent(scopeSelector)&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),cssText=cssText+"\n"+unscoped,cssText.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){for(var m,r="",matcher=lang_1.RegExpWrapper.matcher(_cssContentUnscopedRuleRe,cssText);lang_1.isPresent(m=lang_1.RegExpMatcherWrapper.next(matcher));){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[2],""),rule=lang_1.StringWrapper.replace(rule,m[1],m[3]),r+=rule+"\n\n"}return r},ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return lang_1.StringWrapper.replaceAllMapped(cssText,regExp,function(m){if(lang_1.isPresent(m[2])){for(var parts=m[2].split(","),r=[],i=0;i<parts.length;i++){var p=parts[i];if(lang_1.isBlank(p))break;p=p.trim(),r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){return lang_1.StringWrapper.contains(part,_polyfillHost)?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix},ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+lang_1.StringWrapper.replace(part,_polyfillHost,"")+suffix},ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){for(var i=0;i<_shadowDOMSelectorsRe.length;i++)cssText=lang_1.StringWrapper.replaceAll(cssText,_shadowDOMSelectorsRe[i]," ");return cssText},ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var _this=this;return processRules(cssText,function(rule){var selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]||rule.selector.startsWith("@page")?selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling):rule.selector.startsWith("@media")&&(content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector)),new CssRule(selector,content)})},ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){for(var r=[],parts=selector.split(","),i=0;i<parts.length;i++){var p=parts[i].trim(),deepParts=lang_1.StringWrapper.split(p,_shadowDeepSelectors),shallowPart=deepParts[0];this._selectorNeedsScoping(shallowPart,scopeSelector)&&(deepParts[0]=strict&&!lang_1.StringWrapper.contains(shallowPart,_polyfillHostNoCombinator)?this._applyStrictSelectorScope(shallowPart,scopeSelector):this._applySelectorScope(shallowPart,scopeSelector,hostSelector)),r.push(deepParts.join(" "))}return r.join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){var re=this._makeScopeMatcher(scopeSelector);return!lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(re,selector))},ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){var lre=/\[/g,rre=/\]/g;return scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,lre,"\\["),scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,rre,"\\]"),lang_1.RegExpWrapper.create("^("+scopeSelector+")"+_selectorReSuffix,"m")},ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)},ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(_polyfillHostRe,selector))){var replaceBy=this.strictStyling?"["+hostSelector+"]":scopeSelector;return selector=lang_1.StringWrapper.replace(selector,_polyfillHostNoCombinator,replaceBy),lang_1.StringWrapper.replaceAll(selector,_polyfillHostRe,replaceBy+" ")}return scopeSelector+" "+selector},ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector){var isRe=/\[is=([^\]]*)\]/g;scopeSelector=lang_1.StringWrapper.replaceAllMapped(scopeSelector,isRe,function(m){return m[1]});for(var splits=[" ",">","+","~"],scoped=selector,attrName="["+scopeSelector+"]",i=0;i<splits.length;i++){var sep=splits[i],parts=scoped.split(sep);scoped=parts.map(function(p){var t=lang_1.StringWrapper.replaceAll(p.trim(),_polyfillHostRe,"");if(t.length>0&&!collection_1.ListWrapper.contains(splits,t)&&!lang_1.StringWrapper.contains(t,attrName)){var re=/([^:]*)(:*)(.*)/g,m=lang_1.RegExpWrapper.firstMatch(re,t);lang_1.isPresent(m)&&(p=m[1]+attrName+m[2]+m[3])}return p}).join(sep)}return scoped},ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){return selector=lang_1.StringWrapper.replaceAll(selector,_colonHostContextRe,_polyfillHostContext),selector=lang_1.StringWrapper.replaceAll(selector,_colonHostRe,_polyfillHost)},ShadowCss}();exports.ShadowCss=ShadowCss;var _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=lang_1.RegExpWrapper.create("("+_polyfillHost+_parenSuffix,"im"),_cssColonHostContextRe=lang_1.RegExpWrapper.create("("+_polyfillHostContext+_parenSuffix,"im"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=lang_1.RegExpWrapper.create(_polyfillHost,"im"),_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*[\s\S]*?\*\//g,_ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){function CssRule(selector,content){this.selector=selector,this.content=content}return CssRule}();exports.CssRule=CssRule,exports.processRules=processRules;var StringWithEscapedBlocks=function(){function StringWithEscapedBlocks(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}return StringWithEscapedBlocks}()},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],86:[function(require,module,exports){"use strict";function moduleRef(moduleUrl){return"#MODULE["+moduleUrl+"]"}var lang_1=require("angular2/src/facade/lang"),MODULE_REGEXP=/#MODULE\[([^\]]*)\]/g;exports.moduleRef=moduleRef;var SourceModule=function(){function SourceModule(moduleUrl,sourceWithModuleRefs){this.moduleUrl=moduleUrl,this.sourceWithModuleRefs=sourceWithModuleRefs}return SourceModule.getSourceWithoutImports=function(sourceWithModuleRefs){return lang_1.StringWrapper.replaceAllMapped(sourceWithModuleRefs,MODULE_REGEXP,function(match){return""})},SourceModule.prototype.getSourceWithImports=function(){var _this=this,moduleAliases={},imports=[],newSource=lang_1.StringWrapper.replaceAllMapped(this.sourceWithModuleRefs,MODULE_REGEXP,function(match){var moduleUrl=match[1],alias=moduleAliases[moduleUrl];return lang_1.isBlank(alias)&&(moduleUrl==_this.moduleUrl?alias="":(alias="import"+imports.length,imports.push([moduleUrl,alias])),moduleAliases[moduleUrl]=alias),alias.length>0?alias+".":""});return new SourceWithImports(newSource,imports)},SourceModule}();exports.SourceModule=SourceModule;var SourceExpression=function(){function SourceExpression(declarations,expression){this.declarations=declarations,this.expression=expression}return SourceExpression}();exports.SourceExpression=SourceExpression;var SourceExpressions=function(){function SourceExpressions(declarations,expressions){this.declarations=declarations,this.expressions=expressions}return SourceExpressions}();exports.SourceExpressions=SourceExpressions;var SourceWithImports=function(){function SourceWithImports(source,imports){this.source=source,this.imports=imports}return SourceWithImports}();exports.SourceWithImports=SourceWithImports},{"angular2/src/facade/lang":195}],87:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},source_module_1=require("./source_module"),view_1=require("angular2/src/core/metadata/view"),xhr_1=require("angular2/src/compiler/xhr"),lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),shadow_css_1=require("angular2/src/compiler/shadow_css"),url_resolver_1=require("angular2/src/compiler/url_resolver"),style_url_resolver_1=require("./style_url_resolver"),util_1=require("./util"),di_1=require("angular2/src/core/di"),COMPONENT_VARIABLE="%COMP%",HOST_ATTR="_nghost-"+COMPONENT_VARIABLE,CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE,StyleCompiler=function(){function StyleCompiler(_xhr,_urlResolver){this._xhr=_xhr,this._urlResolver=_urlResolver,this._styleCache=new Map,this._shadowCss=new shadow_css_1.ShadowCss}return StyleCompiler.prototype.compileComponentRuntime=function(template){var styles=template.styles,styleAbsUrls=template.styleUrls;return this._loadStyles(styles,styleAbsUrls,template.encapsulation===view_1.ViewEncapsulation.Emulated)},StyleCompiler.prototype.compileComponentCodeGen=function(template){var shim=template.encapsulation===view_1.ViewEncapsulation.Emulated;return this._styleCodeGen(template.styles,template.styleUrls,shim)},StyleCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){var styleWithImports=style_url_resolver_1.extractStyleUrls(this._urlResolver,stylesheetUrl,cssText);return[this._styleModule(stylesheetUrl,!1,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,!1)),this._styleModule(stylesheetUrl,!0,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,!0))]},StyleCompiler.prototype.clearCache=function(){this._styleCache.clear()},StyleCompiler.prototype._loadStyles=function(plainStyles,absUrls,encapsulate){var _this=this,promises=absUrls.map(function(absUrl){var cacheKey=""+absUrl+(encapsulate?".shim":""),result=_this._styleCache.get(cacheKey);return lang_1.isBlank(result)&&(result=_this._xhr.get(absUrl).then(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,absUrl,style);return _this._loadStyles([styleWithImports.style],styleWithImports.styleUrls,encapsulate)}),_this._styleCache.set(cacheKey,result)),result});return async_1.PromiseWrapper.all(promises).then(function(nestedStyles){var result=plainStyles.map(function(plainStyle){return _this._shimIfNeeded(plainStyle,encapsulate)});return nestedStyles.forEach(function(styles){return result.push(styles)}),result})},StyleCompiler.prototype._styleCodeGen=function(plainStyles,absUrls,shim){for(var _this=this,arrayPrefix=lang_1.IS_DART?"const":"",styleExpressions=plainStyles.map(function(plainStyle){return util_1.escapeSingleQuoteString(_this._shimIfNeeded(plainStyle,shim))}),i=0;i<absUrls.length;i++){var moduleUrl=this._createModuleUrl(absUrls[i],shim);styleExpressions.push(source_module_1.moduleRef(moduleUrl)+"STYLES")}var expressionSource=arrayPrefix+" ["+styleExpressions.join(",")+"]";return new source_module_1.SourceExpression([],expressionSource)},StyleCompiler.prototype._styleModule=function(stylesheetUrl,shim,expression){var moduleSource="\n      "+expression.declarations.join("\n")+"\n      "+util_1.codeGenExportVariable("STYLES")+expression.expression+";\n    ";
return new source_module_1.SourceModule(this._createModuleUrl(stylesheetUrl,shim),moduleSource)},StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style},StyleCompiler.prototype._createModuleUrl=function(stylesheetUrl,shim){return shim?stylesheetUrl+".shim"+util_1.MODULE_SUFFIX:""+stylesheetUrl+util_1.MODULE_SUFFIX},StyleCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[xhr_1.XHR,url_resolver_1.UrlResolver])],StyleCompiler)}();exports.StyleCompiler=StyleCompiler},{"./source_module":86,"./style_url_resolver":88,"./util":95,"angular2/src/compiler/shadow_css":85,"angular2/src/compiler/url_resolver":94,"angular2/src/compiler/xhr":97,"angular2/src/core/di":135,"angular2/src/core/metadata/view":165,"angular2/src/facade/async":187,"angular2/src/facade/lang":195}],88:[function(require,module,exports){"use strict";function isStyleUrlResolvable(url){if(lang_1.isBlank(url)||0===url.length||"/"==url[0])return!1;var schemeMatch=lang_1.RegExpWrapper.firstMatch(_urlWithSchemaRe,url);return lang_1.isBlank(schemeMatch)||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[],modifiedCssText=lang_1.StringWrapper.replaceAllMapped(cssText,_cssImportRe,function(m){var url=lang_1.isPresent(m[1])?m[1]:m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]});return new StyleWithImports(modifiedCssText,foundUrls)}var lang_1=require("angular2/src/facade/lang"),StyleWithImports=function(){function StyleWithImports(style,styleUrls){this.style=style,this.styleUrls=styleUrls}return StyleWithImports}();exports.StyleWithImports=StyleWithImports,exports.isStyleUrlResolvable=isStyleUrlResolvable,exports.extractStyleUrls=extractStyleUrls;var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,_urlWithSchemaRe=/^([a-zA-Z\-\+\.]+):/g},{"angular2/src/facade/lang":195}],89:[function(require,module,exports){"use strict";function templateVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[];return asts.forEach(function(ast){var astResult=ast.visit(visitor,context);lang_1.isPresent(astResult)&&result.push(astResult)}),result}var lang_1=require("angular2/src/facade/lang"),TextAst=function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},TextAst}();exports.TextAst=TextAst;var BoundTextAst=function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context)},BoundTextAst}();exports.BoundTextAst=BoundTextAst;var AttrAst=function(){function AttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},AttrAst}();exports.AttrAst=AttrAst;var BoundElementPropertyAst=function(){function BoundElementPropertyAst(name,type,value,unit,sourceSpan){this.name=name,this.type=type,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan}return BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context)},BoundElementPropertyAst}();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=function(){function BoundEventAst(name,target,handler,sourceSpan){this.name=name,this.target=target,this.handler=handler,this.sourceSpan=sourceSpan}return BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return lang_1.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),BoundEventAst}();exports.BoundEventAst=BoundEventAst;var VariableAst=function(){function VariableAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context)},VariableAst}();exports.VariableAst=VariableAst;var ElementAst=function(){function ElementAst(name,attrs,inputs,outputs,exportAsVars,directives,children,ngContentIndex,sourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.exportAsVars=exportAsVars,this.directives=directives,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},ElementAst.prototype.isBound=function(){return this.inputs.length>0||this.outputs.length>0||this.exportAsVars.length>0||this.directives.length>0},ElementAst.prototype.getComponent=function(){return this.directives.length>0&&this.directives[0].directive.isComponent?this.directives[0].directive:null},ElementAst}();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=function(){function EmbeddedTemplateAst(attrs,outputs,vars,directives,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.vars=vars,this.directives=directives,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context)},EmbeddedTemplateAst}();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}return BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context)},BoundDirectivePropertyAst}();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,exportAsVars,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.exportAsVars=exportAsVars,this.sourceSpan=sourceSpan}return DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context)},DirectiveAst}();exports.DirectiveAst=DirectiveAst;var NgContentAst=function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context)},NgContentAst}();exports.NgContentAst=NgContentAst,function(PropertyBindingType){PropertyBindingType[PropertyBindingType.Property=0]="Property",PropertyBindingType[PropertyBindingType.Attribute=1]="Attribute",PropertyBindingType[PropertyBindingType.Class=2]="Class",PropertyBindingType[PropertyBindingType.Style=3]="Style"}(exports.PropertyBindingType||(exports.PropertyBindingType={}));exports.PropertyBindingType;exports.templateVisitAll=templateVisitAll},{"angular2/src/facade/lang":195}],90:[function(require,module,exports){"use strict";function assertComponent(meta){if(!meta.isComponent)throw new exceptions_1.BaseException("Could not compile '"+meta.type.name+"' because it is not a component.")}function templateModuleUrl(moduleUrl){var urlWithoutSuffix=moduleUrl.substring(0,moduleUrl.length-util_1.MODULE_SUFFIX.length);return urlWithoutSuffix+".template"+util_1.MODULE_SUFFIX}function codeGenHostViewFactoryName(type){return"hostViewFactory_"+type.name}function codeGenComponentViewFactoryName(nestedCompType){return source_module_1.moduleRef(templateModuleUrl(nestedCompType.type.moduleUrl))+"viewFactory_"+nestedCompType.type.name+"0"}function mergeStringMaps(maps){var result={};return maps.forEach(function(map){collection_1.StringMapWrapper.forEach(map,function(value,key){result[key]=value})}),result}function removeDuplicates(items){var res=[];return items.forEach(function(item){var hasMatch=res.filter(function(r){return r.type.name==item.type.name&&r.type.moduleUrl==item.type.moduleUrl&&r.type.runtime==item.type.runtime}).length>0;hasMatch||res.push(item)}),res}function filterPipes(template,allPipes){var visitor=new PipeVisitor;return template_ast_1.templateVisitAll(visitor,template),allPipes.filter(function(pipeMeta){return collection_1.SetWrapper.has(visitor.collector.pipes,pipeMeta.name)})}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),async_1=require("angular2/src/facade/async"),directive_metadata_1=require("./directive_metadata"),template_ast_1=require("./template_ast"),di_1=require("angular2/src/core/di"),source_module_1=require("./source_module"),change_detector_compiler_1=require("./change_detector_compiler"),style_compiler_1=require("./style_compiler"),view_compiler_1=require("./view_compiler"),proto_view_compiler_1=require("./proto_view_compiler"),template_parser_1=require("./template_parser"),template_normalizer_1=require("./template_normalizer"),runtime_metadata_1=require("./runtime_metadata"),view_1=require("angular2/src/core/linker/view"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),resolved_metadata_cache_1=require("angular2/src/core/linker/resolved_metadata_cache"),util_1=require("./util");exports.METADATA_CACHE_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/resolved_metadata_cache"+util_1.MODULE_SUFFIX);var TemplateCompiler=function(){function TemplateCompiler(_runtimeMetadataResolver,_templateNormalizer,_templateParser,_styleCompiler,_cdCompiler,_protoViewCompiler,_viewCompiler,_resolvedMetadataCache,_genConfig){this._runtimeMetadataResolver=_runtimeMetadataResolver,this._templateNormalizer=_templateNormalizer,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._cdCompiler=_cdCompiler,this._protoViewCompiler=_protoViewCompiler,this._viewCompiler=_viewCompiler,this._resolvedMetadataCache=_resolvedMetadataCache,this._genConfig=_genConfig,this._hostCacheKeys=new Map,this._compiledTemplateCache=new Map,this._compiledTemplateDone=new Map}return TemplateCompiler.prototype.normalizeDirectiveMetadata=function(directive){return directive.isComponent?this._templateNormalizer.normalizeTemplate(directive.type,directive.template).then(function(normalizedTemplate){return new directive_metadata_1.CompileDirectiveMetadata({type:directive.type,isComponent:directive.isComponent,dynamicLoadable:directive.dynamicLoadable,selector:directive.selector,exportAs:directive.exportAs,changeDetection:directive.changeDetection,inputs:directive.inputs,outputs:directive.outputs,hostListeners:directive.hostListeners,hostProperties:directive.hostProperties,hostAttributes:directive.hostAttributes,lifecycleHooks:directive.lifecycleHooks,providers:directive.providers,viewProviders:directive.viewProviders,queries:directive.queries,viewQueries:directive.viewQueries,template:normalizedTemplate})}):async_1.PromiseWrapper.resolve(directive)},TemplateCompiler.prototype.compileHostComponentRuntime=function(type){var compMeta=this._runtimeMetadataResolver.getDirectiveMetadata(type),hostCacheKey=this._hostCacheKeys.get(type);if(lang_1.isBlank(hostCacheKey)){hostCacheKey=new Object,this._hostCacheKeys.set(type,hostCacheKey),assertComponent(compMeta);var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);this._compileComponentRuntime(hostCacheKey,hostMeta,[compMeta],[],[])}return this._compiledTemplateDone.get(hostCacheKey).then(function(compiledTemplate){return new view_1.HostViewFactory(compMeta.selector,compiledTemplate.viewFactory)})},TemplateCompiler.prototype.clearCache=function(){this._styleCompiler.clearCache(),this._compiledTemplateCache.clear(),this._compiledTemplateDone.clear(),this._hostCacheKeys.clear()},TemplateCompiler.prototype.compileTemplatesCodeGen=function(components){var _this=this;if(0===components.length)throw new exceptions_1.BaseException("No components given");var declarations=[];components.forEach(function(componentWithDirs){var compMeta=componentWithDirs.component;if(assertComponent(compMeta),_this._compileComponentCodeGen(compMeta,componentWithDirs.directives,componentWithDirs.pipes,declarations),compMeta.dynamicLoadable){var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector),viewFactoryExpression=_this._compileComponentCodeGen(hostMeta,[compMeta],[],declarations),constructionKeyword=lang_1.IS_DART?"const":"new",compiledTemplateExpr=constructionKeyword+" "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"HostViewFactory('"+compMeta.selector+"',"+viewFactoryExpression+")",varName=codeGenHostViewFactoryName(compMeta.type);declarations.push(""+util_1.codeGenExportVariable(varName)+compiledTemplateExpr+";")}});var moduleUrl=components[0].component.type.moduleUrl;return new source_module_1.SourceModule(""+templateModuleUrl(moduleUrl),declarations.join("\n"))},TemplateCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){return this._styleCompiler.compileStylesheetCodeGen(stylesheetUrl,cssText)},TemplateCompiler.prototype._compileComponentRuntime=function(cacheKey,compMeta,viewDirectives,pipes,compilingComponentsPath){var _this=this,uniqViewDirectives=removeDuplicates(viewDirectives),uniqViewPipes=removeDuplicates(pipes),compiledTemplate=this._compiledTemplateCache.get(cacheKey),done=this._compiledTemplateDone.get(cacheKey);return lang_1.isBlank(compiledTemplate)&&(compiledTemplate=new CompiledTemplate,this._compiledTemplateCache.set(cacheKey,compiledTemplate),done=async_1.PromiseWrapper.all([this._styleCompiler.compileComponentRuntime(compMeta.template)].concat(uniqViewDirectives.map(function(dirMeta){return _this.normalizeDirectiveMetadata(dirMeta)}))).then(function(stylesAndNormalizedViewDirMetas){var normalizedViewDirMetas=stylesAndNormalizedViewDirMetas.slice(1),styles=stylesAndNormalizedViewDirMetas[0],parsedTemplate=_this._templateParser.parse(compMeta.template.template,normalizedViewDirMetas,uniqViewPipes,compMeta.type.name),childPromises=[],usedDirectives=DirectiveCollector.findUsedDirectives(parsedTemplate);return usedDirectives.components.forEach(function(component){return _this._compileNestedComponentRuntime(component,compilingComponentsPath,childPromises)}),async_1.PromiseWrapper.all(childPromises).then(function(_){var filteredPipes=filterPipes(parsedTemplate,uniqViewPipes);return compiledTemplate.init(_this._createViewFactoryRuntime(compMeta,parsedTemplate,usedDirectives.directives,styles,filteredPipes)),compiledTemplate})}),this._compiledTemplateDone.set(cacheKey,done)),compiledTemplate},TemplateCompiler.prototype._compileNestedComponentRuntime=function(childComponentDir,parentCompilingComponentsPath,childPromises){var compilingComponentsPath=collection_1.ListWrapper.clone(parentCompilingComponentsPath),childCacheKey=childComponentDir.type.runtime,childViewDirectives=this._runtimeMetadataResolver.getViewDirectivesMetadata(childComponentDir.type.runtime),childViewPipes=this._runtimeMetadataResolver.getViewPipesMetadata(childComponentDir.type.runtime),childIsRecursive=collection_1.ListWrapper.contains(compilingComponentsPath,childCacheKey);compilingComponentsPath.push(childCacheKey),this._compileComponentRuntime(childCacheKey,childComponentDir,childViewDirectives,childViewPipes,compilingComponentsPath),childIsRecursive||childPromises.push(this._compiledTemplateDone.get(childCacheKey))},TemplateCompiler.prototype._createViewFactoryRuntime=function(compMeta,parsedTemplate,directives,styles,pipes){var _this=this;if(lang_1.IS_DART||!this._genConfig.useJit){var changeDetectorFactories=this._cdCompiler.compileComponentRuntime(compMeta.type,compMeta.changeDetection,parsedTemplate),protoViews=this._protoViewCompiler.compileProtoViewRuntime(this._resolvedMetadataCache,compMeta,parsedTemplate,pipes);return this._viewCompiler.compileComponentRuntime(compMeta,parsedTemplate,styles,protoViews.protoViews,changeDetectorFactories,function(compMeta){return _this._getNestedComponentViewFactory(compMeta)})}var declarations=[],viewFactoryExpr=this._createViewFactoryCodeGen("resolvedMetadataCache",compMeta,new source_module_1.SourceExpression([],"styles"),parsedTemplate,pipes,declarations),vars={exports:{},styles:styles,resolvedMetadataCache:this._resolvedMetadataCache};directives.forEach(function(dirMeta){vars[dirMeta.type.name]=dirMeta.type.runtime,dirMeta.isComponent&&dirMeta.type.runtime!==compMeta.type.runtime&&(vars["viewFactory_"+dirMeta.type.name+"0"]=_this._getNestedComponentViewFactory(dirMeta))}),pipes.forEach(function(pipeMeta){return vars[pipeMeta.type.name]=pipeMeta.type.runtime});var declarationsWithoutImports=source_module_1.SourceModule.getSourceWithoutImports(declarations.join("\n"));return lang_1.evalExpression("viewFactory_"+compMeta.type.name,viewFactoryExpr,declarationsWithoutImports,mergeStringMaps([vars,change_detector_compiler_1.CHANGE_DETECTION_JIT_IMPORTS,proto_view_compiler_1.PROTO_VIEW_JIT_IMPORTS,view_compiler_1.VIEW_JIT_IMPORTS]))},TemplateCompiler.prototype._getNestedComponentViewFactory=function(compMeta){return this._compiledTemplateCache.get(compMeta.type.runtime).viewFactory},TemplateCompiler.prototype._compileComponentCodeGen=function(compMeta,directives,pipes,targetDeclarations){var uniqueDirectives=removeDuplicates(directives),uniqPipes=removeDuplicates(pipes),styleExpr=this._styleCompiler.compileComponentCodeGen(compMeta.template),parsedTemplate=this._templateParser.parse(compMeta.template.template,uniqueDirectives,uniqPipes,compMeta.type.name),filteredPipes=filterPipes(parsedTemplate,uniqPipes);return this._createViewFactoryCodeGen(exports.METADATA_CACHE_MODULE_REF+"CODEGEN_RESOLVED_METADATA_CACHE",compMeta,styleExpr,parsedTemplate,filteredPipes,targetDeclarations)},TemplateCompiler.prototype._createViewFactoryCodeGen=function(resolvedMetadataCacheExpr,compMeta,styleExpr,parsedTemplate,pipes,targetDeclarations){var changeDetectorsExprs=this._cdCompiler.compileComponentCodeGen(compMeta.type,compMeta.changeDetection,parsedTemplate),protoViewExprs=this._protoViewCompiler.compileProtoViewCodeGen(new util_1.Expression(resolvedMetadataCacheExpr),compMeta,parsedTemplate,pipes),viewFactoryExpr=this._viewCompiler.compileComponentCodeGen(compMeta,parsedTemplate,styleExpr,protoViewExprs.protoViews,changeDetectorsExprs,codeGenComponentViewFactoryName);return util_1.addAll(changeDetectorsExprs.declarations,targetDeclarations),util_1.addAll(protoViewExprs.declarations,targetDeclarations),util_1.addAll(viewFactoryExpr.declarations,targetDeclarations),viewFactoryExpr.expression},TemplateCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[runtime_metadata_1.RuntimeMetadataResolver,template_normalizer_1.TemplateNormalizer,template_parser_1.TemplateParser,style_compiler_1.StyleCompiler,change_detector_compiler_1.ChangeDetectionCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,resolved_metadata_cache_1.ResolvedMetadataCache,change_detection_1.ChangeDetectorGenConfig])],TemplateCompiler)}();exports.TemplateCompiler=TemplateCompiler;var NormalizedComponentWithViewDirectives=function(){function NormalizedComponentWithViewDirectives(component,directives,pipes){this.component=component,this.directives=directives,this.pipes=pipes}return NormalizedComponentWithViewDirectives}();exports.NormalizedComponentWithViewDirectives=NormalizedComponentWithViewDirectives;var CompiledTemplate=function(){function CompiledTemplate(){this.viewFactory=null}return CompiledTemplate.prototype.init=function(viewFactory){this.viewFactory=viewFactory},CompiledTemplate}(),DirectiveCollector=function(){function DirectiveCollector(){this.directives=[],this.components=[]}return DirectiveCollector.findUsedDirectives=function(parsedTemplate){var collector=new DirectiveCollector;return template_ast_1.templateVisitAll(collector,parsedTemplate),collector},DirectiveCollector.prototype.visitBoundText=function(ast,context){return null},DirectiveCollector.prototype.visitText=function(ast,context){return null},DirectiveCollector.prototype.visitNgContent=function(ast,context){return null},DirectiveCollector.prototype.visitElement=function(ast,context){return template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},DirectiveCollector.prototype.visitEmbeddedTemplate=function(ast,context){return template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},DirectiveCollector.prototype.visitVariable=function(ast,ctx){return null},DirectiveCollector.prototype.visitAttr=function(ast,attrNameAndValues){return null},DirectiveCollector.prototype.visitDirective=function(ast,ctx){return ast.directive.isComponent&&this.components.push(ast.directive),this.directives.push(ast.directive),null},DirectiveCollector.prototype.visitEvent=function(ast,eventTargetAndNames){return null},DirectiveCollector.prototype.visitDirectiveProperty=function(ast,context){return null},DirectiveCollector.prototype.visitElementProperty=function(ast,context){return null},DirectiveCollector}(),PipeVisitor=function(){function PipeVisitor(){this.collector=new template_parser_1.PipeCollector}return PipeVisitor.prototype.visitBoundText=function(ast,context){return ast.value.visit(this.collector),null},PipeVisitor.prototype.visitText=function(ast,context){return null},PipeVisitor.prototype.visitNgContent=function(ast,context){return null},PipeVisitor.prototype.visitElement=function(ast,context){return template_ast_1.templateVisitAll(this,ast.inputs),template_ast_1.templateVisitAll(this,ast.outputs),template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},PipeVisitor.prototype.visitEmbeddedTemplate=function(ast,context){return template_ast_1.templateVisitAll(this,ast.outputs),template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},PipeVisitor.prototype.visitVariable=function(ast,ctx){return null},PipeVisitor.prototype.visitAttr=function(ast,attrNameAndValues){return null},PipeVisitor.prototype.visitDirective=function(ast,ctx){return template_ast_1.templateVisitAll(this,ast.inputs),template_ast_1.templateVisitAll(this,ast.hostEvents),template_ast_1.templateVisitAll(this,ast.hostProperties),null},PipeVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return ast.handler.visit(this.collector),null},PipeVisitor.prototype.visitDirectiveProperty=function(ast,context){return ast.value.visit(this.collector),null},PipeVisitor.prototype.visitElementProperty=function(ast,context){return ast.value.visit(this.collector),null},PipeVisitor}()},{"./change_detector_compiler":71,"./directive_metadata":73,"./proto_view_compiler":79,"./runtime_metadata":81,"./source_module":86,"./style_compiler":87,"./template_ast":89,"./template_normalizer":91,"./template_parser":92,"./util":95,"./view_compiler":96,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/di":135,"angular2/src/core/linker/resolved_metadata_cache":154,"angular2/src/core/linker/view":156,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],91:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},directive_metadata_1=require("./directive_metadata"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),async_1=require("angular2/src/facade/async"),xhr_1=require("angular2/src/compiler/xhr"),url_resolver_1=require("angular2/src/compiler/url_resolver"),style_url_resolver_1=require("./style_url_resolver"),di_1=require("angular2/src/core/di"),view_1=require("angular2/src/core/metadata/view"),html_ast_1=require("./html_ast"),html_parser_1=require("./html_parser"),template_preparser_1=require("./template_preparser"),TemplateNormalizer=function(){function TemplateNormalizer(_xhr,_urlResolver,_htmlParser){this._xhr=_xhr,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser}return TemplateNormalizer.prototype.normalizeTemplate=function(directiveType,template){var _this=this;if(lang_1.isPresent(template.template))return async_1.PromiseWrapper.resolve(this.normalizeLoadedTemplate(directiveType,template,template.template,directiveType.moduleUrl));if(lang_1.isPresent(template.templateUrl)){var sourceAbsUrl=this._urlResolver.resolve(directiveType.moduleUrl,template.templateUrl);return this._xhr.get(sourceAbsUrl).then(function(templateContent){return _this.normalizeLoadedTemplate(directiveType,template,templateContent,sourceAbsUrl)})}throw new exceptions_1.BaseException("No template specified for component "+directiveType.name)},TemplateNormalizer.prototype.normalizeLoadedTemplate=function(directiveType,templateMeta,template,templateAbsUrl){var _this=this,rootNodesAndErrors=this._htmlParser.parse(template,directiveType.name);if(rootNodesAndErrors.errors.length>0){var errorString=rootNodesAndErrors.errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}var visitor=new TemplatePreparseVisitor;html_ast_1.htmlVisitAll(visitor,rootNodesAndErrors.rootNodes);var allStyles=templateMeta.styles.concat(visitor.styles),allStyleAbsUrls=visitor.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(templateAbsUrl,url)}).concat(templateMeta.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(directiveType.moduleUrl,url)})),allResolvedStyles=allStyles.map(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,templateAbsUrl,style);return styleWithImports.styleUrls.forEach(function(styleUrl){return allStyleAbsUrls.push(styleUrl)}),styleWithImports.style}),encapsulation=templateMeta.encapsulation;return encapsulation===view_1.ViewEncapsulation.Emulated&&0===allResolvedStyles.length&&0===allStyleAbsUrls.length&&(encapsulation=view_1.ViewEncapsulation.None),new directive_metadata_1.CompileTemplateMetadata({encapsulation:encapsulation,template:template,templateUrl:templateAbsUrl,styles:allResolvedStyles,styleUrls:allStyleAbsUrls,ngContentSelectors:visitor.ngContentSelectors})},TemplateNormalizer=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[xhr_1.XHR,url_resolver_1.UrlResolver,html_parser_1.HtmlParser])],TemplateNormalizer)}();exports.TemplateNormalizer=TemplateNormalizer;var TemplatePreparseVisitor=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=template_preparser_1.preparseElement(ast);switch(preparsedElement.type){case template_preparser_1.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case template_preparser_1.PreparsedElementType.STYLE:var textContent="";ast.children.forEach(function(child){child instanceof html_ast_1.HtmlTextAst&&(textContent+=child.value)}),this.styles.push(textContent);break;case template_preparser_1.PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,html_ast_1.htmlVisitAll(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitAttr=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null},TemplatePreparseVisitor}()},{"./directive_metadata":73,"./html_ast":74,"./html_parser":76,"./style_url_resolver":88,"./template_preparser":93,"angular2/src/compiler/url_resolver":94,"angular2/src/compiler/xhr":97,"angular2/src/core/di":135,"angular2/src/core/metadata/view":165,"angular2/src/facade/async":187,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],92:[function(require,module,exports){"use strict";function splitClasses(classAttrValue){return lang_1.StringWrapper.split(classAttrValue.trim(),/\s+/g)}function createElementCssSelector(elementName,matchableAttrs){var cssSelector=new selector_1.CssSelector,elNameNoNs=html_tags_1.splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<matchableAttrs.length;i++){var attrName=matchableAttrs[i][0],attrNameNoNs=html_tags_1.splitNsName(attrName)[1],attrValue=matchableAttrs[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),attrName.toLowerCase()==CLASS_ATTR){var classes=splitClasses(attrValue);classes.forEach(function(className){return cssSelector.addClassName(className)})}}return cssSelector}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),lang_2=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),html_parser_1=require("./html_parser"),html_tags_1=require("./html_tags"),parse_util_1=require("./parse_util"),ast_1=require("angular2/src/core/change_detection/parser/ast"),template_ast_1=require("./template_ast"),selector_1=require("angular2/src/compiler/selector"),element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry"),template_preparser_1=require("./template_preparser"),style_url_resolver_1=require("./style_url_resolver"),html_ast_1=require("./html_ast"),util_1=require("./util"),BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,TEMPLATE_ELEMENT="template",TEMPLATE_ATTR="template",TEMPLATE_ATTR_PREFIX="*",CLASS_ATTR="class",PROPERTY_PARTS_SEPARATOR=".",ATTRIBUTE_PREFIX="attr",CLASS_PREFIX="class",STYLE_PREFIX="style",TEXT_CSS_SELECTOR=selector_1.CssSelector.parse("*")[0];
exports.TEMPLATE_TRANSFORMS=lang_2.CONST_EXPR(new core_1.OpaqueToken("TemplateTransforms"));var TemplateParseError=function(_super){function TemplateParseError(message,span){_super.call(this,span,message)}return __extends(TemplateParseError,_super),TemplateParseError}(parse_util_1.ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParseResult=function(){function TemplateParseResult(templateAst,errors){this.templateAst=templateAst,this.errors=errors}return TemplateParseResult}();exports.TemplateParseResult=TemplateParseResult;var TemplateParser=function(){function TemplateParser(_exprParser,_schemaRegistry,_htmlParser,transforms){this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this.transforms=transforms}return TemplateParser.prototype.parse=function(template,directives,pipes,templateUrl){var result=this.tryParse(template,directives,pipes,templateUrl);if(lang_1.isPresent(result.errors)){var errorString=result.errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}return result.templateAst},TemplateParser.prototype.tryParse=function(template,directives,pipes,templateUrl){var parseVisitor=new TemplateParseVisitor(directives,pipes,this._exprParser,this._schemaRegistry),htmlAstWithErrors=this._htmlParser.parse(template,templateUrl),result=html_ast_1.htmlVisitAll(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_COMPONENT),errors=htmlAstWithErrors.errors.concat(parseVisitor.errors);return errors.length>0?new TemplateParseResult(result,errors):(lang_1.isPresent(this.transforms)&&this.transforms.forEach(function(transform){result=template_ast_1.templateVisitAll(transform,result)}),new TemplateParseResult(result))},TemplateParser=__decorate([core_1.Injectable(),__param(3,core_1.Optional()),__param(3,core_1.Inject(exports.TEMPLATE_TRANSFORMS)),__metadata("design:paramtypes",[change_detection_1.Parser,element_schema_registry_1.ElementSchemaRegistry,html_parser_1.HtmlParser,Array])],TemplateParser)}();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=function(){function TemplateParseVisitor(directives,pipes,_exprParser,_schemaRegistry){var _this=this;this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new selector_1.SelectorMatcher,collection_1.ListWrapper.forEachWithIndex(directives,function(directive,index){var selector=selector_1.CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive),_this.directivesIndex.set(directive,index)}),this.pipesByName=new Map,pipes.forEach(function(pipe){return _this.pipesByName.set(pipe.name,pipe)})}return TemplateParseVisitor.prototype._reportError=function(message,sourceSpan){this.errors.push(new TemplateParseError(message,sourceSpan))},TemplateParseVisitor.prototype._parseInterpolation=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseAction=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseAction(value,sourceInfo);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseBinding=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseBinding(value,sourceInfo);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(value,sourceSpan){var _this=this,sourceInfo=sourceSpan.start.toString();try{var bindings=this._exprParser.parseTemplateBindings(value,sourceInfo);return bindings.forEach(function(binding){lang_1.isPresent(binding.expression)&&_this._checkPipes(binding.expression,sourceSpan)}),bindings}catch(e){return this._reportError(""+e,sourceSpan),[]}},TemplateParseVisitor.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(lang_1.isPresent(ast)){var collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach(function(pipeName){_this.pipesByName.has(pipeName)||_this._reportError("The pipe '"+pipeName+"' could not be found",sourceSpan)})}},TemplateParseVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR),expr=this._parseInterpolation(ast.value,ast.sourceSpan);return lang_1.isPresent(expr)?new template_ast_1.BoundTextAst(expr,ngContentIndex,ast.sourceSpan):new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)},TemplateParseVisitor.prototype.visitAttr=function(ast,contex){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(ast,context){return null},TemplateParseVisitor.prototype.visitElement=function(element,component){var _this=this,nodeName=element.name,preparsedElement=template_preparser_1.preparseElement(element);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE)return null;if(preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET&&style_url_resolver_1.isStyleUrlResolvable(preparsedElement.hrefAttr))return null;var matchableAttrs=[],elementOrDirectiveProps=[],vars=[],events=[],templateElementOrDirectiveProps=[],templateVars=[],templateMatchableAttrs=[],hasInlineTemplates=!1,attrs=[];element.attrs.forEach(function(attr){var hasBinding=_this._parseAttr(attr,matchableAttrs,elementOrDirectiveProps,events,vars),hasTemplateBinding=_this._parseInlineTemplateBinding(attr,templateMatchableAttrs,templateElementOrDirectiveProps,templateVars);hasBinding||hasTemplateBinding||(attrs.push(_this.visitAttr(attr,null)),matchableAttrs.push([attr.name,attr.value])),hasTemplateBinding&&(hasInlineTemplates=!0)});var parsedElement,lcElName=html_tags_1.splitNsName(nodeName.toLowerCase())[1],isTemplateElement=lcElName==TEMPLATE_ELEMENT,elementCssSelector=createElementCssSelector(nodeName,matchableAttrs),directives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,elementCssSelector),elementOrDirectiveProps,isTemplateElement?[]:vars,element.sourceSpan),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,directives),children=html_ast_1.htmlVisitAll(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,Component.create(directives)),projectionSelector=lang_1.isPresent(preparsedElement.projectAs)?selector_1.CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector,ngContentIndex=component.findNgContentIndex(projectionSelector);if(preparsedElement.type===template_preparser_1.PreparsedElementType.NG_CONTENT)lang_1.isPresent(element.children)&&element.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",element.sourceSpan),parsedElement=new template_ast_1.NgContentAst(this.ngContentCount++,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directives,events),this._assertNoComponentsNorElementBindingsOnTemplate(directives,elementProps,element.sourceSpan),parsedElement=new template_ast_1.EmbeddedTemplateAst(attrs,events,vars,directives,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else{this._assertOnlyOneComponent(directives,element.sourceSpan);var elementExportAsVars=vars.filter(function(varAst){return 0===varAst.value.length}),ngContentIndex_1=hasInlineTemplates?null:component.findNgContentIndex(projectionSelector);parsedElement=new template_ast_1.ElementAst(nodeName,attrs,elementProps,events,elementExportAsVars,directives,children,hasInlineTemplates?null:ngContentIndex_1,element.sourceSpan)}if(hasInlineTemplates){var templateCssSelector=createElementCssSelector(TEMPLATE_ELEMENT,templateMatchableAttrs),templateDirectives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,templateCssSelector),templateElementOrDirectiveProps,[],element.sourceSpan),templateElementProps=this._createElementPropertyAsts(element.name,templateElementOrDirectiveProps,templateDirectives);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectives,templateElementProps,element.sourceSpan),parsedElement=new template_ast_1.EmbeddedTemplateAst([],[],templateVars,templateDirectives,[parsedElement],ngContentIndex,element.sourceSpan)}return parsedElement},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(attr,targetMatchableAttrs,targetProps,targetVars){var templateBindingsSource=null;if(attr.name==TEMPLATE_ATTR)templateBindingsSource=attr.value;else if(attr.name.startsWith(TEMPLATE_ATTR_PREFIX)){var key=attr.name.substring(TEMPLATE_ATTR_PREFIX.length);templateBindingsSource=0==attr.value.length?key:key+" "+attr.value}if(lang_1.isPresent(templateBindingsSource)){for(var bindings=this._parseTemplateBindings(templateBindingsSource,attr.sourceSpan),i=0;i<bindings.length;i++){var binding=bindings[i];binding.keyIsVar?(targetVars.push(new template_ast_1.VariableAst(binding.key,binding.name,attr.sourceSpan)),targetMatchableAttrs.push([binding.key,binding.name])):lang_1.isPresent(binding.expression)?this._parsePropertyAst(binding.key,binding.expression,attr.sourceSpan,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this._parseLiteralAttr(binding.key,null,attr.sourceSpan,targetProps))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(attr,targetMatchableAttrs,targetProps,targetEvents,targetVars){var attrName=this._normalizeAttributeName(attr.name),attrValue=attr.value,bindParts=lang_1.RegExpWrapper.firstMatch(BIND_NAME_REGEXP,attrName),hasBinding=!1;if(lang_1.isPresent(bindParts))if(hasBinding=!0,lang_1.isPresent(bindParts[1]))this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);else if(lang_1.isPresent(bindParts[2])){var identifier=bindParts[5];this._parseVariable(identifier,attrValue,attr.sourceSpan,targetVars)}else lang_1.isPresent(bindParts[3])?this._parseEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents):lang_1.isPresent(bindParts[4])?(this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)):lang_1.isPresent(bindParts[6])?(this._parseProperty(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)):lang_1.isPresent(bindParts[7])?this._parseProperty(bindParts[7],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps):lang_1.isPresent(bindParts[8])&&this._parseEvent(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);else hasBinding=this._parsePropertyInterpolation(attrName,attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);return hasBinding||this._parseLiteralAttr(attrName,attrValue,attr.sourceSpan,targetProps),hasBinding},TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return attrName.toLowerCase().startsWith("data-")?attrName.substring(5):attrName},TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',sourceSpan),targetVars.push(new template_ast_1.VariableAst(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseProperty=function(name,expression,sourceSpan,targetMatchableAttrs,targetProps){this._parsePropertyAst(name,this._parseBinding(expression,sourceSpan),sourceSpan,targetMatchableAttrs,targetProps)},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(name,value,sourceSpan,targetMatchableAttrs,targetProps){var expr=this._parseInterpolation(value,sourceSpan);return lang_1.isPresent(expr)?(this._parsePropertyAst(name,expr,sourceSpan,targetMatchableAttrs,targetProps),!0):!1},TemplateParseVisitor.prototype._parsePropertyAst=function(name,ast,sourceSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new BoundElementOrDirectiveProperty(name,ast,!1,sourceSpan))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){this._parseEvent(name+"Change",expression+"=$event",sourceSpan,targetMatchableAttrs,targetEvents)},TemplateParseVisitor.prototype._parseEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){var parts=util_1.splitAtColon(name,[null,name]),target=parts[0],eventName=parts[1],ast=this._parseAction(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new template_ast_1.BoundEventAst(eventName,target,ast,sourceSpan))},TemplateParseVisitor.prototype._parseLiteralAttr=function(name,value,sourceSpan,targetProps){targetProps.push(new BoundElementOrDirectiveProperty(name,this._exprParser.wrapLiteralPrimitive(value,""),!0,sourceSpan))},TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this,directives=[];return selectorMatcher.match(elementCssSelector,function(selector,directive){directives.push(directive)}),collection_1.ListWrapper.sort(directives,function(dir1,dir2){var dir1Comp=dir1.isComponent,dir2Comp=dir2.isComponent;return dir1Comp&&!dir2Comp?-1:!dir1Comp&&dir2Comp?1:_this.directivesIndex.get(dir1)-_this.directivesIndex.get(dir2)}),directives},TemplateParseVisitor.prototype._createDirectiveAsts=function(elementName,directives,props,possibleExportAsVars,sourceSpan){var _this=this,matchedVariables=new Set,directiveAsts=directives.map(function(directive){var hostProperties=[],hostEvents=[],directiveProperties=[];_this._createDirectiveHostPropertyAsts(elementName,directive.hostProperties,sourceSpan,hostProperties),_this._createDirectiveHostEventAsts(directive.hostListeners,sourceSpan,hostEvents),_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties);var exportAsVars=[];return possibleExportAsVars.forEach(function(varAst){(0===varAst.value.length&&directive.isComponent||directive.exportAs==varAst.value)&&(exportAsVars.push(varAst),matchedVariables.add(varAst.name))}),new template_ast_1.DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,exportAsVars,sourceSpan)});return possibleExportAsVars.forEach(function(varAst){varAst.value.length>0&&!collection_1.SetWrapper.has(matchedVariables,varAst.name)&&_this._reportError('There is no directive with "exportAs" set to "'+varAst.value+'"',varAst.sourceSpan)}),directiveAsts},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(elementName,hostProps,sourceSpan,targetPropertyAsts){var _this=this;lang_1.isPresent(hostProps)&&collection_1.StringMapWrapper.forEach(hostProps,function(expression,propName){var exprAst=_this._parseBinding(expression,sourceSpan);targetPropertyAsts.push(_this._createElementPropertyAst(elementName,propName,exprAst,sourceSpan))})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(hostListeners,sourceSpan,targetEventAsts){var _this=this;lang_1.isPresent(hostListeners)&&collection_1.StringMapWrapper.forEach(hostListeners,function(expression,propName){_this._parseEvent(propName,expression,sourceSpan,[],targetEventAsts)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps){if(lang_1.isPresent(directiveProperties)){var boundPropsByName=new Map;boundProps.forEach(function(boundProp){var prevValue=boundPropsByName.get(boundProp.name);(lang_1.isBlank(prevValue)||prevValue.isLiteral)&&boundPropsByName.set(boundProp.name,boundProp)}),collection_1.StringMapWrapper.forEach(directiveProperties,function(elProp,dirProp){var boundProp=boundPropsByName.get(elProp);lang_1.isPresent(boundProp)&&targetBoundDirectiveProps.push(new template_ast_1.BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,directives){var _this=this,boundElementProps=[],boundDirectivePropsIndex=new Map;return directives.forEach(function(directive){directive.inputs.forEach(function(prop){boundDirectivePropsIndex.set(prop.templateName,prop)})}),props.forEach(function(prop){!prop.isLiteral&&lang_1.isBlank(boundDirectivePropsIndex.get(prop.name))&&boundElementProps.push(_this._createElementPropertyAst(elementName,prop.name,prop.expression,prop.sourceSpan))}),boundElementProps},TemplateParseVisitor.prototype._createElementPropertyAst=function(elementName,name,ast,sourceSpan){var bindingType,boundPropertyName,unit=null,parts=name.split(PROPERTY_PARTS_SEPARATOR);if(1===parts.length)boundPropertyName=this._schemaRegistry.getMappedPropName(parts[0]),bindingType=template_ast_1.PropertyBindingType.Property,this._schemaRegistry.hasProperty(elementName,boundPropertyName)||this._reportError("Can't bind to '"+boundPropertyName+"' since it isn't a known native property",sourceSpan);else if(parts[0]==ATTRIBUTE_PREFIX){boundPropertyName=parts[1];var nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){var ns=boundPropertyName.substring(0,nsSeparatorIdx),name_1=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=html_tags_1.mergeNsAndName(ns,name_1)}bindingType=template_ast_1.PropertyBindingType.Attribute}else parts[0]==CLASS_PREFIX?(boundPropertyName=parts[1],bindingType=template_ast_1.PropertyBindingType.Class):parts[0]==STYLE_PREFIX?(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=template_ast_1.PropertyBindingType.Style):(this._reportError("Invalid property name '"+name+"'",sourceSpan),bindingType=null);return new template_ast_1.BoundElementPropertyAst(boundPropertyName,bindingType,ast,unit,sourceSpan)},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){var componentTypeNames=[];return directives.forEach(function(directive){var typeName=directive.directive.type.name;directive.directive.isComponent&&componentTypeNames.push(typeName)}),componentTypeNames},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component: "+componentTypeNames.join(","),sourceSpan)},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this,componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError("Components on an embedded template: "+componentTypeNames.join(","),sourceSpan),elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+" not used by any directive on an embedded template",sourceSpan)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this,allDirectiveEvents=new Set;directives.forEach(function(directive){collection_1.StringMapWrapper.forEach(directive.directive.outputs,function(eventName,_){allDirectiveEvents.add(eventName)})}),events.forEach(function(event){!lang_1.isPresent(event.target)&&collection_1.SetWrapper.has(allDirectiveEvents,event.name)||_this._reportError("Event binding "+event.fullName+" not emitted by any directive on an embedded template",event.sourceSpan)})},TemplateParseVisitor}(),NonBindableVisitor=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(ast,component){var preparsedElement=template_preparser_1.preparseElement(ast);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET)return null;var attrNameAndValues=ast.attrs.map(function(attrAst){return[attrAst.name,attrAst.value]}),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=component.findNgContentIndex(selector),children=html_ast_1.htmlVisitAll(this,ast.children,EMPTY_COMPONENT);return new template_ast_1.ElementAst(ast.name,html_ast_1.htmlVisitAll(this,ast.attrs),[],[],[],[],children,ngContentIndex,ast.sourceSpan)},NonBindableVisitor.prototype.visitComment=function(ast,context){return null},NonBindableVisitor.prototype.visitAttr=function(ast,context){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)},NonBindableVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR);return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)},NonBindableVisitor}(),BoundElementOrDirectiveProperty=function(){function BoundElementOrDirectiveProperty(name,expression,isLiteral,sourceSpan){this.name=name,this.expression=expression,this.isLiteral=isLiteral,this.sourceSpan=sourceSpan}return BoundElementOrDirectiveProperty}();exports.splitClasses=splitClasses;var Component=function(){function Component(ngContentIndexMatcher,wildcardNgContentIndex){this.ngContentIndexMatcher=ngContentIndexMatcher,this.wildcardNgContentIndex=wildcardNgContentIndex}return Component.create=function(directives){if(0===directives.length||!directives[0].directive.isComponent)return EMPTY_COMPONENT;for(var matcher=new selector_1.SelectorMatcher,ngContentSelectors=directives[0].directive.template.ngContentSelectors,wildcardNgContentIndex=null,i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];lang_1.StringWrapper.equals(selector,"*")?wildcardNgContentIndex=i:matcher.addSelectables(selector_1.CssSelector.parse(ngContentSelectors[i]),i)}return new Component(matcher,wildcardNgContentIndex)},Component.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];return this.ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex)}),collection_1.ListWrapper.sort(ngContentIndices),lang_1.isPresent(this.wildcardNgContentIndex)&&ngContentIndices.push(this.wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null},Component}(),EMPTY_COMPONENT=new Component(new selector_1.SelectorMatcher,null),NON_BINDABLE_VISITOR=new NonBindableVisitor,PipeCollector=function(_super){function PipeCollector(){_super.apply(this,arguments),this.pipes=new Set}return __extends(PipeCollector,_super),PipeCollector.prototype.visitPipe=function(ast){return this.pipes.add(ast.name),ast.exp.visit(this),this.visitAll(ast.args),null},PipeCollector}(ast_1.RecursiveAstVisitor);exports.PipeCollector=PipeCollector},{"./html_ast":74,"./html_parser":76,"./html_tags":77,"./parse_util":78,"./style_url_resolver":88,"./template_ast":89,"./template_preparser":93,"./util":95,"angular2/core":11,"angular2/src/compiler/schema/element_schema_registry":83,"angular2/src/compiler/selector":84,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/change_detection/parser/ast":124,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],93:[function(require,module,exports){"use strict";function preparseElement(ast){var selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs=null;ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();lcAttrName==NG_CONTENT_SELECT_ATTR?selectAttr=attr.value:lcAttrName==LINK_STYLE_HREF_ATTR?hrefAttr=attr.value:lcAttrName==LINK_STYLE_REL_ATTR?relAttr=attr.value:attr.name==NG_NON_BINDABLE_ATTR?nonBindable=!0:attr.name==NG_PROJECT_AS&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=normalizeNgContentSelect(selectAttr);var nodeName=ast.name.toLowerCase(),type=PreparsedElementType.OTHER;return html_tags_1.splitNsName(nodeName)[1]==NG_CONTENT_ELEMENT?type=PreparsedElementType.NG_CONTENT:nodeName==STYLE_ELEMENT?type=PreparsedElementType.STYLE:nodeName==SCRIPT_ELEMENT?type=PreparsedElementType.SCRIPT:nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}function normalizeNgContentSelect(selectAttr){return lang_1.isBlank(selectAttr)||0===selectAttr.length?"*":selectAttr}var lang_1=require("angular2/src/facade/lang"),html_tags_1=require("./html_tags"),NG_CONTENT_SELECT_ATTR="select",NG_CONTENT_ELEMENT="ng-content",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable",NG_PROJECT_AS="ngProjectAs";exports.preparseElement=preparseElement,function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(exports.PreparsedElementType||(exports.PreparsedElementType={}));var PreparsedElementType=exports.PreparsedElementType,PreparsedElement=function(){function PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}return PreparsedElement}();exports.PreparsedElement=PreparsedElement},{"./html_tags":77,"angular2/src/facade/lang":195}],94:[function(require,module,exports){"use strict";function createWithoutPackagePrefix(){return new UrlResolver}function getUrlScheme(url){var match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];return lang_1.isPresent(opt_scheme)&&out.push(opt_scheme+":"),lang_1.isPresent(opt_domain)&&(out.push("//"),lang_1.isPresent(opt_userInfo)&&out.push(opt_userInfo+"@"),out.push(opt_domain),lang_1.isPresent(opt_port)&&out.push(":"+opt_port)),lang_1.isPresent(opt_path)&&out.push(opt_path),lang_1.isPresent(opt_queryData)&&out.push("?"+opt_queryData),lang_1.isPresent(opt_fragment)&&out.push("#"+opt_fragment),out.join("")}function _split(uri){return lang_1.RegExpWrapper.firstMatch(_splitRe,uri)}function _removeDotSegments(path){if("/"==path)return"/";for(var leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function _joinAndCanonicalizePath(parts){var path=parts[_ComponentIndex.Path];return path=lang_1.isBlank(path)?"":_removeDotSegments(path),parts[_ComponentIndex.Path]=path,_buildFromEncodedParts(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}function _resolveUrl(base,url){var parts=_split(encodeURI(url)),baseParts=_split(base);if(lang_1.isPresent(parts[_ComponentIndex.Scheme]))return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)lang_1.isBlank(parts[i])&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);var path=baseParts[_ComponentIndex.Path];lang_1.isBlank(path)&&(path="/");var index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),application_tokens_1=require("angular2/src/core/application_tokens"),di_2=require("angular2/src/core/di");exports.createWithoutPackagePrefix=createWithoutPackagePrefix,exports.DEFAULT_PACKAGE_URL_PROVIDER=new di_2.Provider(application_tokens_1.PACKAGE_ROOT_URL,{useValue:"/"});var UrlResolver=function(){function UrlResolver(packagePrefix){void 0===packagePrefix&&(packagePrefix=null),lang_1.isPresent(packagePrefix)&&(this._packagePrefix=lang_1.StringWrapper.stripRight(packagePrefix,"/")+"/")}return UrlResolver.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;return lang_1.isPresent(baseUrl)&&baseUrl.length>0&&(resolvedUrl=_resolveUrl(baseUrl,resolvedUrl)),lang_1.isPresent(this._packagePrefix)&&"package"==getUrlScheme(resolvedUrl)&&(resolvedUrl=resolvedUrl.replace("package:",this._packagePrefix)),resolvedUrl},UrlResolver=__decorate([di_1.Injectable(),__param(0,di_1.Inject(application_tokens_1.PACKAGE_ROOT_URL)),__metadata("design:paramtypes",[String])],UrlResolver)}();exports.UrlResolver=UrlResolver,exports.getUrlScheme=getUrlScheme;var _ComponentIndex,_splitRe=lang_1.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}))},{"angular2/src/core/application_tokens":101,"angular2/src/core/di":135,"angular2/src/facade/lang":195}],95:[function(require,module,exports){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}function escapeSingleQuoteString(input){return lang_1.isBlank(input)?null:"'"+escapeString(input,SINGLE_QUOTE_ESCAPE_STRING_RE)+"'"}function escapeDoubleQuoteString(input){return lang_1.isBlank(input)?null:'"'+escapeString(input,DOUBLE_QUOTE_ESCAPE_STRING_RE)+'"'}function escapeString(input,re){return lang_1.StringWrapper.replaceAllMapped(input,re,function(match){return"$"==match[0]?lang_1.IS_DART?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":"\\"+match[0]})}function codeGenExportVariable(name){return lang_1.IS_DART?"const "+name+" = ":"var "+name+" = exports['"+name+"'] = "}function codeGenConstConstructorCall(name){return lang_1.IS_DART?"const "+name:"new "+name}function codeGenValueFn(params,value,fnName){
return void 0===fnName&&(fnName=""),lang_1.IS_DART?codeGenFnHeader(params,fnName)+" => "+value:codeGenFnHeader(params,fnName)+" { return "+value+"; }"}function codeGenFnHeader(params,fnName){return void 0===fnName&&(fnName=""),lang_1.IS_DART?fnName+"("+params.join(",")+")":"function "+fnName+"("+params.join(",")+")"}function codeGenToString(expr){return lang_1.IS_DART?"'${"+expr+"}'":expr}function splitAtColon(input,defaultValues){var parts=lang_1.StringWrapper.split(input.trim(),/\s*:\s*/g);return parts.length>1?parts:defaultValues}function escapeValue(value){return value instanceof Expression?value.expression:lang_1.isString(value)?escapeSingleQuoteString(value):lang_1.isBlank(value)?"null":""+value}function codeGenArray(data){return"["+data.map(escapeValue).join(",")+"]"}function codeGenFlatArray(values){for(var result="([",isFirstArrayEntry=!0,concatFn=lang_1.IS_DART?".addAll":"concat",i=0;i<values.length;i++){var value=values[i];value instanceof Expression&&value.isArray?(result+="])."+concatFn+"("+value.expression+")."+concatFn+"([",isFirstArrayEntry=!0):(isFirstArrayEntry||(result+=","),isFirstArrayEntry=!1,result+=escapeValue(value))}return result+="])"}function codeGenStringMap(keyValueArray){return"{"+keyValueArray.map(codeGenKeyValue).join(",")+"}"}function codeGenKeyValue(keyValue){return escapeValue(keyValue[0])+":"+escapeValue(keyValue[1])}function addAll(source,target){for(var i=0;i<source.length;i++)target.push(source[i])}function flattenArray(source,target){if(lang_1.isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];lang_1.isArray(item)?flattenArray(item,target):target.push(item)}return target}var lang_1=require("angular2/src/facade/lang"),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g,SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,DOUBLE_QUOTE_ESCAPE_STRING_RE=/"|\\|\n|\r|\$/g;exports.MODULE_SUFFIX=lang_1.IS_DART?".dart":".js",exports.CONST_VAR=lang_1.IS_DART?"const":"var",exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase,exports.escapeSingleQuoteString=escapeSingleQuoteString,exports.escapeDoubleQuoteString=escapeDoubleQuoteString,exports.codeGenExportVariable=codeGenExportVariable,exports.codeGenConstConstructorCall=codeGenConstConstructorCall,exports.codeGenValueFn=codeGenValueFn,exports.codeGenFnHeader=codeGenFnHeader,exports.codeGenToString=codeGenToString,exports.splitAtColon=splitAtColon;var Statement=function(){function Statement(statement){this.statement=statement}return Statement}();exports.Statement=Statement;var Expression=function(){function Expression(expression,isArray){void 0===isArray&&(isArray=!1),this.expression=expression,this.isArray=isArray}return Expression}();exports.Expression=Expression,exports.escapeValue=escapeValue,exports.codeGenArray=codeGenArray,exports.codeGenFlatArray=codeGenFlatArray,exports.codeGenStringMap=codeGenStringMap,exports.addAll=addAll,exports.flattenArray=flattenArray},{"angular2/src/facade/lang":195}],96:[function(require,module,exports){"use strict";function codeGenEventHandler(view,boundElementIndex,eventName){return util_1.codeGenValueFn(["event"],view.expression+".triggerEventHandlers("+util_1.escapeValue(eventName)+", event, "+boundElementIndex+")")}function codeGenViewFactoryName(component,embeddedTemplateIndex){return"viewFactory_"+component.type.name+embeddedTemplateIndex}function codeGenViewEncapsulation(value){return lang_1.IS_DART?""+proto_view_compiler_1.METADATA_MODULE_REF+value:""+value}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),template_ast_1=require("./template_ast"),source_module_1=require("./source_module"),view_1=require("angular2/src/core/linker/view"),view_type_1=require("angular2/src/core/linker/view_type"),element_1=require("angular2/src/core/linker/element"),view_2=require("angular2/src/core/metadata/view"),util_1=require("./util"),di_1=require("angular2/src/core/di"),proto_view_compiler_1=require("./proto_view_compiler");exports.VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({AppView:view_1.AppView,AppElement:element_1.AppElement,flattenNestedViewRenderNodes:view_1.flattenNestedViewRenderNodes,checkSlotCount:view_1.checkSlotCount});var ViewCompiler=function(){function ViewCompiler(){}return ViewCompiler.prototype.compileComponentRuntime=function(component,template,styles,protoViews,changeDetectorFactories,componentViewFactory){var viewFactory=new RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory);return viewFactory.createViewFactory(template,0,[])},ViewCompiler.prototype.compileComponentCodeGen=function(component,template,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory){var viewFactory=new CodeGenViewFactory(component,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory),targetStatements=[],viewFactoryExpression=viewFactory.createViewFactory(template,0,targetStatements);return new source_module_1.SourceExpression(targetStatements.map(function(stmt){return stmt.statement}),viewFactoryExpression.expression)},ViewCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ViewCompiler)}();exports.ViewCompiler=ViewCompiler;var CodeGenViewFactory=function(){function CodeGenViewFactory(component,styles,protoViews,changeDetectorExpressions,componentViewFactory){this.component=component,this.styles=styles,this.protoViews=protoViews,this.changeDetectorExpressions=changeDetectorExpressions,this.componentViewFactory=componentViewFactory,this._nextVarId=0}return CodeGenViewFactory.prototype._nextVar=function(prefix){return""+prefix+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype._nextRenderVar=function(){return this._nextVar("render")},CodeGenViewFactory.prototype._nextAppVar=function(){return this._nextVar("app")},CodeGenViewFactory.prototype._nextDisposableVar=function(){return"disposable"+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){var varName=this._nextRenderVar(),statement="var "+varName+" = "+renderer.expression+".createText("+(lang_1.isPresent(parent)?parent.expression:null)+", "+util_1.escapeSingleQuoteString(text)+");";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(varName)},CodeGenViewFactory.prototype.createElement=function(renderer,parentRenderNode,name,rootSelector,targetStatements){var valueExpr,varName=this._nextRenderVar();valueExpr=lang_1.isPresent(rootSelector)?rootSelector.expression+" == null ?\n        "+renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+") :\n        "+renderer.expression+".selectRootElement("+rootSelector.expression+");":renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+")";var statement="var "+varName+" = "+valueExpr+";";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(varName)},CodeGenViewFactory.prototype.createTemplateAnchor=function(renderer,parentRenderNode,targetStatements){var varName=this._nextRenderVar(),valueExpr=renderer.expression+".createTemplateAnchor("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+");";return targetStatements.push(new util_1.Statement("var "+varName+" = "+valueExpr)),new util_1.Expression(varName)},CodeGenViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){var disposableVar=this._nextDisposableVar(),eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);return targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listenGlobal("+util_1.escapeValue(eventAst.target)+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");")),new util_1.Expression(disposableVar)},CodeGenViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){var disposableVar=this._nextDisposableVar(),eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);return targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listen("+renderNode.expression+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");")),new util_1.Expression(disposableVar)},CodeGenViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".setElementAttribute("+renderNode.expression+", "+util_1.escapeSingleQuoteString(attrName)+", "+util_1.escapeSingleQuoteString(attrValue)+");"))},CodeGenViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){var appVar=this._nextAppVar(),varValue="new "+proto_view_compiler_1.APP_EL_MODULE_REF+"AppElement("+appProtoEl.expression+", "+appView.expression+",\n      "+(lang_1.isPresent(parentAppEl)?parentAppEl.expression:null)+", "+renderNode.expression+", "+(lang_1.isPresent(embeddedViewFactory)?embeddedViewFactory.expression:null)+")";return targetStatements.push(new util_1.Statement("var "+appVar+" = "+varValue+";")),new util_1.Expression(appVar)},CodeGenViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,view,appEl,component,contentNodesByNgContentIndex,targetStatements){var codeGenContentNodes;codeGenContentNodes=this.component.type.isHost?view.expression+".projectableNodes":"["+contentNodesByNgContentIndex.map(function(nodes){return util_1.codeGenFlatArray(nodes)}).join(",")+"]",targetStatements.push(new util_1.Statement(this.componentViewFactory(component)+"("+renderer.expression+", "+viewManager.expression+", "+appEl.expression+", "+codeGenContentNodes+", null, null, null);"))},CodeGenViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return new util_1.Expression(projectableNodes.expression+"["+ngContentIndex+"]",!0)},CodeGenViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".projectNodes("+parent.expression+", "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"flattenNestedViewRenderNodes("+nodes.expression+"));"))},CodeGenViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var compileProtoView=this.protoViews[embeddedTemplateIndex],isHostView=this.component.type.isHost,isComponentView=0===embeddedTemplateIndex&&!isHostView,visitor=new ViewBuilderVisitor(new util_1.Expression("renderer"),new util_1.Expression("viewManager"),new util_1.Expression("projectableNodes"),isHostView?new util_1.Expression("rootSelector"):null,new util_1.Expression("view"),compileProtoView,targetStatements,this);template_ast_1.templateVisitAll(visitor,asts,new ParentElement(isComponentView?new util_1.Expression("parentRenderNode"):null,null,null));var appProtoView=compileProtoView.protoView.expression,viewFactoryName=codeGenViewFactoryName(this.component,embeddedTemplateIndex),changeDetectorFactory=this.changeDetectorExpressions.expressions[embeddedTemplateIndex],factoryArgs=["parentRenderer","viewManager","containerEl","projectableNodes","rootSelector","dynamicallyCreatedProviders","rootInjector"],initRendererStmts=[],rendererExpr="parentRenderer";if(0===embeddedTemplateIndex){var renderCompTypeVar=this._nextVar("renderType");targetStatements.push(new util_1.Statement("var "+renderCompTypeVar+" = null;"));var stylesVar=this._nextVar("styles");targetStatements.push(new util_1.Statement(util_1.CONST_VAR+" "+stylesVar+" = "+this.styles.expression+";"));var encapsulation=this.component.template.encapsulation;initRendererStmts.push("if ("+renderCompTypeVar+" == null) {\n        "+renderCompTypeVar+" = viewManager.createRenderComponentType("+codeGenViewEncapsulation(encapsulation)+", "+stylesVar+");\n      }"),rendererExpr="parentRenderer.renderComponent("+renderCompTypeVar+")"}var statement="\n"+util_1.codeGenFnHeader(factoryArgs,viewFactoryName)+"{\n  "+initRendererStmts.join("\n")+"\n  var renderer = "+rendererExpr+";\n  var view = new "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"AppView(\n    "+appProtoView+", renderer, viewManager,\n    projectableNodes,\n    containerEl,\n    dynamicallyCreatedProviders, rootInjector,\n    "+changeDetectorFactory+"()\n  );\n  "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"checkSlotCount("+util_1.escapeValue(this.component.type.name)+", "+this.component.template.ngContentSelectors.length+", projectableNodes);\n  "+(isComponentView?"var parentRenderNode = renderer.createViewRoot(view.containerAppElement.nativeElement);":"")+"\n  "+visitor.renderStmts.map(function(stmt){return stmt.statement}).join("\n")+"\n  "+visitor.appStmts.map(function(stmt){return stmt.statement}).join("\n")+"\n\n  view.init("+util_1.codeGenFlatArray(visitor.rootNodesOrAppElements)+", "+util_1.codeGenArray(visitor.renderNodes)+", "+util_1.codeGenArray(visitor.appDisposables)+",\n            "+util_1.codeGenArray(visitor.appElements)+");\n  return view;\n}";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(viewFactoryName)},CodeGenViewFactory}(),RuntimeViewFactory=function(){function RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory){this.component=component,this.styles=styles,this.protoViews=protoViews,this.changeDetectorFactories=changeDetectorFactories,this.componentViewFactory=componentViewFactory}return RuntimeViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){return renderer.createText(parent,text)},RuntimeViewFactory.prototype.createElement=function(renderer,parent,name,rootSelector,targetStatements){var el;return el=lang_1.isPresent(rootSelector)?renderer.selectRootElement(rootSelector):renderer.createElement(parent,name)},RuntimeViewFactory.prototype.createTemplateAnchor=function(renderer,parent,targetStatements){return renderer.createTemplateAnchor(parent)},RuntimeViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){return renderer.listenGlobal(eventAst.target,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex)})},RuntimeViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){return renderer.listen(renderNode,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex)})},RuntimeViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){renderer.setElementAttribute(renderNode,attrName,attrValue)},RuntimeViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){return new element_1.AppElement(appProtoEl,appView,parentAppEl,renderNode,embeddedViewFactory)},RuntimeViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,appView,appEl,component,contentNodesByNgContentIndex,targetStatements){var flattenedContentNodes;if(this.component.type.isHost)flattenedContentNodes=appView.projectableNodes;else{flattenedContentNodes=collection_1.ListWrapper.createFixedSize(contentNodesByNgContentIndex.length);for(var i=0;i<contentNodesByNgContentIndex.length;i++)flattenedContentNodes[i]=util_1.flattenArray(contentNodesByNgContentIndex[i],[])}this.componentViewFactory(component)(renderer,viewManager,appEl,flattenedContentNodes)},RuntimeViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return projectableNodes[ngContentIndex]},RuntimeViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){renderer.projectNodes(parent,view_1.flattenNestedViewRenderNodes(nodes))},RuntimeViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var _this=this,compileProtoView=this.protoViews[embeddedTemplateIndex],isComponentView=compileProtoView.protoView.type===view_type_1.ViewType.COMPONENT,renderComponentType=null;return function(parentRenderer,viewManager,containerEl,projectableNodes,rootSelector,dynamicallyCreatedProviders,rootInjector){void 0===rootSelector&&(rootSelector=null),void 0===dynamicallyCreatedProviders&&(dynamicallyCreatedProviders=null),void 0===rootInjector&&(rootInjector=null),view_1.checkSlotCount(_this.component.type.name,_this.component.template.ngContentSelectors.length,projectableNodes);var renderer;0===embeddedTemplateIndex?(lang_1.isBlank(renderComponentType)&&(renderComponentType=viewManager.createRenderComponentType(_this.component.template.encapsulation,_this.styles)),renderer=parentRenderer.renderComponent(renderComponentType)):renderer=parentRenderer;var changeDetector=_this.changeDetectorFactories[embeddedTemplateIndex](),view=new view_1.AppView(compileProtoView.protoView,renderer,viewManager,projectableNodes,containerEl,dynamicallyCreatedProviders,rootInjector,changeDetector),visitor=new ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,compileProtoView,[],_this),parentRenderNode=isComponentView?renderer.createViewRoot(containerEl.nativeElement):null;return template_ast_1.templateVisitAll(visitor,asts,new ParentElement(parentRenderNode,null,null)),view.init(util_1.flattenArray(visitor.rootNodesOrAppElements,[]),visitor.renderNodes,visitor.appDisposables,visitor.appElements),view}},RuntimeViewFactory}(),ParentElement=function(){function ParentElement(renderNode,appEl,component){if(this.renderNode=renderNode,this.appEl=appEl,this.component=component,lang_1.isPresent(component)){this.contentNodesByNgContentIndex=collection_1.ListWrapper.createFixedSize(component.template.ngContentSelectors.length);for(var i=0;i<this.contentNodesByNgContentIndex.length;i++)this.contentNodesByNgContentIndex[i]=[]}else this.contentNodesByNgContentIndex=null}return ParentElement.prototype.addContentNode=function(ngContentIndex,nodeExpr){this.contentNodesByNgContentIndex[ngContentIndex].push(nodeExpr)},ParentElement}(),ViewBuilderVisitor=function(){function ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,protoView,targetStatements,factory){this.renderer=renderer,this.viewManager=viewManager,this.projectableNodes=projectableNodes,this.rootSelector=rootSelector,this.view=view,this.protoView=protoView,this.targetStatements=targetStatements,this.factory=factory,this.renderStmts=[],this.renderNodes=[],this.appStmts=[],this.appElements=[],this.appDisposables=[],this.rootNodesOrAppElements=[],this.elementCount=0}return ViewBuilderVisitor.prototype._addRenderNode=function(renderNode,appEl,ngContentIndex,parent){this.renderNodes.push(renderNode),lang_1.isPresent(parent.component)?lang_1.isPresent(ngContentIndex)&&parent.addContentNode(ngContentIndex,lang_1.isPresent(appEl)?appEl:renderNode):lang_1.isBlank(parent.renderNode)&&this.rootNodesOrAppElements.push(lang_1.isPresent(appEl)?appEl:renderNode)},ViewBuilderVisitor.prototype._getParentRenderNode=function(ngContentIndex,parent){return lang_1.isPresent(parent.component)&&parent.component.template.encapsulation!==view_2.ViewEncapsulation.Native?null:parent.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(ast,parent){return this._visitText("",ast.ngContentIndex,parent)},ViewBuilderVisitor.prototype.visitText=function(ast,parent){return this._visitText(ast.value,ast.ngContentIndex,parent)},ViewBuilderVisitor.prototype._visitText=function(value,ngContentIndex,parent){var renderNode=this.factory.createText(this.renderer,this._getParentRenderNode(ngContentIndex,parent),value,this.renderStmts);return this._addRenderNode(renderNode,null,ngContentIndex,parent),null},ViewBuilderVisitor.prototype.visitNgContent=function(ast,parent){var nodesExpression=this.factory.getProjectedNodes(this.projectableNodes,ast.index);return lang_1.isPresent(parent.component)?lang_1.isPresent(ast.ngContentIndex)&&parent.addContentNode(ast.ngContentIndex,nodesExpression):lang_1.isPresent(parent.renderNode)?this.factory.appendProjectedNodes(this.renderer,parent.renderNode,nodesExpression,this.renderStmts):this.rootNodesOrAppElements.push(nodesExpression),null},ViewBuilderVisitor.prototype.visitElement=function(ast,parent){var _this=this,renderNode=this.factory.createElement(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),ast.name,this.rootSelector,this.renderStmts),component=ast.getComponent(),elementIndex=this.elementCount++,protoEl=this.protoView.protoElements[elementIndex];protoEl.renderEvents.forEach(function(eventAst){var disposable;disposable=lang_1.isPresent(eventAst.target)?_this.factory.createGlobalEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,eventAst,_this.renderStmts):_this.factory.createElementEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,renderNode,eventAst,_this.renderStmts),_this.appDisposables.push(disposable)});for(var i=0;i<protoEl.attrNameAndValues.length;i++){var attrName=protoEl.attrNameAndValues[i][0],attrValue=protoEl.attrNameAndValues[i][1];this.factory.setElementAttribute(this.renderer,renderNode,attrName,attrValue,this.renderStmts)}var appEl=null;lang_1.isPresent(protoEl.appProtoEl)&&(appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,null,this.appStmts),this.appElements.push(appEl)),this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent);var newParent=new ParentElement(renderNode,lang_1.isPresent(appEl)?appEl:parent.appEl,component);return template_ast_1.templateVisitAll(this,ast.children,newParent),lang_1.isPresent(appEl)&&lang_1.isPresent(component)&&this.factory.createAndSetComponentView(this.renderer,this.viewManager,this.view,appEl,component,newParent.contentNodesByNgContentIndex,this.appStmts),null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var renderNode=this.factory.createTemplateAnchor(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),this.renderStmts),elementIndex=this.elementCount++,protoEl=this.protoView.protoElements[elementIndex],embeddedViewFactory=this.factory.createViewFactory(ast.children,protoEl.embeddedTemplateIndex,this.targetStatements),appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,embeddedViewFactory,this.appStmts);return this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent),this.appElements.push(appEl),null},ViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitAttr=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitEvent=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null},ViewBuilderVisitor}()},{"./proto_view_compiler":79,"./source_module":86,"./template_ast":89,"./util":95,"angular2/src/core/di":135,"angular2/src/core/linker/element":149,"angular2/src/core/linker/view":156,"angular2/src/core/linker/view_type":161,"angular2/src/core/metadata/view":165,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],97:[function(require,module,exports){"use strict";var XHR=function(){function XHR(){}return XHR.prototype.get=function(url){return null},XHR}();exports.XHR=XHR},{}],98:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),AngularEntrypoint=function(){function AngularEntrypoint(name){this.name=name}return AngularEntrypoint=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],AngularEntrypoint)}();exports.AngularEntrypoint=AngularEntrypoint},{"angular2/src/facade/lang":195}],99:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),application_tokens_1=require("./application_tokens"),change_detection_1=require("./change_detection/change_detection"),resolved_metadata_cache_1=require("angular2/src/core/linker/resolved_metadata_cache"),view_manager_1=require("./linker/view_manager"),view_manager_2=require("./linker/view_manager"),view_resolver_1=require("./linker/view_resolver"),directive_resolver_1=require("./linker/directive_resolver"),pipe_resolver_1=require("./linker/pipe_resolver"),compiler_1=require("./linker/compiler"),compiler_2=require("./linker/compiler"),dynamic_component_loader_1=require("./linker/dynamic_component_loader"),dynamic_component_loader_2=require("./linker/dynamic_component_loader");exports.APPLICATION_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(compiler_1.Compiler,{useClass:compiler_2.Compiler_}),application_tokens_1.APP_ID_RANDOM_PROVIDER,resolved_metadata_cache_1.ResolvedMetadataCache,new di_1.Provider(view_manager_1.AppViewManager,{useClass:view_manager_2.AppViewManager_}),view_resolver_1.ViewResolver,new di_1.Provider(change_detection_1.IterableDiffers,{useValue:change_detection_1.defaultIterableDiffers}),new di_1.Provider(change_detection_1.KeyValueDiffers,{useValue:change_detection_1.defaultKeyValueDiffers}),directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,new di_1.Provider(dynamic_component_loader_1.DynamicComponentLoader,{useClass:dynamic_component_loader_2.DynamicComponentLoader_})])},{"./application_tokens":101,"./change_detection/change_detection":105,"./linker/compiler":145,"./linker/directive_resolver":147,"./linker/dynamic_component_loader":148,"./linker/pipe_resolver":152,"./linker/view_manager":158,"./linker/view_resolver":160,"angular2/src/core/di":135,"angular2/src/core/linker/resolved_metadata_cache":154,"angular2/src/facade/lang":195}],100:[function(require,module,exports){"use strict";function _componentProviders(appComponentType){return[di_1.provide(application_tokens_1.APP_COMPONENT,{useValue:appComponentType}),di_1.provide(application_tokens_1.APP_COMPONENT_REF_PROMISE,{useFactory:function(dynamicComponentLoader,appRef,injector){var ref;return dynamicComponentLoader.loadAsRoot(appComponentType,null,injector,function(){appRef._unloadComponent(ref)}).then(function(componentRef){ref=componentRef;var testability=injector.getOptional(testability_1.Testability);return lang_1.isPresent(testability)&&injector.get(testability_1.TestabilityRegistry).registerApplication(componentRef.location.nativeElement,testability),componentRef})},deps:[dynamic_component_loader_1.DynamicComponentLoader,ApplicationRef,di_1.Injector]}),di_1.provide(appComponentType,{useFactory:function(p){return p.then(function(ref){return ref.instance})},deps:[application_tokens_1.APP_COMPONENT_REF_PROMISE]})]}function createNgZone(){return new ng_zone_1.NgZone({enableLongStackTrace:lang_1.assertionsEnabled()})}function platform(providers){if(lang_2.lockMode(),lang_1.isPresent(_platform)){if(collection_1.ListWrapper.equals(_platformProviders,providers))return _platform;throw new exceptions_1.BaseException("platform cannot be initialized with different sets of providers.")}return _createPlatform(providers)}function disposePlatform(){lang_1.isPresent(_platform)&&(_platform.dispose(),_platform=null)}function _createPlatform(providers){_platformProviders=providers;var injector=di_1.Injector.resolveAndCreate(providers);return _platform=new PlatformRef_(injector,function(){_platform=null,_platformProviders=null}),_runPlatformInitializers(injector),_platform}function _runPlatformInitializers(injector){var inits=injector.getOptional(application_tokens_1.PLATFORM_INITIALIZER);lang_1.isPresent(inits)&&inits.forEach(function(init){return init()})}function _runAppInitializers(injector){var inits=injector.getOptional(application_tokens_1.APP_INITIALIZER),promises=[];return lang_1.isPresent(inits)&&inits.forEach(function(init){var retVal=init();async_1.PromiseWrapper.isPromise(retVal)&&promises.push(retVal)}),promises.length>0?async_1.PromiseWrapper.all(promises):null}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ng_zone_1=require("angular2/src/core/zone/ng_zone"),lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),application_tokens_1=require("./application_tokens"),async_1=require("angular2/src/facade/async"),collection_1=require("angular2/src/facade/collection"),testability_1=require("angular2/src/core/testability/testability"),dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader"),exceptions_1=require("angular2/src/facade/exceptions"),console_1=require("angular2/src/core/console"),profile_1=require("./profile/profile"),lang_2=require("angular2/src/facade/lang");exports.createNgZone=createNgZone;var _platform,_platformProviders;exports.platform=platform,exports.disposePlatform=disposePlatform;var PlatformRef=function(){function PlatformRef(){}return Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}();exports.PlatformRef=PlatformRef;var PlatformRef_=function(_super){function PlatformRef_(_injector,_dispose){_super.call(this),this._injector=_injector,this._dispose=_dispose,this._applications=[],this._disposeListeners=[]}return __extends(PlatformRef_,_super),PlatformRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),PlatformRef_.prototype.application=function(providers){var app=this._initApp(createNgZone(),providers);if(async_1.PromiseWrapper.isPromise(app))throw new exceptions_1.BaseException("Cannot use asyncronous app initializers with application. Use asyncApplication instead.");return app},PlatformRef_.prototype.asyncApplication=function(bindingFn,additionalProviders){var _this=this,zone=createNgZone(),completer=async_1.PromiseWrapper.completer();return null===bindingFn?completer.resolve(this._initApp(zone,additionalProviders)):zone.run(function(){async_1.PromiseWrapper.then(bindingFn(zone),function(providers){lang_1.isPresent(additionalProviders)&&(providers=collection_1.ListWrapper.concat(providers,additionalProviders));var promise=_this._initApp(zone,providers);completer.resolve(promise)})}),completer.promise},PlatformRef_.prototype._initApp=function(zone,providers){var injector,app,_this=this;
zone.run(function(){providers=collection_1.ListWrapper.concat(providers,[di_1.provide(ng_zone_1.NgZone,{useValue:zone}),di_1.provide(ApplicationRef,{useFactory:function(){return app},deps:[]})]);var exceptionHandler;try{injector=_this.injector.resolveAndCreateChild(providers),exceptionHandler=injector.get(exceptions_1.ExceptionHandler),async_1.ObservableWrapper.subscribe(zone.onError,function(error){exceptionHandler.call(error.error,error.stackTrace)})}catch(e){lang_1.isPresent(exceptionHandler)?exceptionHandler.call(e,e.stack):lang_1.print(e.toString())}}),app=new ApplicationRef_(this,zone,injector),this._applications.push(app);var promise=_runAppInitializers(injector);return null!==promise?async_1.PromiseWrapper.then(promise,function(_){return app}):app},PlatformRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._applications).forEach(function(app){return app.dispose()}),this._disposeListeners.forEach(function(dispose){return dispose()}),this._dispose()},PlatformRef_.prototype._applicationDisposed=function(app){collection_1.ListWrapper.remove(this._applications,app)},PlatformRef_}(PlatformRef);exports.PlatformRef_=PlatformRef_;var ApplicationRef=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"zone",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}();exports.ApplicationRef=ApplicationRef;var ApplicationRef_=function(_super){function ApplicationRef_(_platform,_zone,_injector){var _this=this;_super.call(this),this._platform=_platform,this._zone=_zone,this._injector=_injector,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,lang_1.isPresent(this._zone)&&async_1.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty,function(_){_this._zone.run(function(){_this.tick()})}),this._enforceNoNewChanges=lang_1.assertionsEnabled()}return __extends(ApplicationRef_,_super),ApplicationRef_.prototype.registerBootstrapListener=function(listener){this._bootstrapListeners.push(listener)},ApplicationRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)},ApplicationRef_.prototype.registerChangeDetector=function(changeDetector){this._changeDetectorRefs.push(changeDetector)},ApplicationRef_.prototype.unregisterChangeDetector=function(changeDetector){collection_1.ListWrapper.remove(this._changeDetectorRefs,changeDetector)},ApplicationRef_.prototype.bootstrap=function(componentType,providers){var _this=this,completer=async_1.PromiseWrapper.completer();return this._zone.run(function(){var componentProviders=_componentProviders(componentType);lang_1.isPresent(providers)&&componentProviders.push(providers);var exceptionHandler=_this._injector.get(exceptions_1.ExceptionHandler);_this._rootComponentTypes.push(componentType);try{var injector=_this._injector.resolveAndCreateChild(componentProviders),compRefToken=injector.get(application_tokens_1.APP_COMPONENT_REF_PROMISE),tick=function(componentRef){_this._loadComponent(componentRef),completer.resolve(componentRef)},tickResult=async_1.PromiseWrapper.then(compRefToken,tick);async_1.PromiseWrapper.then(tickResult,null,function(err,stackTrace){completer.reject(err,stackTrace),exceptionHandler.call(err,stackTrace)})}catch(e){exceptionHandler.call(e,e.stack),completer.reject(e,e.stack)}}),completer.promise.then(function(ref){var c=_this._injector.get(console_1.Console);return lang_1.assertionsEnabled()&&c.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),ref})},ApplicationRef_.prototype._loadComponent=function(componentRef){var appChangeDetector=componentRef.location.internalElement.parentView.changeDetector;this._changeDetectorRefs.push(appChangeDetector.ref),this.tick(),this._rootComponents.push(componentRef),this._bootstrapListeners.forEach(function(listener){return listener(componentRef)})},ApplicationRef_.prototype._unloadComponent=function(componentRef){collection_1.ListWrapper.contains(this._rootComponents,componentRef)&&(this.unregisterChangeDetector(componentRef.location.internalElement.parentView.changeDetector.ref),collection_1.ListWrapper.remove(this._rootComponents,componentRef))},Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new exceptions_1.BaseException("ApplicationRef.tick is called recursively");var s=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(detector){return detector.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(detector){return detector.checkNoChanges()})}finally{this._runningTick=!1,profile_1.wtfLeave(s)}},ApplicationRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._rootComponents).forEach(function(ref){return ref.dispose()}),this._disposeListeners.forEach(function(dispose){return dispose()}),this._platform._applicationDisposed(this)},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=profile_1.wtfCreateScope("ApplicationRef#tick()"),ApplicationRef_}(ApplicationRef);exports.ApplicationRef_=ApplicationRef_},{"./application_tokens":101,"./profile/profile":171,"angular2/src/core/console":132,"angular2/src/core/di":135,"angular2/src/core/linker/dynamic_component_loader":148,"angular2/src/core/testability/testability":181,"angular2/src/core/zone/ng_zone":185,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],101:[function(require,module,exports){"use strict";function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return lang_1.StringWrapper.fromCharCode(97+lang_1.Math.floor(25*lang_1.Math.random()))}var di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang");exports.APP_COMPONENT_REF_PROMISE=lang_1.CONST_EXPR(new di_1.OpaqueToken("Promise<ComponentRef>")),exports.APP_COMPONENT=lang_1.CONST_EXPR(new di_1.OpaqueToken("AppComponent")),exports.APP_ID=lang_1.CONST_EXPR(new di_1.OpaqueToken("AppId")),exports.APP_ID_RANDOM_PROVIDER=lang_1.CONST_EXPR(new di_1.Provider(exports.APP_ID,{useFactory:_appIdRandomProviderFactory,deps:[]})),exports.PLATFORM_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Initializer")),exports.APP_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Initializer")),exports.PACKAGE_ROOT_URL=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Packages Root URL"))},{"angular2/src/core/di":135,"angular2/src/facade/lang":195}],102:[function(require,module,exports){"use strict";var change_detection_1=require("./change_detection/change_detection");exports.ChangeDetectionStrategy=change_detection_1.ChangeDetectionStrategy,exports.ExpressionChangedAfterItHasBeenCheckedException=change_detection_1.ExpressionChangedAfterItHasBeenCheckedException,exports.ChangeDetectionError=change_detection_1.ChangeDetectionError,exports.ChangeDetectorRef=change_detection_1.ChangeDetectorRef,exports.WrappedValue=change_detection_1.WrappedValue,exports.SimpleChange=change_detection_1.SimpleChange,exports.IterableDiffers=change_detection_1.IterableDiffers,exports.KeyValueDiffers=change_detection_1.KeyValueDiffers,exports.CollectionChangeRecord=change_detection_1.CollectionChangeRecord,exports.KeyValueChangeRecord=change_detection_1.KeyValueChangeRecord},{"./change_detection/change_detection":105}],103:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),change_detection_util_1=require("./change_detection_util"),change_detector_ref_1=require("./change_detector_ref"),exceptions_1=require("./exceptions"),locals_1=require("./parser/locals"),constants_1=require("./constants"),profile_1=require("../profile/profile"),async_1=require("angular2/src/facade/async"),_scope_check=profile_1.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)"),_Context=function(){function _Context(element,componentElement,context,locals,injector,expression){this.element=element,this.componentElement=componentElement,this.context=context,this.locals=locals,this.injector=injector,this.expression=expression}return _Context}(),AbstractChangeDetector=function(){function AbstractChangeDetector(id,numberOfPropertyProtoRecords,bindingTargets,directiveIndices,strategy){this.id=id,this.numberOfPropertyProtoRecords=numberOfPropertyProtoRecords,this.bindingTargets=bindingTargets,this.directiveIndices=directiveIndices,this.strategy=strategy,this.contentChildren=[],this.viewChildren=[],this.state=constants_1.ChangeDetectorState.NeverChecked,this.locals=null,this.mode=null,this.pipes=null,this.ref=new change_detector_ref_1.ChangeDetectorRef_(this)}return AbstractChangeDetector.prototype.addContentChild=function(cd){this.contentChildren.push(cd),cd.parent=this},AbstractChangeDetector.prototype.removeContentChild=function(cd){collection_1.ListWrapper.remove(this.contentChildren,cd)},AbstractChangeDetector.prototype.addViewChild=function(cd){this.viewChildren.push(cd),cd.parent=this},AbstractChangeDetector.prototype.removeViewChild=function(cd){collection_1.ListWrapper.remove(this.viewChildren,cd)},AbstractChangeDetector.prototype.remove=function(){this.parent.removeContentChild(this)},AbstractChangeDetector.prototype.handleEvent=function(eventName,elIndex,event){this.hydrated()||this.throwDehydratedError(this.id+" -> "+eventName);try{var locals=new Map;locals.set("$event",event);var res=!this.handleEventInternal(eventName,elIndex,new locals_1.Locals(this.locals,locals));return this.markPathToRootAsCheckOnce(),res}catch(e){var c=this.dispatcher.getDebugContext(null,elIndex,null),context=lang_1.isPresent(c)?new exceptions_1.EventEvaluationErrorContext(c.element,c.componentElement,c.context,c.locals,c.injector):null;throw new exceptions_1.EventEvaluationError(eventName,e,e.stack,context)}},AbstractChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){return!1},AbstractChangeDetector.prototype.detectChanges=function(){this.runDetectChanges(!1)},AbstractChangeDetector.prototype.checkNoChanges=function(){lang_1.assertionsEnabled()&&this.runDetectChanges(!0)},AbstractChangeDetector.prototype.runDetectChanges=function(throwOnChange){if(this.mode!==constants_1.ChangeDetectionStrategy.Detached&&this.mode!==constants_1.ChangeDetectionStrategy.Checked&&this.state!==constants_1.ChangeDetectorState.Errored){var s=_scope_check(this.id,throwOnChange);this.detectChangesInRecords(throwOnChange),this._detectChangesContentChildren(throwOnChange),throwOnChange||this.afterContentLifecycleCallbacks(),this._detectChangesInViewChildren(throwOnChange),throwOnChange||this.afterViewLifecycleCallbacks(),this.mode===constants_1.ChangeDetectionStrategy.CheckOnce&&(this.mode=constants_1.ChangeDetectionStrategy.Checked),this.state=constants_1.ChangeDetectorState.CheckedBefore,profile_1.wtfLeave(s)}},AbstractChangeDetector.prototype.detectChangesInRecords=function(throwOnChange){this.hydrated()||this.throwDehydratedError(this.id);try{this.detectChangesInRecordsInternal(throwOnChange)}catch(e){e instanceof exceptions_1.ExpressionChangedAfterItHasBeenCheckedException||(this.state=constants_1.ChangeDetectorState.Errored),this._throwError(e,e.stack)}},AbstractChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){},AbstractChangeDetector.prototype.hydrate=function(context,locals,dispatcher,pipes){this.dispatcher=dispatcher,this.mode=change_detection_util_1.ChangeDetectionUtil.changeDetectionMode(this.strategy),this.context=context,this.locals=locals,this.pipes=pipes,this.hydrateDirectives(dispatcher),this.state=constants_1.ChangeDetectorState.NeverChecked},AbstractChangeDetector.prototype.hydrateDirectives=function(dispatcher){},AbstractChangeDetector.prototype.dehydrate=function(){this.dehydrateDirectives(!0),this._unsubscribeFromOutputs(),this.dispatcher=null,this.context=null,this.locals=null,this.pipes=null},AbstractChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){},AbstractChangeDetector.prototype.hydrated=function(){return lang_1.isPresent(this.context)},AbstractChangeDetector.prototype.destroyRecursive=function(){this.dispatcher.notifyOnDestroy(),this.dehydrate();for(var children=this.contentChildren,i=0;i<children.length;i++)children[i].destroyRecursive();children=this.viewChildren;for(var i=0;i<children.length;i++)children[i].destroyRecursive()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked(),this.afterContentLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked(),this.afterViewLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype._detectChangesContentChildren=function(throwOnChange){for(var c=this.contentChildren,i=0;i<c.length;++i)c[i].runDetectChanges(throwOnChange)},AbstractChangeDetector.prototype._detectChangesInViewChildren=function(throwOnChange){for(var c=this.viewChildren,i=0;i<c.length;++i)c[i].runDetectChanges(throwOnChange)},AbstractChangeDetector.prototype.markAsCheckOnce=function(){this.mode=constants_1.ChangeDetectionStrategy.CheckOnce},AbstractChangeDetector.prototype.markPathToRootAsCheckOnce=function(){for(var c=this;lang_1.isPresent(c)&&c.mode!==constants_1.ChangeDetectionStrategy.Detached;)c.mode===constants_1.ChangeDetectionStrategy.Checked&&(c.mode=constants_1.ChangeDetectionStrategy.CheckOnce),c=c.parent},AbstractChangeDetector.prototype._unsubscribeFromOutputs=function(){if(lang_1.isPresent(this.outputSubscriptions))for(var i=0;i<this.outputSubscriptions.length;++i)async_1.ObservableWrapper.dispose(this.outputSubscriptions[i]),this.outputSubscriptions[i]=null},AbstractChangeDetector.prototype.getDirectiveFor=function(directives,index){return directives.getDirectiveFor(this.directiveIndices[index])},AbstractChangeDetector.prototype.getDetectorFor=function(directives,index){return directives.getDetectorFor(this.directiveIndices[index])},AbstractChangeDetector.prototype.notifyDispatcher=function(value){this.dispatcher.notifyOnBinding(this._currentBinding(),value)},AbstractChangeDetector.prototype.logBindingUpdate=function(value){this.dispatcher.logBindingUpdate(this._currentBinding(),value)},AbstractChangeDetector.prototype.addChange=function(changes,oldValue,newValue){return lang_1.isBlank(changes)&&(changes={}),changes[this._currentBinding().name]=change_detection_util_1.ChangeDetectionUtil.simpleChange(oldValue,newValue),changes},AbstractChangeDetector.prototype._throwError=function(exception,stack){var error;try{var c=this.dispatcher.getDebugContext(null,this._currentBinding().elementIndex,null),context=lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.context,c.locals,c.injector,this._currentBinding().debug):null;error=new exceptions_1.ChangeDetectionError(this._currentBinding().debug,exception,stack,context)}catch(e){error=new exceptions_1.ChangeDetectionError(null,exception,stack,null)}throw error},AbstractChangeDetector.prototype.throwOnChangeError=function(oldValue,newValue){throw new exceptions_1.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,oldValue,newValue,null)},AbstractChangeDetector.prototype.throwDehydratedError=function(detail){throw new exceptions_1.DehydratedException(detail)},AbstractChangeDetector.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex]},AbstractChangeDetector}();exports.AbstractChangeDetector=AbstractChangeDetector},{"../profile/profile":171,"./change_detection_util":107,"./change_detector_ref":108,"./constants":113,"./exceptions":121,"./parser/locals":126,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],104:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),DIRECTIVE_LIFECYCLE="directiveLifecycle",BINDING="native",DIRECTIVE="directive",ELEMENT_PROPERTY="elementProperty",ELEMENT_ATTRIBUTE="elementAttribute",ELEMENT_CLASS="elementClass",ELEMENT_STYLE="elementStyle",TEXT_NODE="textNode",EVENT="event",HOST_EVENT="hostEvent",BindingTarget=function(){function BindingTarget(mode,elementIndex,name,unit,debug){this.mode=mode,this.elementIndex=elementIndex,this.name=name,this.unit=unit,this.debug=debug}return BindingTarget.prototype.isDirective=function(){return this.mode===DIRECTIVE},BindingTarget.prototype.isElementProperty=function(){return this.mode===ELEMENT_PROPERTY},BindingTarget.prototype.isElementAttribute=function(){return this.mode===ELEMENT_ATTRIBUTE},BindingTarget.prototype.isElementClass=function(){return this.mode===ELEMENT_CLASS},BindingTarget.prototype.isElementStyle=function(){return this.mode===ELEMENT_STYLE},BindingTarget.prototype.isTextNode=function(){return this.mode===TEXT_NODE},BindingTarget}();exports.BindingTarget=BindingTarget;var BindingRecord=function(){function BindingRecord(mode,target,implicitReceiver,ast,setter,lifecycleEvent,directiveRecord){this.mode=mode,this.target=target,this.implicitReceiver=implicitReceiver,this.ast=ast,this.setter=setter,this.lifecycleEvent=lifecycleEvent,this.directiveRecord=directiveRecord}return BindingRecord.prototype.isDirectiveLifecycle=function(){return this.mode===DIRECTIVE_LIFECYCLE},BindingRecord.prototype.callOnChanges=function(){return lang_1.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges},BindingRecord.prototype.isDefaultChangeDetection=function(){return lang_1.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection()},BindingRecord.createDirectiveDoCheck=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"DoCheck",directiveRecord)},BindingRecord.createDirectiveOnInit=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnInit",directiveRecord)},BindingRecord.createDirectiveOnChanges=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnChanges",directiveRecord)},BindingRecord.createForDirective=function(ast,propertyName,setter,directiveRecord){var elementIndex=directiveRecord.directiveIndex.elementIndex,t=new BindingTarget(DIRECTIVE,elementIndex,propertyName,null,ast.toString());return new BindingRecord(DIRECTIVE,t,0,ast,setter,null,directiveRecord)},BindingRecord.createForElementProperty=function(ast,elementIndex,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForElementAttribute=function(ast,elementIndex,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForElementClass=function(ast,elementIndex,className){var t=new BindingTarget(ELEMENT_CLASS,elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForElementStyle=function(ast,elementIndex,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForHostProperty=function(directiveIndex,ast,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,directiveIndex.elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForHostAttribute=function(directiveIndex,ast,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,directiveIndex.elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForHostClass=function(directiveIndex,ast,className){var t=new BindingTarget(ELEMENT_CLASS,directiveIndex.elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForHostStyle=function(directiveIndex,ast,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,directiveIndex.elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForTextNode=function(ast,elementIndex){var t=new BindingTarget(TEXT_NODE,elementIndex,null,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForEvent=function(ast,eventName,elementIndex){var t=new BindingTarget(EVENT,elementIndex,eventName,null,ast.toString());return new BindingRecord(EVENT,t,0,ast,null,null,null)},BindingRecord.createForHostEvent=function(ast,eventName,directiveRecord){var directiveIndex=directiveRecord.directiveIndex,t=new BindingTarget(HOST_EVENT,directiveIndex.elementIndex,eventName,null,ast.toString());return new BindingRecord(HOST_EVENT,t,directiveIndex,ast,null,null,directiveRecord)},BindingRecord}();exports.BindingRecord=BindingRecord},{"angular2/src/facade/lang":195}],105:[function(require,module,exports){"use strict";var iterable_differs_1=require("./differs/iterable_differs"),default_iterable_differ_1=require("./differs/default_iterable_differ"),keyvalue_differs_1=require("./differs/keyvalue_differs"),default_keyvalue_differ_1=require("./differs/default_keyvalue_differ"),lang_1=require("angular2/src/facade/lang"),default_keyvalue_differ_2=require("./differs/default_keyvalue_differ");exports.DefaultKeyValueDifferFactory=default_keyvalue_differ_2.DefaultKeyValueDifferFactory,exports.KeyValueChangeRecord=default_keyvalue_differ_2.KeyValueChangeRecord;var default_iterable_differ_2=require("./differs/default_iterable_differ");exports.DefaultIterableDifferFactory=default_iterable_differ_2.DefaultIterableDifferFactory,exports.CollectionChangeRecord=default_iterable_differ_2.CollectionChangeRecord;var ast_1=require("./parser/ast");exports.ASTWithSource=ast_1.ASTWithSource,exports.AST=ast_1.AST,exports.AstTransformer=ast_1.AstTransformer,exports.PropertyRead=ast_1.PropertyRead,exports.LiteralArray=ast_1.LiteralArray,exports.ImplicitReceiver=ast_1.ImplicitReceiver;var lexer_1=require("./parser/lexer");exports.Lexer=lexer_1.Lexer;var parser_1=require("./parser/parser");exports.Parser=parser_1.Parser;var locals_1=require("./parser/locals");exports.Locals=locals_1.Locals;var exceptions_1=require("./exceptions");exports.DehydratedException=exceptions_1.DehydratedException,exports.ExpressionChangedAfterItHasBeenCheckedException=exceptions_1.ExpressionChangedAfterItHasBeenCheckedException,exports.ChangeDetectionError=exceptions_1.ChangeDetectionError;var interfaces_1=require("./interfaces");exports.ChangeDetectorDefinition=interfaces_1.ChangeDetectorDefinition,exports.DebugContext=interfaces_1.DebugContext,exports.ChangeDetectorGenConfig=interfaces_1.ChangeDetectorGenConfig;var constants_1=require("./constants");exports.ChangeDetectionStrategy=constants_1.ChangeDetectionStrategy,exports.CHANGE_DETECTION_STRATEGY_VALUES=constants_1.CHANGE_DETECTION_STRATEGY_VALUES;var proto_change_detector_1=require("./proto_change_detector");exports.DynamicProtoChangeDetector=proto_change_detector_1.DynamicProtoChangeDetector;var jit_proto_change_detector_1=require("./jit_proto_change_detector");exports.JitProtoChangeDetector=jit_proto_change_detector_1.JitProtoChangeDetector;var binding_record_1=require("./binding_record");exports.BindingRecord=binding_record_1.BindingRecord,exports.BindingTarget=binding_record_1.BindingTarget;var directive_record_1=require("./directive_record");exports.DirectiveIndex=directive_record_1.DirectiveIndex,exports.DirectiveRecord=directive_record_1.DirectiveRecord;var dynamic_change_detector_1=require("./dynamic_change_detector");exports.DynamicChangeDetector=dynamic_change_detector_1.DynamicChangeDetector;var change_detector_ref_1=require("./change_detector_ref");exports.ChangeDetectorRef=change_detector_ref_1.ChangeDetectorRef;var iterable_differs_2=require("./differs/iterable_differs");exports.IterableDiffers=iterable_differs_2.IterableDiffers;var keyvalue_differs_2=require("./differs/keyvalue_differs");exports.KeyValueDiffers=keyvalue_differs_2.KeyValueDiffers;var change_detection_util_1=require("./change_detection_util");exports.WrappedValue=change_detection_util_1.WrappedValue,exports.SimpleChange=change_detection_util_1.SimpleChange,exports.keyValDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_keyvalue_differ_1.DefaultKeyValueDifferFactory)]),exports.iterableDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_iterable_differ_1.DefaultIterableDifferFactory)]),exports.defaultIterableDiffers=lang_1.CONST_EXPR(new iterable_differs_1.IterableDiffers(exports.iterableDiff)),exports.defaultKeyValueDiffers=lang_1.CONST_EXPR(new keyvalue_differs_1.KeyValueDiffers(exports.keyValDiff))},{"./binding_record":104,"./change_detection_util":107,"./change_detector_ref":108,"./constants":113,"./differs/default_iterable_differ":114,"./differs/default_keyvalue_differ":115,"./differs/iterable_differs":116,"./differs/keyvalue_differs":117,"./directive_record":118,"./dynamic_change_detector":119,"./exceptions":121,"./interfaces":122,"./jit_proto_change_detector":123,"./parser/ast":124,"./parser/lexer":125,"./parser/locals":126,"./parser/parser":127,"./proto_change_detector":130,"angular2/src/facade/lang":195}],106:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),abstract_change_detector_1=require("./abstract_change_detector"),change_detection_util_1=require("./change_detection_util"),proto_record_1=require("./proto_record"),codegen_name_util_1=require("./codegen_name_util"),codegen_logic_util_1=require("./codegen_logic_util"),codegen_facade_1=require("./codegen_facade"),constants_1=require("./constants"),proto_change_detector_1=require("./proto_change_detector"),IS_CHANGED_LOCAL="isChanged",CHANGES_LOCAL="changes",ChangeDetectorJITGenerator=function(){function ChangeDetectorJITGenerator(definition,changeDetectionUtilVarName,abstractChangeDetectorVarName,changeDetectorStateVarName){this.changeDetectionUtilVarName=changeDetectionUtilVarName,this.abstractChangeDetectorVarName=abstractChangeDetectorVarName,this.changeDetectorStateVarName=changeDetectorStateVarName;var propertyBindingRecords=proto_change_detector_1.createPropertyRecords(definition),eventBindingRecords=proto_change_detector_1.createEventRecords(definition),propertyBindingTargets=definition.bindingRecords.map(function(b){return b.target});this.id=definition.id,this.changeDetectionStrategy=definition.strategy,this.genConfig=definition.genConfig,this.records=propertyBindingRecords,this.propertyBindingTargets=propertyBindingTargets,this.eventBindings=eventBindingRecords,this.directiveRecords=definition.directiveRecords,this._names=new codegen_name_util_1.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName),this._logic=new codegen_logic_util_1.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectorStateVarName),this.typeName=codegen_name_util_1.sanitizeName("ChangeDetector_"+this.id)}return ChangeDetectorJITGenerator.prototype.generate=function(){var factorySource="\n      "+this.generateSource()+"\n      return function() {\n        return new "+this.typeName+"();\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,factorySource)(abstract_change_detector_1.AbstractChangeDetector,change_detection_util_1.ChangeDetectionUtil,constants_1.ChangeDetectorState)},ChangeDetectorJITGenerator.prototype.generateSource=function(){return"\n      var "+this.typeName+" = function "+this.typeName+"() {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+codegen_facade_1.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+IS_CHANGED_LOCAL+" = false;\n        var "+CHANGES_LOCAL+" = null;\n\n        "+this._genAllRecords(this.records)+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    "},ChangeDetectorJITGenerator.prototype._genPropertyBindingTargets=function(){var targets=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+targets+";"},ChangeDetectorJITGenerator.prototype._genDirectiveIndices=function(){var indices=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+indices+";"},ChangeDetectorJITGenerator.prototype._maybeGenHandleEventInternal=function(){var _this=this;if(this.eventBindings.length>0){var handlers=this.eventBindings.map(function(eb){return _this._genEventBinding(eb)}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+handlers+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genEventBinding=function(eb){var _this=this,codes=[];return this._endOfBlockIdxs=[],collection_1.ListWrapper.forEachWithIndex(eb.records,function(r,i){var code;code=r.isConditionalSkipRecord()?_this._genConditionalSkip(r,_this._names.getEventLocalName(eb,i)):r.isUnconditionalSkipRecord()?_this._genUnconditionalSkip(r):_this._genEventBindingEval(eb,r),code+=_this._genEndOfSkipBlock(i),codes.push(code)}),'\n    if (eventName === "'+eb.eventName+'" && elIndex === '+eb.elIndex+") {\n      "+codes.join("\n")+"\n    }"},ChangeDetectorJITGenerator.prototype._genEventBindingEval=function(eb,r){if(r.lastInBinding){var evalRecord=this._logic.genEventBindingEvalValue(eb,r),markPath=this._genMarkPathToRootAsCheckOnce(r),prevDefault=this._genUpdatePreventDefault(eb,r);return markPath+"\n"+evalRecord+"\n"+prevDefault}return this._logic.genEventBindingEvalValue(eb,r)},ChangeDetectorJITGenerator.prototype._genMarkPathToRootAsCheckOnce=function(r){var br=r.bindingRecord;return br.isDefaultChangeDetection()?"":this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();";
},ChangeDetectorJITGenerator.prototype._genUpdatePreventDefault=function(eb,r){var local=this._names.getEventLocalName(eb,r.selfIndex);return"if ("+local+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};"},ChangeDetectorJITGenerator.prototype._maybeGenDehydrateDirectives=function(){var destroyPipesCode=this._names.genPipeOnDestroy(),destroyDirectivesCode=this._logic.genDirectivesOnDestroy(this.directiveRecords),dehydrateFieldsCode=this._names.genDehydrateFields();return destroyPipesCode||destroyDirectivesCode||dehydrateFieldsCode?this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        if (destroyPipes) {\n          "+destroyPipesCode+"\n          "+destroyDirectivesCode+"\n        }\n        "+dehydrateFieldsCode+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenHydrateDirectives=function(){var hydrateDirectivesCode=this._logic.genHydrateDirectives(this.directiveRecords),hydrateDetectorsCode=this._logic.genHydrateDetectors(this.directiveRecords);return hydrateDirectivesCode||hydrateDetectorsCode?this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+hydrateDirectivesCode+"\n      "+hydrateDetectorsCode+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var notifications=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var notifications=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genAllRecords=function(rs){var codes=[];this._endOfBlockIdxs=[];for(var i=0;i<rs.length;i++){var code=void 0,r=rs[i];code=r.isLifeCycleRecord()?this._genDirectiveLifecycle(r):r.isPipeRecord()?this._genPipeCheck(r):r.isConditionalSkipRecord()?this._genConditionalSkip(r,this._names.getLocalName(r.contextIndex)):r.isUnconditionalSkipRecord()?this._genUnconditionalSkip(r):this._genReferenceCheck(r),code="\n        "+this._maybeFirstInBinding(r)+"\n        "+code+"\n        "+this._maybeGenLastInDirective(r)+"\n        "+this._genEndOfSkipBlock(i)+"\n      ",codes.push(code)}return codes.join("\n")},ChangeDetectorJITGenerator.prototype._genConditionalSkip=function(r,condition){var maybeNegate=r.mode===proto_record_1.RecordType.SkipRecordsIf?"!":"";return this._endOfBlockIdxs.push(r.fixedArgs[0]-1),"if ("+maybeNegate+condition+") {"},ChangeDetectorJITGenerator.prototype._genUnconditionalSkip=function(r){return this._endOfBlockIdxs.pop(),this._endOfBlockIdxs.push(r.fixedArgs[0]-1),"} else {"},ChangeDetectorJITGenerator.prototype._genEndOfSkipBlock=function(protoIndex){if(!collection_1.ListWrapper.isEmpty(this._endOfBlockIdxs)){var endOfBlock=collection_1.ListWrapper.last(this._endOfBlockIdxs);if(protoIndex===endOfBlock)return this._endOfBlockIdxs.pop(),"}"}return""},ChangeDetectorJITGenerator.prototype._genDirectiveLifecycle=function(r){if("DoCheck"===r.name)return this._genOnCheck(r);if("OnInit"===r.name)return this._genOnInit(r);if("OnChanges"===r.name)return this._genOnChange(r);throw new exceptions_1.BaseException("Unknown lifecycle event '"+r.name+"'")},ChangeDetectorJITGenerator.prototype._genPipeCheck=function(r){var _this=this,context=this._names.getLocalName(r.contextIndex),argString=r.args.map(function(arg){return _this._names.getLocalName(arg)}).join(", "),oldValue=this._names.getFieldName(r.selfIndex),newValue=this._names.getLocalName(r.selfIndex),pipe=this._names.getPipeName(r.selfIndex),pipeName=r.name,init="\n      if ("+pipe+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+pipe+" = "+this._names.getPipesAccessorName()+".get('"+pipeName+"');\n      }\n    ",read=newValue+" = "+pipe+".pipe.transform("+context+", ["+argString+"]);",contexOrArgCheck=r.args.map(function(a){return _this._names.getChangeName(a)});contexOrArgCheck.push(this._names.getChangeName(r.contextIndex));var condition="!"+pipe+".pure || ("+contexOrArgCheck.join(" || ")+")",check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+newValue+" = "+this.changeDetectionUtilVarName+".unwrapValue("+newValue+")\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ",genCode=r.shouldBeChecked()?""+read+check:read;return r.isUsedByOtherRecord()?init+" if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }":init+" if ("+condition+") { "+genCode+" }"},ChangeDetectorJITGenerator.prototype._genReferenceCheck=function(r){var _this=this,oldValue=this._names.getFieldName(r.selfIndex),newValue=this._names.getLocalName(r.selfIndex),read="\n      "+this._logic.genPropertyBindingEvalValue(r)+"\n    ",check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ",genCode=r.shouldBeChecked()?""+read+check:read;if(r.isPureFunction()){var condition=r.args.map(function(a){return _this._names.getChangeName(a)}).join(" || ");return r.isUsedByOtherRecord()?"if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }":"if ("+condition+") { "+genCode+" }"}return genCode},ChangeDetectorJITGenerator.prototype._genChangeMarker=function(r){return r.argumentToPureFunction?this._names.getChangeName(r.selfIndex)+" = true":""},ChangeDetectorJITGenerator.prototype._genUpdateDirectiveOrElement=function(r){if(!r.lastInBinding)return"";var newValue=this._names.getLocalName(r.selfIndex),notifyDebug=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+newValue+");":"",br=r.bindingRecord;if(br.target.isDirective()){var directiveProperty=this._names.getDirectiveName(br.directiveRecord.directiveIndex)+"."+br.target.name;return"\n        "+directiveProperty+" = "+newValue+";\n        "+notifyDebug+"\n        "+IS_CHANGED_LOCAL+" = true;\n      "}return"\n        this.notifyDispatcher("+newValue+");\n        "+notifyDebug+"\n      "},ChangeDetectorJITGenerator.prototype._genThrowOnChangeCheck=function(oldValue,newValue){return lang_1.assertionsEnabled()?"\n        if (throwOnChange && !"+this.changeDetectionUtilVarName+".devModeEqual("+oldValue+", "+newValue+")) {\n          this.throwOnChangeError("+oldValue+", "+newValue+");\n        }\n        ":""},ChangeDetectorJITGenerator.prototype._genAddToChanges=function(r){var newValue=this._names.getLocalName(r.selfIndex),oldValue=this._names.getFieldName(r.selfIndex);return r.bindingRecord.callOnChanges()?CHANGES_LOCAL+" = this.addChange("+CHANGES_LOCAL+", "+oldValue+", "+newValue+");":""},ChangeDetectorJITGenerator.prototype._maybeFirstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this.records,r.selfIndex-1),firstInBinding=lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord;return firstInBinding&&!r.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+r.propertyBindingIndex+";":""},ChangeDetectorJITGenerator.prototype._maybeGenLastInDirective=function(r){return r.lastInDirective?"\n      "+CHANGES_LOCAL+" = null;\n      "+this._genNotifyOnPushDetectors(r)+"\n      "+IS_CHANGED_LOCAL+" = false;\n    ":""},ChangeDetectorJITGenerator.prototype._genOnCheck=function(r){var br=r.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngDoCheck();"},ChangeDetectorJITGenerator.prototype._genOnInit=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+this._names.getStateName()+" === "+this.changeDetectorStateVarName+".NeverChecked) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnInit();"},ChangeDetectorJITGenerator.prototype._genOnChange=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+CHANGES_LOCAL+") "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnChanges("+CHANGES_LOCAL+");"},ChangeDetectorJITGenerator.prototype._genNotifyOnPushDetectors=function(r){var br=r.bindingRecord;if(!r.lastInDirective||br.isDefaultChangeDetection())return"";var retVal="\n      if("+IS_CHANGED_LOCAL+") {\n        "+this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return retVal},ChangeDetectorJITGenerator}();exports.ChangeDetectorJITGenerator=ChangeDetectorJITGenerator},{"./abstract_change_detector":103,"./change_detection_util":107,"./codegen_facade":110,"./codegen_logic_util":111,"./codegen_name_util":112,"./constants":113,"./proto_change_detector":130,"./proto_record":131,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],107:[function(require,module,exports){"use strict";function _simpleChange(previousValue,currentValue){return new SimpleChange(previousValue,currentValue)}var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),constants_1=require("./constants"),pipe_lifecycle_reflector_1=require("./pipe_lifecycle_reflector"),binding_record_1=require("./binding_record"),directive_record_1=require("./directive_record"),WrappedValue=function(){function WrappedValue(wrapped){this.wrapped=wrapped}return WrappedValue.wrap=function(value){var w=_wrappedValues[_wrappedIndex++%5];return w.wrapped=value,w},WrappedValue}();exports.WrappedValue=WrappedValue;var _wrappedValues=[new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null)],_wrappedIndex=0,SimpleChange=function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue,this.currentValue=currentValue}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===ChangeDetectionUtil.uninitialized},SimpleChange}();exports.SimpleChange=SimpleChange;var ChangeDetectionUtil=function(){function ChangeDetectionUtil(){}return ChangeDetectionUtil.arrayFn0=function(){return[]},ChangeDetectionUtil.arrayFn1=function(a1){return[a1]},ChangeDetectionUtil.arrayFn2=function(a1,a2){return[a1,a2]},ChangeDetectionUtil.arrayFn3=function(a1,a2,a3){return[a1,a2,a3]},ChangeDetectionUtil.arrayFn4=function(a1,a2,a3,a4){return[a1,a2,a3,a4]},ChangeDetectionUtil.arrayFn5=function(a1,a2,a3,a4,a5){return[a1,a2,a3,a4,a5]},ChangeDetectionUtil.arrayFn6=function(a1,a2,a3,a4,a5,a6){return[a1,a2,a3,a4,a5,a6]},ChangeDetectionUtil.arrayFn7=function(a1,a2,a3,a4,a5,a6,a7){return[a1,a2,a3,a4,a5,a6,a7]},ChangeDetectionUtil.arrayFn8=function(a1,a2,a3,a4,a5,a6,a7,a8){return[a1,a2,a3,a4,a5,a6,a7,a8]},ChangeDetectionUtil.arrayFn9=function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return[a1,a2,a3,a4,a5,a6,a7,a8,a9]},ChangeDetectionUtil.operation_negate=function(value){return!value},ChangeDetectionUtil.operation_add=function(left,right){return left+right},ChangeDetectionUtil.operation_subtract=function(left,right){return left-right},ChangeDetectionUtil.operation_multiply=function(left,right){return left*right},ChangeDetectionUtil.operation_divide=function(left,right){return left/right},ChangeDetectionUtil.operation_remainder=function(left,right){return left%right},ChangeDetectionUtil.operation_equals=function(left,right){return left==right},ChangeDetectionUtil.operation_not_equals=function(left,right){return left!=right},ChangeDetectionUtil.operation_identical=function(left,right){return left===right},ChangeDetectionUtil.operation_not_identical=function(left,right){return left!==right},ChangeDetectionUtil.operation_less_then=function(left,right){return right>left},ChangeDetectionUtil.operation_greater_then=function(left,right){return left>right},ChangeDetectionUtil.operation_less_or_equals_then=function(left,right){return right>=left},ChangeDetectionUtil.operation_greater_or_equals_then=function(left,right){return left>=right},ChangeDetectionUtil.cond=function(cond,trueVal,falseVal){return cond?trueVal:falseVal},ChangeDetectionUtil.mapFn=function(keys){function buildMap(values){for(var res=collection_1.StringMapWrapper.create(),i=0;i<keys.length;++i)collection_1.StringMapWrapper.set(res,keys[i],values[i]);return res}switch(keys.length){case 0:return function(){return[]};case 1:return function(a1){return buildMap([a1])};case 2:return function(a1,a2){return buildMap([a1,a2])};case 3:return function(a1,a2,a3){return buildMap([a1,a2,a3])};case 4:return function(a1,a2,a3,a4){return buildMap([a1,a2,a3,a4])};case 5:return function(a1,a2,a3,a4,a5){return buildMap([a1,a2,a3,a4,a5])};case 6:return function(a1,a2,a3,a4,a5,a6){return buildMap([a1,a2,a3,a4,a5,a6])};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return buildMap([a1,a2,a3,a4,a5,a6,a7])};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8])};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8,a9])};default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements")}},ChangeDetectionUtil.keyedAccess=function(obj,args){return obj[args[0]]},ChangeDetectionUtil.unwrapValue=function(value){return value instanceof WrappedValue?value.wrapped:value},ChangeDetectionUtil.changeDetectionMode=function(strategy){return constants_1.isDefaultChangeDetectionStrategy(strategy)?constants_1.ChangeDetectionStrategy.CheckAlways:constants_1.ChangeDetectionStrategy.CheckOnce},ChangeDetectionUtil.simpleChange=function(previousValue,currentValue){return _simpleChange(previousValue,currentValue)},ChangeDetectionUtil.isValueBlank=function(value){return lang_1.isBlank(value)},ChangeDetectionUtil.s=function(value){return lang_1.isPresent(value)?""+value:""},ChangeDetectionUtil.protoByIndex=function(protos,selfIndex){return 1>selfIndex?null:protos[selfIndex-1]},ChangeDetectionUtil.callPipeOnDestroy=function(selectedPipe){pipe_lifecycle_reflector_1.implementsOnDestroy(selectedPipe.pipe)&&selectedPipe.pipe.ngOnDestroy()},ChangeDetectionUtil.bindingTarget=function(mode,elementIndex,name,unit,debug){return new binding_record_1.BindingTarget(mode,elementIndex,name,unit,debug)},ChangeDetectionUtil.directiveIndex=function(elementIndex,directiveIndex){return new directive_record_1.DirectiveIndex(elementIndex,directiveIndex)},ChangeDetectionUtil.looseNotIdentical=function(a,b){return!lang_1.looseIdentical(a,b)},ChangeDetectionUtil.devModeEqual=function(a,b){return collection_1.isListLikeIterable(a)&&collection_1.isListLikeIterable(b)?collection_1.areIterablesEqual(a,b,ChangeDetectionUtil.devModeEqual):collection_1.isListLikeIterable(a)||lang_1.isPrimitive(a)||collection_1.isListLikeIterable(b)||lang_1.isPrimitive(b)?lang_1.looseIdentical(a,b):!0},ChangeDetectionUtil.uninitialized=lang_1.CONST_EXPR(new Object),ChangeDetectionUtil}();exports.ChangeDetectionUtil=ChangeDetectionUtil},{"./binding_record":104,"./constants":113,"./directive_record":118,"./pipe_lifecycle_reflector":128,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],108:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},constants_1=require("./constants"),ChangeDetectorRef=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}();exports.ChangeDetectorRef=ChangeDetectorRef;var ChangeDetectorRef_=function(_super){function ChangeDetectorRef_(_cd){_super.call(this),this._cd=_cd}return __extends(ChangeDetectorRef_,_super),ChangeDetectorRef_.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce()},ChangeDetectorRef_.prototype.detach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.Detached},ChangeDetectorRef_.prototype.detectChanges=function(){this._cd.detectChanges()},ChangeDetectorRef_.prototype.checkNoChanges=function(){this._cd.checkNoChanges()},ChangeDetectorRef_.prototype.reattach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.CheckAlways,this.markForCheck()},ChangeDetectorRef_}(ChangeDetectorRef);exports.ChangeDetectorRef_=ChangeDetectorRef_},{"./constants":113}],109:[function(require,module,exports){"use strict";function coalesce(srcRecords){for(var dstRecords=[],excludedIdxs=[],indexMap=new collection_1.Map,skipDepth=0,skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length),protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];lang_1.isPresent(skipRecord)&&(skipDepth--,skipRecord.fixedArgs[0]=dstRecords.length);var src=srcRecords[protoIndex],dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);if(dst.isSkipRecord())dstRecords.push(dst),skipDepth++,skipSources[dst.fixedArgs[0]]=dst;else{var record=_mayBeAddRecord(dst,dstRecords,excludedIdxs,skipDepth>0);indexMap.set(src.selfIndex,record.selfIndex)}}return _optimizeSkips(dstRecords)}function _optimizeSkips(srcRecords){for(var dstRecords=[],skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length),indexMap=new collection_1.Map,protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];lang_1.isPresent(skipRecord)&&(skipRecord.fixedArgs[0]=dstRecords.length);var src=srcRecords[protoIndex];if(src.isSkipRecord()){if(src.isConditionalSkipRecord()&&src.fixedArgs[0]===protoIndex+2&&protoIndex<srcRecords.length-1&&srcRecords[protoIndex+1].mode===proto_record_1.RecordType.SkipRecords&&(src.mode=src.mode===proto_record_1.RecordType.SkipRecordsIf?proto_record_1.RecordType.SkipRecordsIfNot:proto_record_1.RecordType.SkipRecordsIf,src.fixedArgs[0]=srcRecords[protoIndex+1].fixedArgs[0],protoIndex++),src.fixedArgs[0]>protoIndex+1){var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst),skipSources[dst.fixedArgs[0]]=dst}}else{var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst),indexMap.set(src.selfIndex,dst.selfIndex)}}return dstRecords}function _mayBeAddRecord(record,dstRecords,excludedIdxs,excluded){var match=_findFirstMatch(record,dstRecords,excludedIdxs);return lang_1.isPresent(match)?(record.lastInBinding?(dstRecords.push(_createSelfRecord(record,match.selfIndex,dstRecords.length+1)),match.referencedBySelf=!0):record.argumentToPureFunction&&(match.argumentToPureFunction=!0),match):(excluded&&excludedIdxs.push(record.selfIndex),dstRecords.push(record),record)}function _findFirstMatch(record,dstRecords,excludedIdxs){return dstRecords.find(function(rr){return-1==excludedIdxs.indexOf(rr.selfIndex)&&rr.mode!==proto_record_1.RecordType.DirectiveLifecycle&&_haveSameDirIndex(rr,record)&&rr.mode===record.mode&&lang_1.looseIdentical(rr.funcOrValue,record.funcOrValue)&&rr.contextIndex===record.contextIndex&&lang_1.looseIdentical(rr.name,record.name)&&collection_1.ListWrapper.equals(rr.args,record.args)})}function _cloneAndUpdateIndexes(record,dstRecords,indexMap){var args=record.args.map(function(src){return _srcToDstSelfIndex(indexMap,src)}),contextIndex=_srcToDstSelfIndex(indexMap,record.contextIndex),selfIndex=dstRecords.length+1;return new proto_record_1.ProtoRecord(record.mode,record.name,record.funcOrValue,args,record.fixedArgs,contextIndex,record.directiveIndex,selfIndex,record.bindingRecord,record.lastInBinding,record.lastInDirective,record.argumentToPureFunction,record.referencedBySelf,record.propertyBindingIndex)}function _srcToDstSelfIndex(indexMap,srcIdx){var dstIdx=indexMap.get(srcIdx);return lang_1.isPresent(dstIdx)?dstIdx:srcIdx}function _createSelfRecord(r,contextIndex,selfIndex){return new proto_record_1.ProtoRecord(proto_record_1.RecordType.Self,"self",null,[],r.fixedArgs,contextIndex,r.directiveIndex,selfIndex,r.bindingRecord,r.lastInBinding,r.lastInDirective,!1,!1,r.propertyBindingIndex)}function _haveSameDirIndex(a,b){var di1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.directiveIndex,ei1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.elementIndex,di2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.directiveIndex,ei2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.elementIndex;return di1===di2&&ei1===ei2}var lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),proto_record_1=require("./proto_record");exports.coalesce=coalesce},{"./proto_record":131,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],110:[function(require,module,exports){"use strict";function codify(obj){return JSON.stringify(obj)}function rawString(str){return"'"+str+"'"}function combineGeneratedStrings(vals){return vals.join(" + ")}exports.codify=codify,exports.rawString=rawString,exports.combineGeneratedStrings=combineGeneratedStrings},{}],111:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),codegen_facade_1=require("./codegen_facade"),proto_record_1=require("./proto_record"),exceptions_1=require("angular2/src/facade/exceptions"),CodegenLogicUtil=function(){function CodegenLogicUtil(_names,_utilName,_changeDetectorStateName){this._names=_names,this._utilName=_utilName,this._changeDetectorStateName=_changeDetectorStateName}return CodegenLogicUtil.prototype.genPropertyBindingEvalValue=function(protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getLocalName(idx)},this._names.getLocalsAccessorName())},CodegenLogicUtil.prototype.genEventBindingEvalValue=function(eventRecord,protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getEventLocalName(eventRecord,idx)},"locals")},CodegenLogicUtil.prototype._genEvalValue=function(protoRec,getLocalName,localsAccessor){var rhs,context=-1==protoRec.contextIndex?this._names.getDirectiveName(protoRec.directiveIndex):getLocalName(protoRec.contextIndex),argString=protoRec.args.map(function(arg){return getLocalName(arg)}).join(", ");switch(protoRec.mode){case proto_record_1.RecordType.Self:rhs=context;break;case proto_record_1.RecordType.Const:rhs=codegen_facade_1.codify(protoRec.funcOrValue);break;case proto_record_1.RecordType.PropertyRead:rhs=context+"."+protoRec.name;break;case proto_record_1.RecordType.SafeProperty:var read=context+"."+protoRec.name;rhs=this._utilName+".isValueBlank("+context+") ? null : "+read;break;case proto_record_1.RecordType.PropertyWrite:rhs=context+"."+protoRec.name+" = "+getLocalName(protoRec.args[0]);break;case proto_record_1.RecordType.Local:rhs=localsAccessor+".get("+codegen_facade_1.rawString(protoRec.name)+")";break;case proto_record_1.RecordType.InvokeMethod:rhs=context+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.SafeMethodInvoke:var invoke=context+"."+protoRec.name+"("+argString+")";rhs=this._utilName+".isValueBlank("+context+") ? null : "+invoke;break;case proto_record_1.RecordType.InvokeClosure:rhs=context+"("+argString+")";break;case proto_record_1.RecordType.PrimitiveOp:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.CollectionLiteral:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.Interpolate:rhs=this._genInterpolation(protoRec);break;case proto_record_1.RecordType.KeyedRead:rhs=context+"["+getLocalName(protoRec.args[0])+"]";break;case proto_record_1.RecordType.KeyedWrite:rhs=context+"["+getLocalName(protoRec.args[0])+"] = "+getLocalName(protoRec.args[1]);break;case proto_record_1.RecordType.Chain:rhs=""+getLocalName(protoRec.args[protoRec.args.length-1]);break;default:throw new exceptions_1.BaseException("Unknown operation "+protoRec.mode)}return getLocalName(protoRec.selfIndex)+" = "+rhs+";"},CodegenLogicUtil.prototype.genPropertyBindingTargets=function(propertyBindingTargets,genDebugInfo){var _this=this,bs=propertyBindingTargets.map(function(b){if(lang_1.isBlank(b))return"null";var debug=genDebugInfo?codegen_facade_1.codify(b.debug):"null";return _this._utilName+".bindingTarget("+codegen_facade_1.codify(b.mode)+", "+b.elementIndex+", "+codegen_facade_1.codify(b.name)+", "+codegen_facade_1.codify(b.unit)+", "+debug+")"});return"["+bs.join(", ")+"]"},CodegenLogicUtil.prototype.genDirectiveIndices=function(directiveRecords){var _this=this,bs=directiveRecords.map(function(b){return _this._utilName+".directiveIndex("+b.directiveIndex.elementIndex+", "+b.directiveIndex.directiveIndex+")"});return"["+bs.join(", ")+"]"},CodegenLogicUtil.prototype._genInterpolation=function(protoRec){for(var iVals=[],i=0;i<protoRec.args.length;++i)iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[i])),iVals.push(this._utilName+".s("+this._names.getLocalName(protoRec.args[i])+")");return iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[protoRec.args.length])),codegen_facade_1.combineGeneratedStrings(iVals)},CodegenLogicUtil.prototype.genHydrateDirectives=function(directiveRecords){for(var _this=this,res=[],outputCount=0,i=0;i<directiveRecords.length;++i){var r=directiveRecords[i],dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+" = "+this._genReadDirective(i)+";"),lang_1.isPresent(r.outputs)&&r.outputs.forEach(function(output){var eventHandlerExpr=_this._genEventHandler(r.directiveIndex.elementIndex,output[1]),statementStart="this.outputSubscriptions["+outputCount++ +"] = "+dirVarName+"."+output[0];lang_1.IS_DART?res.push(statementStart+".listen("+eventHandlerExpr+");"):res.push(statementStart+".subscribe({next: "+eventHandlerExpr+"});")})}if(outputCount>0){var statementStart="this.outputSubscriptions";lang_1.IS_DART?res.unshift(statementStart+" = new List("+outputCount+");"):res.unshift(statementStart+" = new Array("+outputCount+");")}return res.join("\n")},CodegenLogicUtil.prototype.genDirectivesOnDestroy=function(directiveRecords){for(var res=[],i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];if(r.callOnDestroy){var dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+".ngOnDestroy();")}}return res.join("\n")},CodegenLogicUtil.prototype._genEventHandler=function(boundElementIndex,eventName){return lang_1.IS_DART?"(event) => this.handleEvent('"+eventName+"', "+boundElementIndex+", event)":"(function(event) { return this.handleEvent('"+eventName+"', "+boundElementIndex+", event); }).bind(this)"},CodegenLogicUtil.prototype._genReadDirective=function(index){return"this.getDirectiveFor(directives, "+index+")"},CodegenLogicUtil.prototype.genHydrateDetectors=function(directiveRecords){for(var res=[],i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];r.isDefaultChangeDetection()||res.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+i+");")}return res.join("\n")},CodegenLogicUtil.prototype.genContentLifecycleCallbacks=function(directiveRecords){for(var res=[],eq=lang_1.IS_DART?"==":"===",i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];dir.callAfterContentInit&&res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentInit();"),dir.callAfterContentChecked&&res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentChecked();")}return res},CodegenLogicUtil.prototype.genViewLifecycleCallbacks=function(directiveRecords){for(var res=[],eq=lang_1.IS_DART?"==":"===",i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];dir.callAfterViewInit&&res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewInit();"),dir.callAfterViewChecked&&res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewChecked();")}return res},CodegenLogicUtil}();exports.CodegenLogicUtil=CodegenLogicUtil},{"./codegen_facade":110,"./proto_record":131,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],112:[function(require,module,exports){"use strict";function sanitizeName(s){return lang_1.StringWrapper.replaceAll(s,_whiteSpaceRegExp,"")}var lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),_STATE_ACCESSOR="state",_PROP_BINDING_INDEX="propertyBindingIndex",_DIRECTIVES_ACCESSOR="directiveIndices",_DISPATCHER_ACCESSOR="dispatcher",_LOCALS_ACCESSOR="locals",_MODE_ACCESSOR="mode",_PIPES_ACCESSOR="pipes",_PROTOS_ACCESSOR="protos";exports.CONTEXT_ACCESSOR="context",exports.CONTEXT_INDEX=0;var _FIELD_PREFIX="this.",_whiteSpaceRegExp=/\W/g;exports.sanitizeName=sanitizeName;var CodegenNameUtil=function(){function CodegenNameUtil(_records,_eventBindings,_directiveRecords,_utilName){this._records=_records,this._eventBindings=_eventBindings,this._directiveRecords=_directiveRecords,this._utilName=_utilName,this._sanitizedEventNames=new collection_1.Map,this._sanitizedNames=collection_1.ListWrapper.createFixedSize(this._records.length+1),this._sanitizedNames[exports.CONTEXT_INDEX]=exports.CONTEXT_ACCESSOR;for(var i=0,iLen=this._records.length;iLen>i;++i)this._sanitizedNames[i+1]=sanitizeName(""+this._records[i].name+i);for(var ebIndex=0;ebIndex<_eventBindings.length;++ebIndex){for(var eb=_eventBindings[ebIndex],names=[exports.CONTEXT_ACCESSOR],i=0,iLen=eb.records.length;iLen>i;++i)names.push(sanitizeName(""+eb.records[i].name+i+"_"+ebIndex));this._sanitizedEventNames.set(eb,names)}}return CodegenNameUtil.prototype._addFieldPrefix=function(name){return""+_FIELD_PREFIX+name},CodegenNameUtil.prototype.getDispatcherName=function(){return this._addFieldPrefix(_DISPATCHER_ACCESSOR)},CodegenNameUtil.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(_PIPES_ACCESSOR)},CodegenNameUtil.prototype.getProtosName=function(){return this._addFieldPrefix(_PROTOS_ACCESSOR)},CodegenNameUtil.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(_DIRECTIVES_ACCESSOR)},CodegenNameUtil.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(_LOCALS_ACCESSOR)},CodegenNameUtil.prototype.getStateName=function(){return this._addFieldPrefix(_STATE_ACCESSOR)},CodegenNameUtil.prototype.getModeName=function(){return this._addFieldPrefix(_MODE_ACCESSOR)},CodegenNameUtil.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(_PROP_BINDING_INDEX)},CodegenNameUtil.prototype.getLocalName=function(idx){return"l_"+this._sanitizedNames[idx]},CodegenNameUtil.prototype.getEventLocalName=function(eb,idx){return"l_"+this._sanitizedEventNames.get(eb)[idx]},CodegenNameUtil.prototype.getChangeName=function(idx){return"c_"+this._sanitizedNames[idx]},CodegenNameUtil.prototype.genInitLocals=function(){for(var declarations=[],assignments=[],i=0,iLen=this.getFieldCount();iLen>i;++i)if(i==exports.CONTEXT_INDEX)declarations.push(this.getLocalName(i)+" = "+this.getFieldName(i));else{var rec=this._records[i-1];if(rec.argumentToPureFunction){var changeName=this.getChangeName(i);declarations.push(this.getLocalName(i)+","+changeName),assignments.push(changeName)}else declarations.push(""+this.getLocalName(i))}var assignmentsCode=collection_1.ListWrapper.isEmpty(assignments)?"":assignments.join("=")+" = false;";return"var "+declarations.join(",")+";"+assignmentsCode},CodegenNameUtil.prototype.genInitEventLocals=function(){var _this=this,res=[this.getLocalName(exports.CONTEXT_INDEX)+" = "+this.getFieldName(exports.CONTEXT_INDEX)];
return this._sanitizedEventNames.forEach(function(names,eb){for(var i=0;i<names.length;++i)i!==exports.CONTEXT_INDEX&&res.push(""+_this.getEventLocalName(eb,i))}),res.length>1?"var "+res.join(",")+";":""},CodegenNameUtil.prototype.getPreventDefaultAccesor=function(){return"preventDefault"},CodegenNameUtil.prototype.getFieldCount=function(){return this._sanitizedNames.length},CodegenNameUtil.prototype.getFieldName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx])},CodegenNameUtil.prototype.getAllFieldNames=function(){for(var fieldList=[],k=0,kLen=this.getFieldCount();kLen>k;++k)(0===k||this._records[k-1].shouldBeChecked())&&fieldList.push(this.getFieldName(k));for(var i=0,iLen=this._records.length;iLen>i;++i){var rec=this._records[i];rec.isPipeRecord()&&fieldList.push(this.getPipeName(rec.selfIndex))}for(var j=0,jLen=this._directiveRecords.length;jLen>j;++j){var dRec=this._directiveRecords[j];fieldList.push(this.getDirectiveName(dRec.directiveIndex)),dRec.isDefaultChangeDetection()||fieldList.push(this.getDetectorName(dRec.directiveIndex))}return fieldList},CodegenNameUtil.prototype.genDehydrateFields=function(){var fields=this.getAllFieldNames();return collection_1.ListWrapper.removeAt(fields,exports.CONTEXT_INDEX),collection_1.ListWrapper.isEmpty(fields)?"":(fields.push(this._utilName+".uninitialized;"),fields.join(" = "))},CodegenNameUtil.prototype.genPipeOnDestroy=function(){var _this=this;return this._records.filter(function(r){return r.isPipeRecord()}).map(function(r){return _this._utilName+".callPipeOnDestroy("+_this.getPipeName(r.selfIndex)+");"}).join("\n")},CodegenNameUtil.prototype.getPipeName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx]+"_pipe")},CodegenNameUtil.prototype.getDirectiveName=function(d){return this._addFieldPrefix("directive_"+d.name)},CodegenNameUtil.prototype.getDetectorName=function(d){return this._addFieldPrefix("detector_"+d.name)},CodegenNameUtil}();exports.CodegenNameUtil=CodegenNameUtil},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],113:[function(require,module,exports){"use strict";function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return lang_1.isBlank(changeDetectionStrategy)||changeDetectionStrategy===ChangeDetectionStrategy.Default}var lang_1=require("angular2/src/facade/lang");!function(ChangeDetectorState){ChangeDetectorState[ChangeDetectorState.NeverChecked=0]="NeverChecked",ChangeDetectorState[ChangeDetectorState.CheckedBefore=1]="CheckedBefore",ChangeDetectorState[ChangeDetectorState.Errored=2]="Errored"}(exports.ChangeDetectorState||(exports.ChangeDetectorState={}));var ChangeDetectorState=exports.ChangeDetectorState;!function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.CheckOnce=0]="CheckOnce",ChangeDetectionStrategy[ChangeDetectionStrategy.Checked=1]="Checked",ChangeDetectionStrategy[ChangeDetectionStrategy.CheckAlways=2]="CheckAlways",ChangeDetectionStrategy[ChangeDetectionStrategy.Detached=3]="Detached",ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=4]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=5]="Default"}(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectionStrategy=exports.ChangeDetectionStrategy;exports.CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.CheckOnce,ChangeDetectionStrategy.Checked,ChangeDetectionStrategy.CheckAlways,ChangeDetectionStrategy.Detached,ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default],exports.CHANGE_DETECTOR_STATE_VALUES=[ChangeDetectorState.NeverChecked,ChangeDetectorState.CheckedBefore,ChangeDetectorState.Errored],exports.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy},{"angular2/src/facade/lang":195}],114:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),lang_2=require("angular2/src/facade/lang"),DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(obj){return collection_1.isListLikeIterable(obj)},DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn)},DefaultIterableDifferFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DefaultIterableDifferFactory)}();exports.DefaultIterableDifferFactory=DefaultIterableDifferFactory;var trackByIdentity=function(index,item){return item},DefaultIterableDiffer=function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=lang_2.isPresent(this._trackByFn)?this._trackByFn:trackByIdentity}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;null!==record;record=record._next)fn(record)},DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)},DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)},DefaultIterableDiffer.prototype.diff=function(collection){if(lang_2.isBlank(collection)&&(collection=[]),!collection_1.isListLikeIterable(collection))throw new exceptions_1.BaseException("Error trying to diff '"+collection+"'");return this.check(collection)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(lang_2.isArray(collection)){var list=collection;for(this._length=collection.length,index=0;index<this._length;index++)item=list[index],itemTrackBy=this._trackByFn(index,item),null!==record&&lang_2.looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),lang_2.looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,collection_1.iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item),null!==record&&lang_2.looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=_this._verifyReinsertion(record,item,itemTrackBy,index)),lang_2.looseIdentical(record.item,item)||_this._addIdentityChange(record,item)):(record=_this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this._length=index;return this._truncate(record),this._collection=collection,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index),null!==record?(lang_2.looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy),null!==record?(lang_2.looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index)),record},DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record},DefaultIterableDiffer.prototype._truncate=function(record){for(;null!==record;){var nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);var prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record},DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record},DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))},DefaultIterableDiffer.prototype._unlink=function(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);var prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record},DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)},DefaultIterableDiffer.prototype._addToRemovals=function(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record},DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record},DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record)});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record)});var additions=[];this.forEachAddedItem(function(record){return additions.push(record)});var moves=[];this.forEachMovedItem(function(record){return moves.push(record)});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record)});var identityChanges=[];return this.forEachIdentityChange(function(record){return identityChanges.push(record)}),"collection: "+list.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nmoves: "+moves.join(", ")+"\nremovals: "+removals.join(", ")+"\nidentityChanges: "+identityChanges.join(", ")+"\n"},DefaultIterableDiffer}();exports.DefaultIterableDiffer=DefaultIterableDiffer;var CollectionChangeRecord=function(){function CollectionChangeRecord(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?lang_2.stringify(this.item):lang_2.stringify(this.item)+"["+lang_2.stringify(this.previousIndex)+"->"+lang_2.stringify(this.currentIndex)+"]"},CollectionChangeRecord}();exports.CollectionChangeRecord=CollectionChangeRecord;var _DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)},_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;null!==record;record=record._nextDup)if((null===afterIndex||afterIndex<record.currentIndex)&&lang_2.looseIdentical(record.trackById,trackById))return record;return null},_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head},_DuplicateItemRecordList}(),_DuplicateMap=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(record){var key=lang_2.getMapKey(record.trackById),duplicates=this.map.get(key);lang_2.isPresent(duplicates)||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)},_DuplicateMap.prototype.get=function(trackById,afterIndex){void 0===afterIndex&&(afterIndex=null);var key=lang_2.getMapKey(trackById),recordList=this.map.get(key);return lang_2.isBlank(recordList)?null:recordList.get(trackById,afterIndex)},_DuplicateMap.prototype.remove=function(record){var key=lang_2.getMapKey(record.trackById),recordList=this.map.get(key);return recordList.remove(record)&&this.map["delete"](key),record},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+lang_2.stringify(this.map)+")"},_DuplicateMap}()},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],115:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||lang_1.isJsObject(obj)},DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer},DefaultKeyValueDifferFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DefaultKeyValueDifferFactory)}();exports.DefaultKeyValueDifferFactory=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;null!==record;record=record._next)fn(record)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultKeyValueDiffer.prototype.diff=function(map){if(lang_1.isBlank(map)&&(map=collection_1.MapWrapper.createFromPairs([])),!(map instanceof Map||lang_1.isJsObject(map)))throw new exceptions_1.BaseException("Error trying to diff '"+map+"'");return this.check(map)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records,oldSeqRecord=this._mapHead,lastOldSeqRecord=null,lastNewSeqRecord=null,seqChanged=!1;return this._forEach(map,function(value,key){var newSeqRecord;null!==oldSeqRecord&&key===oldSeqRecord.key?(newSeqRecord=oldSeqRecord,lang_1.looseIdentical(value,oldSeqRecord.currentValue)||(oldSeqRecord.previousValue=oldSeqRecord.currentValue,oldSeqRecord.currentValue=value,_this._addToChanges(oldSeqRecord))):(seqChanged=!0,null!==oldSeqRecord&&(oldSeqRecord._next=null,_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord),_this._addToRemovals(oldSeqRecord)),records.has(key)?newSeqRecord=records.get(key):(newSeqRecord=new KeyValueChangeRecord(key),records.set(key,newSeqRecord),newSeqRecord.currentValue=value,_this._addToAdditions(newSeqRecord))),seqChanged&&(_this._isInRemovals(newSeqRecord)&&_this._removeFromRemovals(newSeqRecord),null==lastNewSeqRecord?_this._mapHead=newSeqRecord:lastNewSeqRecord._next=newSeqRecord),lastOldSeqRecord=oldSeqRecord,lastNewSeqRecord=newSeqRecord,oldSeqRecord=null===oldSeqRecord?null:oldSeqRecord._next}),this._truncate(lastOldSeqRecord,oldSeqRecord),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record;for(record=this._previousMapHead=this._mapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){for(;null!==record;){null===lastRecord?this._mapHead=null:lastRecord._next=null;var nextRecord=record._next;this._addToRemovals(record),lastRecord=record,record=nextRecord}for(var rec=this._removalsHead;null!==rec;rec=rec._nextRemoved)rec.previousValue=rec.currentValue,rec.currentValue=null,this._records["delete"](rec.key)},DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||null!==record._nextRemoved||null!==record._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(record){null===this._removalsHead?this._removalsHead=this._removalsTail=record:(this._removalsTail._nextRemoved=record,record._prevRemoved=this._removalsTail,this._removalsTail=record)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;null===prev?this._mapHead=next:prev._next=next},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved,next=record._nextRemoved;null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,record._prevRemoved=record._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)},DefaultKeyValueDiffer.prototype._addToChanges=function(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)},DefaultKeyValueDiffer.prototype.toString=function(){var record,items=[],previous=[],changes=[],additions=[],removals=[];for(record=this._mapHead;null!==record;record=record._next)items.push(lang_1.stringify(record));for(record=this._previousMapHead;null!==record;record=record._nextPrevious)previous.push(lang_1.stringify(record));for(record=this._changesHead;null!==record;record=record._nextChanged)changes.push(lang_1.stringify(record));for(record=this._additionsHead;null!==record;record=record._nextAdded)additions.push(lang_1.stringify(record));for(record=this._removalsHead;null!==record;record=record._nextRemoved)removals.push(lang_1.stringify(record));return"map: "+items.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nchanges: "+changes.join(", ")+"\nremovals: "+removals.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){obj instanceof Map?obj.forEach(fn):collection_1.StringMapWrapper.forEach(obj,fn)},DefaultKeyValueDiffer}();exports.DefaultKeyValueDiffer=DefaultKeyValueDiffer;var KeyValueChangeRecord=function(){function KeyValueChangeRecord(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return lang_1.looseIdentical(this.previousValue,this.currentValue)?lang_1.stringify(this.key):lang_1.stringify(this.key)+"["+lang_1.stringify(this.previousValue)+"->"+lang_1.stringify(this.currentValue)+"]"},KeyValueChangeRecord}();exports.KeyValueChangeRecord=KeyValueChangeRecord},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],116:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),di_1=require("angular2/src/core/di"),IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories}return IterableDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new IterableDiffers(factories)}return new IterableDiffers(factories)},IterableDiffers.extend=function(factories){return new di_1.Provider(IterableDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent))throw new exceptions_1.BaseException("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable)});if(lang_1.isPresent(factory))return factory;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+iterable+"' of type '"+lang_1.getTypeNameForDebugging(iterable)+"'")},IterableDiffers=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Array])],IterableDiffers)}();exports.IterableDiffers=IterableDiffers},{"angular2/src/core/di":135,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],117:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),di_1=require("angular2/src/core/di"),KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories}return KeyValueDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new KeyValueDiffers(factories)}return new KeyValueDiffers(factories)},KeyValueDiffers.extend=function(factories){return new di_1.Provider(KeyValueDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent))throw new exceptions_1.BaseException("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(lang_1.isPresent(factory))return factory;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+kv+"'")},KeyValueDiffers=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Array])],KeyValueDiffers)}();exports.KeyValueDiffers=KeyValueDiffers},{"angular2/src/core/di":135,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],118:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),constants_1=require("./constants"),DirectiveIndex=function(){function DirectiveIndex(elementIndex,directiveIndex){this.elementIndex=elementIndex,this.directiveIndex=directiveIndex}return Object.defineProperty(DirectiveIndex.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex},enumerable:!0,configurable:!0}),DirectiveIndex}();exports.DirectiveIndex=DirectiveIndex;var DirectiveRecord=function(){function DirectiveRecord(_a){var _b=void 0===_a?{}:_a,directiveIndex=_b.directiveIndex,callAfterContentInit=_b.callAfterContentInit,callAfterContentChecked=_b.callAfterContentChecked,callAfterViewInit=_b.callAfterViewInit,callAfterViewChecked=_b.callAfterViewChecked,callOnChanges=_b.callOnChanges,callDoCheck=_b.callDoCheck,callOnInit=_b.callOnInit,callOnDestroy=_b.callOnDestroy,changeDetection=_b.changeDetection,outputs=_b.outputs;this.directiveIndex=directiveIndex,this.callAfterContentInit=lang_1.normalizeBool(callAfterContentInit),this.callAfterContentChecked=lang_1.normalizeBool(callAfterContentChecked),this.callOnChanges=lang_1.normalizeBool(callOnChanges),this.callAfterViewInit=lang_1.normalizeBool(callAfterViewInit),this.callAfterViewChecked=lang_1.normalizeBool(callAfterViewChecked),this.callDoCheck=lang_1.normalizeBool(callDoCheck),this.callOnInit=lang_1.normalizeBool(callOnInit),this.callOnDestroy=lang_1.normalizeBool(callOnDestroy),this.changeDetection=changeDetection,this.outputs=outputs}return DirectiveRecord.prototype.isDefaultChangeDetection=function(){return constants_1.isDefaultChangeDetectionStrategy(this.changeDetection)},DirectiveRecord}();exports.DirectiveRecord=DirectiveRecord},{"./constants":113,"angular2/src/facade/lang":195}],119:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),abstract_change_detector_1=require("./abstract_change_detector"),change_detection_util_1=require("./change_detection_util"),constants_1=require("./constants"),proto_record_1=require("./proto_record"),reflection_1=require("angular2/src/core/reflection/reflection"),async_1=require("angular2/src/facade/async"),DynamicChangeDetector=function(_super){
function DynamicChangeDetector(id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy,_records,_eventBindings,_directiveRecords,_genConfig){_super.call(this,id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy),this._records=_records,this._eventBindings=_eventBindings,this._directiveRecords=_directiveRecords,this._genConfig=_genConfig;var len=_records.length+1;this.values=collection_1.ListWrapper.createFixedSize(len),this.localPipes=collection_1.ListWrapper.createFixedSize(len),this.prevContexts=collection_1.ListWrapper.createFixedSize(len),this.changes=collection_1.ListWrapper.createFixedSize(len),this.dehydrateDirectives(!1)}return __extends(DynamicChangeDetector,_super),DynamicChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){var _this=this,preventDefault=!1;return this._matchingEventBindings(eventName,elIndex).forEach(function(rec){var res=_this._processEventBinding(rec,locals);res===!1&&(preventDefault=!0)}),preventDefault},DynamicChangeDetector.prototype._processEventBinding=function(eb,locals){var values=collection_1.ListWrapper.createFixedSize(eb.records.length);values[0]=this.values[0];for(var protoIdx=0;protoIdx<eb.records.length;++protoIdx){var proto=eb.records[protoIdx];if(proto.isSkipRecord())protoIdx+=this._computeSkipLength(protoIdx,proto,values);else{proto.lastInBinding&&this._markPathAsCheckOnce(proto);var res=this._calculateCurrValue(proto,values,locals);if(proto.lastInBinding)return res;this._writeSelf(proto,res,values)}}throw new exceptions_1.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._computeSkipLength=function(protoIndex,proto,values){if(proto.mode===proto_record_1.RecordType.SkipRecords)return proto.fixedArgs[0]-protoIndex-1;if(proto.mode===proto_record_1.RecordType.SkipRecordsIf){var condition=this._readContext(proto,values);return condition?proto.fixedArgs[0]-protoIndex-1:0}if(proto.mode===proto_record_1.RecordType.SkipRecordsIfNot){var condition=this._readContext(proto,values);return condition?0:proto.fixedArgs[0]-protoIndex-1}throw new exceptions_1.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._markPathAsCheckOnce=function(proto){if(!proto.bindingRecord.isDefaultChangeDetection()){var dir=proto.bindingRecord.directiveRecord;this._getDetectorFor(dir.directiveIndex).markPathToRootAsCheckOnce()}},DynamicChangeDetector.prototype._matchingEventBindings=function(eventName,elIndex){return this._eventBindings.filter(function(eb){return eb.eventName==eventName&&eb.elIndex===elIndex})},DynamicChangeDetector.prototype.hydrateDirectives=function(dispatcher){var _this=this;this.values[0]=this.context,this.dispatcher=dispatcher,this.outputSubscriptions=[];for(var i=0;i<this._directiveRecords.length;++i){var r=this._directiveRecords[i];lang_1.isPresent(r.outputs)&&r.outputs.forEach(function(output){var eventHandler=_this._createEventHandler(r.directiveIndex.elementIndex,output[1]),directive=_this._getDirectiveFor(r.directiveIndex),getter=reflection_1.reflector.getter(output[0]);_this.outputSubscriptions.push(async_1.ObservableWrapper.subscribe(getter(directive),eventHandler))})}},DynamicChangeDetector.prototype._createEventHandler=function(boundElementIndex,eventName){var _this=this;return function(event){return _this.handleEvent(eventName,boundElementIndex,event)}},DynamicChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){destroyPipes&&(this._destroyPipes(),this._destroyDirectives()),this.values[0]=null,collection_1.ListWrapper.fill(this.values,change_detection_util_1.ChangeDetectionUtil.uninitialized,1),collection_1.ListWrapper.fill(this.changes,!1),collection_1.ListWrapper.fill(this.localPipes,null),collection_1.ListWrapper.fill(this.prevContexts,change_detection_util_1.ChangeDetectionUtil.uninitialized)},DynamicChangeDetector.prototype._destroyPipes=function(){for(var i=0;i<this.localPipes.length;++i)lang_1.isPresent(this.localPipes[i])&&change_detection_util_1.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[i])},DynamicChangeDetector.prototype._destroyDirectives=function(){for(var i=0;i<this._directiveRecords.length;++i){var record=this._directiveRecords[i];record.callOnDestroy&&this._getDirectiveFor(record.directiveIndex).ngOnDestroy()}},DynamicChangeDetector.prototype.checkNoChanges=function(){this.runDetectChanges(!0)},DynamicChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){for(var protos=this._records,changes=null,isChanged=!1,protoIdx=0;protoIdx<protos.length;++protoIdx){var proto=protos[protoIdx],bindingRecord=proto.bindingRecord,directiveRecord=bindingRecord.directiveRecord;if(this._firstInBinding(proto)&&(this.propertyBindingIndex=proto.propertyBindingIndex),proto.isLifeCycleRecord())"DoCheck"!==proto.name||throwOnChange?"OnInit"!==proto.name||throwOnChange||this.state!=constants_1.ChangeDetectorState.NeverChecked?"OnChanges"===proto.name&&lang_1.isPresent(changes)&&!throwOnChange&&this._getDirectiveFor(directiveRecord.directiveIndex).ngOnChanges(changes):this._getDirectiveFor(directiveRecord.directiveIndex).ngOnInit():this._getDirectiveFor(directiveRecord.directiveIndex).ngDoCheck();else if(proto.isSkipRecord())protoIdx+=this._computeSkipLength(protoIdx,proto,this.values);else{var change=this._check(proto,throwOnChange,this.values,this.locals);lang_1.isPresent(change)&&(this._updateDirectiveOrElement(change,bindingRecord),isChanged=!0,changes=this._addChange(bindingRecord,change,changes))}proto.lastInDirective&&(changes=null,isChanged&&!bindingRecord.isDefaultChangeDetection()&&this._getDetectorFor(directiveRecord.directiveIndex).markAsCheckOnce(),isChanged=!1)}},DynamicChangeDetector.prototype._firstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this._records,r.selfIndex-1);return lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord},DynamicChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){for(var dirs=this._directiveRecords,i=dirs.length-1;i>=0;--i){var dir=dirs[i];dir.callAfterContentInit&&this.state==constants_1.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterContentInit(),dir.callAfterContentChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterContentChecked()}},DynamicChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){for(var dirs=this._directiveRecords,i=dirs.length-1;i>=0;--i){var dir=dirs[i];dir.callAfterViewInit&&this.state==constants_1.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterViewInit(),dir.callAfterViewChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterViewChecked()}},DynamicChangeDetector.prototype._updateDirectiveOrElement=function(change,bindingRecord){if(lang_1.isBlank(bindingRecord.directiveRecord))_super.prototype.notifyDispatcher.call(this,change.currentValue);else{var directiveIndex=bindingRecord.directiveRecord.directiveIndex;bindingRecord.setter(this._getDirectiveFor(directiveIndex),change.currentValue)}this._genConfig.logBindingUpdate&&_super.prototype.logBindingUpdate.call(this,change.currentValue)},DynamicChangeDetector.prototype._addChange=function(bindingRecord,change,changes){return bindingRecord.callOnChanges()?_super.prototype.addChange.call(this,changes,change.previousValue,change.currentValue):changes},DynamicChangeDetector.prototype._getDirectiveFor=function(directiveIndex){return this.dispatcher.getDirectiveFor(directiveIndex)},DynamicChangeDetector.prototype._getDetectorFor=function(directiveIndex){return this.dispatcher.getDetectorFor(directiveIndex)},DynamicChangeDetector.prototype._check=function(proto,throwOnChange,values,locals){return proto.isPipeRecord()?this._pipeCheck(proto,throwOnChange,values):this._referenceCheck(proto,throwOnChange,values,locals)},DynamicChangeDetector.prototype._referenceCheck=function(proto,throwOnChange,values,locals){if(this._pureFuncAndArgsDidNotChange(proto))return this._setChanged(proto,!1),null;var currValue=this._calculateCurrValue(proto,values,locals);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values),detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){if(proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);return throwOnChange&&this.throwOnChangeError(prevValue,currValue),this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),change}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null}return this._setChanged(proto,!1),null}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null},DynamicChangeDetector.prototype._calculateCurrValue=function(proto,values,locals){switch(proto.mode){case proto_record_1.RecordType.Self:return this._readContext(proto,values);case proto_record_1.RecordType.Const:return proto.funcOrValue;case proto_record_1.RecordType.PropertyRead:var context=this._readContext(proto,values);return proto.funcOrValue(context);case proto_record_1.RecordType.SafeProperty:var context=this._readContext(proto,values);return lang_1.isBlank(context)?null:proto.funcOrValue(context);case proto_record_1.RecordType.PropertyWrite:var context=this._readContext(proto,values),value=this._readArgs(proto,values)[0];return proto.funcOrValue(context,value),value;case proto_record_1.RecordType.KeyedWrite:var context=this._readContext(proto,values),key=this._readArgs(proto,values)[0],value=this._readArgs(proto,values)[1];return context[key]=value,value;case proto_record_1.RecordType.Local:return locals.get(proto.name);case proto_record_1.RecordType.InvokeMethod:var context=this._readContext(proto,values),args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.SafeMethodInvoke:var context=this._readContext(proto,values);if(lang_1.isBlank(context))return null;var args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.KeyedRead:var arg=this._readArgs(proto,values)[0];return this._readContext(proto,values)[arg];case proto_record_1.RecordType.Chain:var args=this._readArgs(proto,values);return args[args.length-1];case proto_record_1.RecordType.InvokeClosure:return lang_1.FunctionWrapper.apply(this._readContext(proto,values),this._readArgs(proto,values));case proto_record_1.RecordType.Interpolate:case proto_record_1.RecordType.PrimitiveOp:case proto_record_1.RecordType.CollectionLiteral:return lang_1.FunctionWrapper.apply(proto.funcOrValue,this._readArgs(proto,values));default:throw new exceptions_1.BaseException("Unknown operation "+proto.mode)}},DynamicChangeDetector.prototype._pipeCheck=function(proto,throwOnChange,values){var context=this._readContext(proto,values),selectedPipe=this._pipeFor(proto,context);if(!selectedPipe.pure||this._argsOrContextChanged(proto)){var args=this._readArgs(proto,values),currValue=selectedPipe.pipe.transform(context,args);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values),detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){if(currValue=change_detection_util_1.ChangeDetectionUtil.unwrapValue(currValue),proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);return throwOnChange&&this.throwOnChangeError(prevValue,currValue),this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),change}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null}return this._setChanged(proto,!1),null}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null}},DynamicChangeDetector.prototype._pipeFor=function(proto,context){var storedPipe=this._readPipe(proto);if(lang_1.isPresent(storedPipe))return storedPipe;var pipe=this.pipes.get(proto.name);return this._writePipe(proto,pipe),pipe},DynamicChangeDetector.prototype._readContext=function(proto,values){return-1==proto.contextIndex?this._getDirectiveFor(proto.directiveIndex):values[proto.contextIndex]},DynamicChangeDetector.prototype._readSelf=function(proto,values){return values[proto.selfIndex]},DynamicChangeDetector.prototype._writeSelf=function(proto,value,values){values[proto.selfIndex]=value},DynamicChangeDetector.prototype._readPipe=function(proto){return this.localPipes[proto.selfIndex]},DynamicChangeDetector.prototype._writePipe=function(proto,value){this.localPipes[proto.selfIndex]=value},DynamicChangeDetector.prototype._setChanged=function(proto,value){proto.argumentToPureFunction&&(this.changes[proto.selfIndex]=value)},DynamicChangeDetector.prototype._pureFuncAndArgsDidNotChange=function(proto){return proto.isPureFunction()&&!this._argsChanged(proto)},DynamicChangeDetector.prototype._argsChanged=function(proto){for(var args=proto.args,i=0;i<args.length;++i)if(this.changes[args[i]])return!0;return!1},DynamicChangeDetector.prototype._argsOrContextChanged=function(proto){return this._argsChanged(proto)||this.changes[proto.contextIndex]},DynamicChangeDetector.prototype._readArgs=function(proto,values){for(var res=collection_1.ListWrapper.createFixedSize(proto.args.length),args=proto.args,i=0;i<args.length;++i)res[i]=values[args[i]];return res},DynamicChangeDetector}(abstract_change_detector_1.AbstractChangeDetector);exports.DynamicChangeDetector=DynamicChangeDetector},{"./abstract_change_detector":103,"./change_detection_util":107,"./constants":113,"./proto_record":131,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],120:[function(require,module,exports){"use strict";var EventBinding=function(){function EventBinding(eventName,elIndex,dirIndex,records){this.eventName=eventName,this.elIndex=elIndex,this.dirIndex=dirIndex,this.records=records}return EventBinding}();exports.EventBinding=EventBinding},{}],121:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("angular2/src/facade/exceptions"),ExpressionChangedAfterItHasBeenCheckedException=function(_super){function ExpressionChangedAfterItHasBeenCheckedException(exp,oldValue,currValue,context){_super.call(this,"Expression '"+exp+"' has changed after it was checked. "+("Previous value: '"+oldValue+"'. Current value: '"+currValue+"'"))}return __extends(ExpressionChangedAfterItHasBeenCheckedException,_super),ExpressionChangedAfterItHasBeenCheckedException}(exceptions_1.BaseException);exports.ExpressionChangedAfterItHasBeenCheckedException=ExpressionChangedAfterItHasBeenCheckedException;var ChangeDetectionError=function(_super){function ChangeDetectionError(exp,originalException,originalStack,context){_super.call(this,originalException+" in ["+exp+"]",originalException,originalStack,context),this.location=exp}return __extends(ChangeDetectionError,_super),ChangeDetectionError}(exceptions_1.WrappedException);exports.ChangeDetectionError=ChangeDetectionError;var DehydratedException=function(_super){function DehydratedException(details){_super.call(this,"Attempt to use a dehydrated detector: "+details)}return __extends(DehydratedException,_super),DehydratedException}(exceptions_1.BaseException);exports.DehydratedException=DehydratedException;var EventEvaluationError=function(_super){function EventEvaluationError(eventName,originalException,originalStack,context){_super.call(this,'Error during evaluation of "'+eventName+'"',originalException,originalStack,context)}return __extends(EventEvaluationError,_super),EventEvaluationError}(exceptions_1.WrappedException);exports.EventEvaluationError=EventEvaluationError;var EventEvaluationErrorContext=function(){function EventEvaluationErrorContext(element,componentElement,context,locals,injector){this.element=element,this.componentElement=componentElement,this.context=context,this.locals=locals,this.injector=injector}return EventEvaluationErrorContext}();exports.EventEvaluationErrorContext=EventEvaluationErrorContext},{"angular2/src/facade/exceptions":192}],122:[function(require,module,exports){"use strict";var DebugContext=function(){function DebugContext(element,componentElement,directive,context,locals,injector){this.element=element,this.componentElement=componentElement,this.directive=directive,this.context=context,this.locals=locals,this.injector=injector}return DebugContext}();exports.DebugContext=DebugContext;var ChangeDetectorGenConfig=function(){function ChangeDetectorGenConfig(genDebugInfo,logBindingUpdate,useJit){this.genDebugInfo=genDebugInfo,this.logBindingUpdate=logBindingUpdate,this.useJit=useJit}return ChangeDetectorGenConfig}();exports.ChangeDetectorGenConfig=ChangeDetectorGenConfig;var ChangeDetectorDefinition=function(){function ChangeDetectorDefinition(id,strategy,variableNames,bindingRecords,eventRecords,directiveRecords,genConfig){this.id=id,this.strategy=strategy,this.variableNames=variableNames,this.bindingRecords=bindingRecords,this.eventRecords=eventRecords,this.directiveRecords=directiveRecords,this.genConfig=genConfig}return ChangeDetectorDefinition}();exports.ChangeDetectorDefinition=ChangeDetectorDefinition},{}],123:[function(require,module,exports){"use strict";var change_detection_jit_generator_1=require("./change_detection_jit_generator"),JitProtoChangeDetector=function(){function JitProtoChangeDetector(definition){this.definition=definition,this._factory=this._createFactory(definition)}return JitProtoChangeDetector.isSupported=function(){return!0},JitProtoChangeDetector.prototype.instantiate=function(){return this._factory()},JitProtoChangeDetector.prototype._createFactory=function(definition){return new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,"util","AbstractChangeDetector","ChangeDetectorStatus").generate()},JitProtoChangeDetector}();exports.JitProtoChangeDetector=JitProtoChangeDetector},{"./change_detection_jit_generator":106}],124:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),AST=function(){function AST(){}return AST.prototype.visit=function(visitor){return null},AST.prototype.toString=function(){return"AST"},AST}();exports.AST=AST;var Quote=function(_super){function Quote(prefix,uninterpretedExpression,location){_super.call(this),this.prefix=prefix,this.uninterpretedExpression=uninterpretedExpression,this.location=location}return __extends(Quote,_super),Quote.prototype.visit=function(visitor){return visitor.visitQuote(this)},Quote.prototype.toString=function(){return"Quote"},Quote}(AST);exports.Quote=Quote;var EmptyExpr=function(_super){function EmptyExpr(){_super.apply(this,arguments)}return __extends(EmptyExpr,_super),EmptyExpr.prototype.visit=function(visitor){},EmptyExpr}(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=function(_super){function ImplicitReceiver(){_super.apply(this,arguments)}return __extends(ImplicitReceiver,_super),ImplicitReceiver.prototype.visit=function(visitor){return visitor.visitImplicitReceiver(this)},ImplicitReceiver}(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=function(_super){function Chain(expressions){_super.call(this),this.expressions=expressions}return __extends(Chain,_super),Chain.prototype.visit=function(visitor){return visitor.visitChain(this)},Chain}(AST);exports.Chain=Chain;var Conditional=function(_super){function Conditional(condition,trueExp,falseExp){_super.call(this),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}return __extends(Conditional,_super),Conditional.prototype.visit=function(visitor){return visitor.visitConditional(this)},Conditional}(AST);exports.Conditional=Conditional;var PropertyRead=function(_super){function PropertyRead(receiver,name,getter){_super.call(this),this.receiver=receiver,this.name=name,this.getter=getter}return __extends(PropertyRead,_super),PropertyRead.prototype.visit=function(visitor){return visitor.visitPropertyRead(this)},PropertyRead}(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=function(_super){function PropertyWrite(receiver,name,setter,value){_super.call(this),this.receiver=receiver,this.name=name,this.setter=setter,this.value=value}return __extends(PropertyWrite,_super),PropertyWrite.prototype.visit=function(visitor){return visitor.visitPropertyWrite(this)},PropertyWrite}(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=function(_super){function SafePropertyRead(receiver,name,getter){_super.call(this),this.receiver=receiver,this.name=name,this.getter=getter}return __extends(SafePropertyRead,_super),SafePropertyRead.prototype.visit=function(visitor){return visitor.visitSafePropertyRead(this)},SafePropertyRead}(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=function(_super){function KeyedRead(obj,key){_super.call(this),this.obj=obj,this.key=key}return __extends(KeyedRead,_super),KeyedRead.prototype.visit=function(visitor){return visitor.visitKeyedRead(this)},KeyedRead}(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=function(_super){function KeyedWrite(obj,key,value){_super.call(this),this.obj=obj,this.key=key,this.value=value}return __extends(KeyedWrite,_super),KeyedWrite.prototype.visit=function(visitor){return visitor.visitKeyedWrite(this)},KeyedWrite}(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=function(_super){function BindingPipe(exp,name,args){_super.call(this),this.exp=exp,this.name=name,this.args=args}return __extends(BindingPipe,_super),BindingPipe.prototype.visit=function(visitor){return visitor.visitPipe(this)},BindingPipe}(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=function(_super){function LiteralPrimitive(value){_super.call(this),this.value=value}return __extends(LiteralPrimitive,_super),LiteralPrimitive.prototype.visit=function(visitor){return visitor.visitLiteralPrimitive(this)},LiteralPrimitive}(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=function(_super){function LiteralArray(expressions){_super.call(this),this.expressions=expressions}return __extends(LiteralArray,_super),LiteralArray.prototype.visit=function(visitor){return visitor.visitLiteralArray(this)},LiteralArray}(AST);exports.LiteralArray=LiteralArray;var LiteralMap=function(_super){function LiteralMap(keys,values){_super.call(this),this.keys=keys,this.values=values}return __extends(LiteralMap,_super),LiteralMap.prototype.visit=function(visitor){return visitor.visitLiteralMap(this)},LiteralMap}(AST);exports.LiteralMap=LiteralMap;var Interpolation=function(_super){function Interpolation(strings,expressions){_super.call(this),this.strings=strings,this.expressions=expressions}return __extends(Interpolation,_super),Interpolation.prototype.visit=function(visitor){return visitor.visitInterpolation(this)},Interpolation}(AST);exports.Interpolation=Interpolation;var Binary=function(_super){function Binary(operation,left,right){_super.call(this),this.operation=operation,this.left=left,this.right=right}return __extends(Binary,_super),Binary.prototype.visit=function(visitor){return visitor.visitBinary(this)},Binary}(AST);exports.Binary=Binary;var PrefixNot=function(_super){function PrefixNot(expression){_super.call(this),this.expression=expression}return __extends(PrefixNot,_super),PrefixNot.prototype.visit=function(visitor){return visitor.visitPrefixNot(this)},PrefixNot}(AST);exports.PrefixNot=PrefixNot;var MethodCall=function(_super){function MethodCall(receiver,name,fn,args){_super.call(this),this.receiver=receiver,this.name=name,this.fn=fn,this.args=args}return __extends(MethodCall,_super),MethodCall.prototype.visit=function(visitor){return visitor.visitMethodCall(this)},MethodCall}(AST);exports.MethodCall=MethodCall;var SafeMethodCall=function(_super){function SafeMethodCall(receiver,name,fn,args){_super.call(this),this.receiver=receiver,this.name=name,this.fn=fn,this.args=args}return __extends(SafeMethodCall,_super),SafeMethodCall.prototype.visit=function(visitor){return visitor.visitSafeMethodCall(this)},SafeMethodCall}(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=function(_super){function FunctionCall(target,args){_super.call(this),this.target=target,this.args=args}return __extends(FunctionCall,_super),FunctionCall.prototype.visit=function(visitor){return visitor.visitFunctionCall(this)},FunctionCall}(AST);exports.FunctionCall=FunctionCall;var ASTWithSource=function(_super){function ASTWithSource(ast,source,location){_super.call(this),this.ast=ast,this.source=source,this.location=location}return __extends(ASTWithSource,_super),ASTWithSource.prototype.visit=function(visitor){return this.ast.visit(visitor)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=function(){function TemplateBinding(key,keyIsVar,name,expression){this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.expression=expression}return TemplateBinding}();exports.TemplateBinding=TemplateBinding;var RecursiveAstVisitor=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(ast){return ast.left.visit(this),ast.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(ast){return this.visitAll(ast.expressions)},RecursiveAstVisitor.prototype.visitConditional=function(ast){return ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(ast){return ast.exp.visit(this),this.visitAll(ast.args),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(ast){return ast.target.visit(this),this.visitAll(ast.args),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(ast){return this.visitAll(ast.expressions)},RecursiveAstVisitor.prototype.visitKeyedRead=function(ast){return ast.obj.visit(this),ast.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast){return ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(ast){return this.visitAll(ast.expressions)},RecursiveAstVisitor.prototype.visitLiteralMap=function(ast){return this.visitAll(ast.values)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(ast){return ast.receiver.visit(this),this.visitAll(ast.args)},RecursiveAstVisitor.prototype.visitPrefixNot=function(ast){return ast.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(ast){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast){return ast.receiver.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast){return ast.receiver.visit(this),this.visitAll(ast.args)},RecursiveAstVisitor.prototype.visitAll=function(asts){var _this=this;return asts.forEach(function(ast){return ast.visit(_this)}),null},RecursiveAstVisitor.prototype.visitQuote=function(ast){return null},RecursiveAstVisitor}();exports.RecursiveAstVisitor=RecursiveAstVisitor;var AstTransformer=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(ast){return ast},AstTransformer.prototype.visitInterpolation=function(ast){return new Interpolation(ast.strings,this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(ast){return new LiteralPrimitive(ast.value)},AstTransformer.prototype.visitPropertyRead=function(ast){return new PropertyRead(ast.receiver.visit(this),ast.name,ast.getter)},AstTransformer.prototype.visitPropertyWrite=function(ast){return new PropertyWrite(ast.receiver.visit(this),ast.name,ast.setter,ast.value)},AstTransformer.prototype.visitSafePropertyRead=function(ast){return new SafePropertyRead(ast.receiver.visit(this),ast.name,ast.getter)},AstTransformer.prototype.visitMethodCall=function(ast){return new MethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args))},AstTransformer.prototype.visitSafeMethodCall=function(ast){return new SafeMethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args))},AstTransformer.prototype.visitFunctionCall=function(ast){return new FunctionCall(ast.target.visit(this),this.visitAll(ast.args))},AstTransformer.prototype.visitLiteralArray=function(ast){return new LiteralArray(this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralMap=function(ast){return new LiteralMap(ast.keys,this.visitAll(ast.values))},AstTransformer.prototype.visitBinary=function(ast){return new Binary(ast.operation,ast.left.visit(this),ast.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(ast){return new PrefixNot(ast.expression.visit(this))},AstTransformer.prototype.visitConditional=function(ast){return new Conditional(ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(ast){return new BindingPipe(ast.exp.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitKeyedRead=function(ast){return new KeyedRead(ast.obj.visit(this),ast.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(ast){return new KeyedWrite(ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))},AstTransformer.prototype.visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},AstTransformer.prototype.visitChain=function(ast){return new Chain(this.visitAll(ast.expressions))},AstTransformer.prototype.visitQuote=function(ast){return new Quote(ast.prefix,ast.uninterpretedExpression,ast.location)},AstTransformer}();exports.AstTransformer=AstTransformer},{"angular2/src/facade/collection":190}],125:[function(require,module,exports){"use strict";function newCharacterToken(index,code){return new Token(index,TokenType.Character,code,lang_1.StringWrapper.fromCharCode(code))}function newIdentifierToken(index,text){return new Token(index,TokenType.Identifier,0,text)}function newKeywordToken(index,text){return new Token(index,TokenType.Keyword,0,text)}function newOperatorToken(index,text){return new Token(index,TokenType.Operator,0,text)}function newStringToken(index,text){return new Token(index,TokenType.String,0,text)}function newNumberToken(index,n){return new Token(index,TokenType.Number,n,"")}function isWhitespace(code){return code>=exports.$TAB&&code<=exports.$SPACE||code==$NBSP}function isIdentifierStart(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code||code==$_||code==exports.$$}function isIdentifier(input){if(0==input.length)return!1;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();scanner.peek!==exports.$EOF;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}function isIdentifierPart(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code||code>=$0&&$9>=code||code==$_||code==exports.$$}function isDigit(code){return code>=$0&&$9>=code}function isExponentStart(code){return code==$e||code==$E}function isExponentSign(code){return code==exports.$MINUS||code==exports.$PLUS}function unescape(code){switch(code){case $n:return exports.$LF;
case $f:return exports.$FF;case $r:return exports.$CR;case $t:return exports.$TAB;case $v:return exports.$VTAB;default:return code}}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},decorators_1=require("angular2/src/core/di/decorators"),collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions");!function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number"}(exports.TokenType||(exports.TokenType={}));var TokenType=exports.TokenType,Lexer=function(){function Lexer(){}return Lexer.prototype.tokenize=function(text){for(var scanner=new _Scanner(text),tokens=[],token=scanner.scanToken();null!=token;)tokens.push(token),token=scanner.scanToken();return tokens},Lexer=__decorate([decorators_1.Injectable(),__metadata("design:paramtypes",[])],Lexer)}();exports.Lexer=Lexer;var Token=function(){function Token(index,type,numValue,strValue){this.index=index,this.type=type,this.numValue=numValue,this.strValue=strValue}return Token.prototype.isCharacter=function(code){return this.type==TokenType.Character&&this.numValue==code},Token.prototype.isNumber=function(){return this.type==TokenType.Number},Token.prototype.isString=function(){return this.type==TokenType.String},Token.prototype.isOperator=function(operater){return this.type==TokenType.Operator&&this.strValue==operater},Token.prototype.isIdentifier=function(){return this.type==TokenType.Identifier},Token.prototype.isKeyword=function(){return this.type==TokenType.Keyword},Token.prototype.isKeywordVar=function(){return this.type==TokenType.Keyword&&"var"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==TokenType.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==TokenType.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==TokenType.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==TokenType.Keyword&&"false"==this.strValue},Token.prototype.toNumber=function(){return this.type==TokenType.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}},Token}();exports.Token=Token,exports.EOF=new Token(-1,TokenType.Character,0,""),exports.$EOF=0,exports.$TAB=9,exports.$LF=10,exports.$VTAB=11,exports.$FF=12,exports.$CR=13,exports.$SPACE=32,exports.$BANG=33,exports.$DQ=34,exports.$HASH=35,exports.$$=36,exports.$PERCENT=37,exports.$AMPERSAND=38,exports.$SQ=39,exports.$LPAREN=40,exports.$RPAREN=41,exports.$STAR=42,exports.$PLUS=43,exports.$COMMA=44,exports.$MINUS=45,exports.$PERIOD=46,exports.$SLASH=47,exports.$COLON=58,exports.$SEMICOLON=59,exports.$LT=60,exports.$EQ=61,exports.$GT=62,exports.$QUESTION=63;var $0=48,$9=57,$A=65,$E=69,$Z=90;exports.$LBRACKET=91,exports.$BACKSLASH=92,exports.$RBRACKET=93;var $CARET=94,$_=95,$a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$z=122;exports.$LBRACE=123,exports.$BAR=124,exports.$RBRACE=125;var $NBSP=160,ScannerError=function(_super){function ScannerError(message){_super.call(this),this.message=message}return __extends(ScannerError,_super),ScannerError.prototype.toString=function(){return this.message},ScannerError}(exceptions_1.BaseException);exports.ScannerError=ScannerError;var _Scanner=function(){function _Scanner(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?exports.$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)},_Scanner.prototype.scanToken=function(){for(var input=this.input,length=this.length,peek=this.peek,index=this.index;peek<=exports.$SPACE;){if(++index>=length){peek=exports.$EOF;break}peek=lang_1.StringWrapper.charCodeAt(input,index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);var start=index;switch(peek){case exports.$PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,exports.$PERIOD);case exports.$LPAREN:case exports.$RPAREN:case exports.$LBRACE:case exports.$RBRACE:case exports.$LBRACKET:case exports.$RBRACKET:case exports.$COMMA:case exports.$COLON:case exports.$SEMICOLON:return this.scanCharacter(start,peek);case exports.$SQ:case exports.$DQ:return this.scanString();case exports.$HASH:case exports.$PLUS:case exports.$MINUS:case exports.$STAR:case exports.$SLASH:case exports.$PERCENT:case $CARET:return this.scanOperator(start,lang_1.StringWrapper.fromCharCode(peek));case exports.$QUESTION:return this.scanComplexOperator(start,"?",exports.$PERIOD,".");case exports.$LT:case exports.$GT:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,"=");case exports.$BANG:case exports.$EQ:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,"=",exports.$EQ,"=");case exports.$AMPERSAND:return this.scanComplexOperator(start,"&",exports.$AMPERSAND,"&");case exports.$BAR:return this.scanComplexOperator(start,"|",exports.$BAR,"|");case $NBSP:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+lang_1.StringWrapper.fromCharCode(peek)+"]",0),null},_Scanner.prototype.scanCharacter=function(start,code){return this.advance(),newCharacterToken(start,code)},_Scanner.prototype.scanOperator=function(start,str){return this.advance(),newOperatorToken(start,str)},_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){this.advance();var str=one;return this.peek==twoCode&&(this.advance(),str+=two),lang_1.isPresent(threeCode)&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,str)},_Scanner.prototype.scanIdentifier=function(){var start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var str=this.input.substring(start,this.index);return collection_1.SetWrapper.has(KEYWORDS,str)?newKeywordToken(start,str):newIdentifierToken(start,str)},_Scanner.prototype.scanNumber=function(start){var simple=this.index===start;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==exports.$PERIOD)simple=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),isDigit(this.peek)||this.error("Invalid exponent",-1),simple=!1}this.advance()}var str=this.input.substring(start,this.index),value=simple?lang_1.NumberWrapper.parseIntAutoRadix(str):lang_1.NumberWrapper.parseFloat(str);return newNumberToken(start,value)},_Scanner.prototype.scanString=function(){var start=this.index,quote=this.peek;this.advance();for(var buffer,marker=this.index,input=this.input;this.peek!=quote;)if(this.peek==exports.$BACKSLASH){null==buffer&&(buffer=new lang_1.StringJoiner),buffer.add(input.substring(marker,this.index)),this.advance();var unescapedCode;if(this.peek==$u){var hex=input.substring(this.index+1,this.index+5);try{unescapedCode=lang_1.NumberWrapper.parseInt(hex,16)}catch(e){this.error("Invalid unicode escape [\\u"+hex+"]",0)}for(var i=0;5>i;i++)this.advance()}else unescapedCode=unescape(this.peek),this.advance();buffer.add(lang_1.StringWrapper.fromCharCode(unescapedCode)),marker=this.index}else this.peek==exports.$EOF?this.error("Unterminated quote",0):this.advance();var last=input.substring(marker,this.index);this.advance();var unescaped=last;return null!=buffer&&(buffer.add(last),unescaped=buffer.toString()),newStringToken(start,unescaped)},_Scanner.prototype.error=function(message,offset){var position=this.index+offset;throw new ScannerError("Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]")},_Scanner}();exports.isIdentifier=isIdentifier;var KEYWORDS=(collection_1.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]),collection_1.SetWrapper.createFromList(["var","null","undefined","true","false","if","else"]))},{"angular2/src/core/di/decorators":136,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],126:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),Locals=function(){function Locals(parent,current){this.parent=parent,this.current=current}return Locals.prototype.contains=function(name){return this.current.has(name)?!0:lang_1.isPresent(this.parent)?this.parent.contains(name):!1},Locals.prototype.get=function(name){if(this.current.has(name))return this.current.get(name);if(lang_1.isPresent(this.parent))return this.parent.get(name);throw new exceptions_1.BaseException("Cannot find '"+name+"'")},Locals.prototype.set=function(name,value){if(!this.current.has(name))throw new exceptions_1.BaseException("Setting of new keys post-construction is not supported. Key: "+name+".");this.current.set(name,value)},Locals.prototype.clearLocalValues=function(){collection_1.MapWrapper.clearValues(this.current)},Locals}();exports.Locals=Locals},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],127:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},decorators_1=require("angular2/src/core/di/decorators"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),lexer_1=require("./lexer"),reflection_1=require("angular2/src/core/reflection/reflection"),ast_1=require("./ast"),_implicitReceiver=new ast_1.ImplicitReceiver,INTERPOLATION_REGEXP=/\{\{([\s\S]*?)\}\}/g,ParseException=function(_super){function ParseException(message,input,errLocation,ctxLocation){_super.call(this,"Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation)}return __extends(ParseException,_super),ParseException}(exceptions_1.BaseException),SplitInterpolation=function(){function SplitInterpolation(strings,expressions){this.strings=strings,this.expressions=expressions}return SplitInterpolation}();exports.SplitInterpolation=SplitInterpolation;var Parser=function(){function Parser(_lexer,providedReflector){void 0===providedReflector&&(providedReflector=null),this._lexer=_lexer,this._reflector=lang_1.isPresent(providedReflector)?providedReflector:reflection_1.reflector}return Parser.prototype.parseAction=function(input,location){this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input),ast=new _ParseAST(input,location,tokens,this._reflector,!0).parseChain();return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype.parseBinding=function(input,location){var ast=this._parseBindingAst(input,location);return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype.parseSimpleBinding=function(input,location){var ast=this._parseBindingAst(input,location);if(!SimpleExpressionChecker.check(ast))throw new ParseException("Host binding expression can only contain field access and constants",input,location);return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype._parseBindingAst=function(input,location){var quote=this._parseQuote(input,location);if(lang_1.isPresent(quote))return quote;this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,!1).parseChain()},Parser.prototype._parseQuote=function(input,location){if(lang_1.isBlank(input))return null;var prefixSeparatorIndex=input.indexOf(":");if(-1==prefixSeparatorIndex)return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!lexer_1.isIdentifier(prefix))return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new ast_1.Quote(prefix,uninterpretedExpression,location)},Parser.prototype.parseTemplateBindings=function(input,location){var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,!1).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(input,location){var split=this.splitInterpolation(input,location);if(null==split)return null;for(var expressions=[],i=0;i<split.expressions.length;++i){var tokens=this._lexer.tokenize(split.expressions[i]),ast=new _ParseAST(input,location,tokens,this._reflector,!1).parseChain();expressions.push(ast)}return new ast_1.ASTWithSource(new ast_1.Interpolation(split.strings,expressions),input,location)},Parser.prototype.splitInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length<=1)return null;for(var strings=[],expressions=[],i=0;i<parts.length;i++){var part=parts[i];if(i%2===0)strings.push(part);else{if(!(part.trim().length>0))throw new ParseException("Blank expressions are not allowed in interpolated strings",input,"at column "+this._findInterpolationErrorColumn(parts,i)+" in",location);expressions.push(part)}}return new SplitInterpolation(strings,expressions)},Parser.prototype.wrapLiteralPrimitive=function(input,location){return new ast_1.ASTWithSource(new ast_1.LiteralPrimitive(input),input,location)},Parser.prototype._checkNoInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length>1)throw new ParseException("Got interpolation ({{}}) where expression was expected",input,"at column "+this._findInterpolationErrorColumn(parts,1)+" in",location)},Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx){for(var errLocation="",j=0;partInErrIdx>j;j++)errLocation+=j%2===0?parts[j]:"{{"+parts[j]+"}}";return errLocation.length},Parser=__decorate([decorators_1.Injectable(),__metadata("design:paramtypes",[lexer_1.Lexer,reflection_1.Reflector])],Parser)}();exports.Parser=Parser;var _ParseAST=function(){function _ParseAST(input,location,tokens,reflector,parseAction){this.input=input,this.location=location,this.tokens=tokens,this.reflector=reflector,this.parseAction=parseAction,this.index=0}return _ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:lexer_1.EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(code){return this.next.isCharacter(code)?(this.advance(),!0):!1},_ParseAST.prototype.optionalKeywordVar=function(){return this.peekKeywordVar()?(this.advance(),!0):!1},_ParseAST.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator("#")},_ParseAST.prototype.expectCharacter=function(code){this.optionalCharacter(code)||this.error("Missing expected "+lang_1.StringWrapper.fromCharCode(code))},_ParseAST.prototype.optionalOperator=function(op){return this.next.isOperator(op)?(this.advance(),!0):!1},_ParseAST.prototype.expectOperator=function(operator){this.optionalOperator(operator)||this.error("Missing expected operator "+operator)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||this.error("Unexpected token "+n+", expected identifier or keyword"),this.advance(),n.toString()},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()||this.error("Unexpected token "+n+", expected identifier, keyword, or string"),this.advance(),n.toString()},_ParseAST.prototype.parseChain=function(){for(var exprs=[];this.index<this.tokens.length;){var expr=this.parsePipe();if(exprs.push(expr),this.optionalCharacter(lexer_1.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(lexer_1.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==exprs.length?new ast_1.EmptyExpr:1==exprs.length?exprs[0]:new ast_1.Chain(exprs)},_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var name=this.expectIdentifierOrKeyword(),args=[];this.optionalCharacter(lexer_1.$COLON);)args.push(this.parseExpression());result=new ast_1.BindingPipe(result,name,args)}while(this.optionalOperator("|"))}return result},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex,result=this.parseLogicalOr();if(this.optionalOperator("?")){var yes=this.parsePipe();if(!this.optionalCharacter(lexer_1.$COLON)){var end=this.inputIndex,expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions")}var no=this.parsePipe();return new ast_1.Conditional(result,yes,no)}return result},_ParseAST.prototype.parseLogicalOr=function(){for(var result=this.parseLogicalAnd();this.optionalOperator("||");)result=new ast_1.Binary("||",result,this.parseLogicalAnd());return result},_ParseAST.prototype.parseLogicalAnd=function(){for(var result=this.parseEquality();this.optionalOperator("&&");)result=new ast_1.Binary("&&",result,this.parseEquality());return result},_ParseAST.prototype.parseEquality=function(){for(var result=this.parseRelational();;)if(this.optionalOperator("=="))result=new ast_1.Binary("==",result,this.parseRelational());else if(this.optionalOperator("==="))result=new ast_1.Binary("===",result,this.parseRelational());else if(this.optionalOperator("!="))result=new ast_1.Binary("!=",result,this.parseRelational());else{if(!this.optionalOperator("!=="))return result;result=new ast_1.Binary("!==",result,this.parseRelational())}},_ParseAST.prototype.parseRelational=function(){for(var result=this.parseAdditive();;)if(this.optionalOperator("<"))result=new ast_1.Binary("<",result,this.parseAdditive());else if(this.optionalOperator(">"))result=new ast_1.Binary(">",result,this.parseAdditive());else if(this.optionalOperator("<="))result=new ast_1.Binary("<=",result,this.parseAdditive());else{if(!this.optionalOperator(">="))return result;result=new ast_1.Binary(">=",result,this.parseAdditive())}},_ParseAST.prototype.parseAdditive=function(){for(var result=this.parseMultiplicative();;)if(this.optionalOperator("+"))result=new ast_1.Binary("+",result,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return result;result=new ast_1.Binary("-",result,this.parseMultiplicative())}},_ParseAST.prototype.parseMultiplicative=function(){for(var result=this.parsePrefix();;)if(this.optionalOperator("*"))result=new ast_1.Binary("*",result,this.parsePrefix());else if(this.optionalOperator("%"))result=new ast_1.Binary("%",result,this.parsePrefix());else{if(!this.optionalOperator("/"))return result;result=new ast_1.Binary("/",result,this.parsePrefix())}},_ParseAST.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new ast_1.Binary("-",new ast_1.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new ast_1.PrefixNot(this.parsePrefix()):this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var result=this.parsePrimary();;)if(this.optionalCharacter(lexer_1.$PERIOD))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.optionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.optionalCharacter(lexer_1.$LBRACKET)){var key=this.parsePipe();if(this.expectCharacter(lexer_1.$RBRACKET),this.optionalOperator("=")){var value=this.parseConditional();result=new ast_1.KeyedWrite(result,key,value)}else result=new ast_1.KeyedRead(result,key)}else{if(!this.optionalCharacter(lexer_1.$LPAREN))return result;var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN),result=new ast_1.FunctionCall(result,args)}},_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(lexer_1.$LPAREN)){var result=this.parsePipe();return this.expectCharacter(lexer_1.$RPAREN),result}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new ast_1.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new ast_1.LiteralPrimitive(!0);if(this.next.isKeywordFalse())return this.advance(),new ast_1.LiteralPrimitive(!1);if(this.optionalCharacter(lexer_1.$LBRACKET)){var elements=this.parseExpressionList(lexer_1.$RBRACKET);return this.expectCharacter(lexer_1.$RBRACKET),new ast_1.LiteralArray(elements)}if(this.next.isCharacter(lexer_1.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(_implicitReceiver,!1);if(this.next.isNumber()){var value=this.next.toNumber();return this.advance(),new ast_1.LiteralPrimitive(value)}if(this.next.isString()){var literalValue=this.next.toString();return this.advance(),new ast_1.LiteralPrimitive(literalValue)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new exceptions_1.BaseException("Fell through all cases in parsePrimary")},_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator))do result.push(this.parsePipe());while(this.optionalCharacter(lexer_1.$COMMA));return result},_ParseAST.prototype.parseLiteralMap=function(){var keys=[],values=[];if(this.expectCharacter(lexer_1.$LBRACE),!this.optionalCharacter(lexer_1.$RBRACE)){do{var key=this.expectIdentifierOrKeywordOrString();keys.push(key),this.expectCharacter(lexer_1.$COLON),values.push(this.parsePipe())}while(this.optionalCharacter(lexer_1.$COMMA));this.expectCharacter(lexer_1.$RBRACE)}return new ast_1.LiteralMap(keys,values)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){void 0===isSafe&&(isSafe=!1);var id=this.expectIdentifierOrKeyword();if(this.optionalCharacter(lexer_1.$LPAREN)){var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN);var fn=this.reflector.method(id);return isSafe?new ast_1.SafeMethodCall(receiver,id,fn,args):new ast_1.MethodCall(receiver,id,fn,args)}if(!isSafe){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var value=this.parseConditional();return new ast_1.PropertyWrite(receiver,id,this.reflector.setter(id),value)}return new ast_1.PropertyRead(receiver,id,this.reflector.getter(id))}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new ast_1.SafePropertyRead(receiver,id,this.reflector.getter(id))},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(lexer_1.$RPAREN))return[];var positionals=[];do positionals.push(this.parsePipe());while(this.optionalCharacter(lexer_1.$COMMA));return positionals},_ParseAST.prototype.parseBlockContent=function(){this.parseAction||this.error("Binding expression cannot contain chained expression");for(var exprs=[];this.index<this.tokens.length&&!this.next.isCharacter(lexer_1.$RBRACE);){var expr=this.parseExpression();if(exprs.push(expr),this.optionalCharacter(lexer_1.$SEMICOLON))for(;this.optionalCharacter(lexer_1.$SEMICOLON););}return 0==exprs.length?new ast_1.EmptyExpr:1==exprs.length?exprs[0]:new ast_1.Chain(exprs)},_ParseAST.prototype.expectTemplateBindingKey=function(){var result="",operatorFound=!1;do result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.optionalOperator("-"),operatorFound&&(result+="-");while(operatorFound);return result.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var bindings=[],prefix=null;this.index<this.tokens.length;){var keyIsVar=this.optionalKeywordVar(),key=this.expectTemplateBindingKey();keyIsVar||(null==prefix?prefix=key:key=prefix+key[0].toUpperCase()+key.substring(1)),this.optionalCharacter(lexer_1.$COLON);var name=null,expression=null;if(keyIsVar)name=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==lexer_1.EOF&&!this.peekKeywordVar()){var start=this.inputIndex,ast=this.parsePipe(),source=this.input.substring(start,this.inputIndex);expression=new ast_1.ASTWithSource(ast,source,this.location)}bindings.push(new ast_1.TemplateBinding(key,keyIsVar,name,expression)),this.optionalCharacter(lexer_1.$SEMICOLON)||this.optionalCharacter(lexer_1.$COMMA)}return bindings},_ParseAST.prototype.error=function(message,index){void 0===index&&(index=null),lang_1.isBlank(index)&&(index=this.index);var location=index<this.tokens.length?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression";throw new ParseException(message,this.input,location,this.location)},_ParseAST}();exports._ParseAST=_ParseAST;var SimpleExpressionChecker=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker;return ast.visit(s),s.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast){},SimpleExpressionChecker.prototype.visitInterpolation=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast){},SimpleExpressionChecker.prototype.visitPropertyRead=function(ast){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(ast){this.visitAll(ast.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(ast){this.visitAll(ast.values)},SimpleExpressionChecker.prototype.visitBinary=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},SimpleExpressionChecker.prototype.visitChain=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(ast){this.simple=!1},SimpleExpressionChecker}()},{"./ast":124,"./lexer":125,"angular2/src/core/di/decorators":136,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],128:[function(require,module,exports){"use strict";function implementsOnDestroy(pipe){return pipe.constructor.prototype.ngOnDestroy}exports.implementsOnDestroy=implementsOnDestroy},{}],129:[function(require,module,exports){"use strict";var SelectedPipe=function(){function SelectedPipe(pipe,pure){this.pipe=pipe,this.pure=pure}return SelectedPipe}();exports.SelectedPipe=SelectedPipe},{}],130:[function(require,module,exports){"use strict";function createPropertyRecords(definition){var recordBuilder=new ProtoRecordBuilder;return collection_1.ListWrapper.forEachWithIndex(definition.bindingRecords,function(b,index){return recordBuilder.add(b,definition.variableNames,index)}),coalesce_1.coalesce(recordBuilder.records)}function createEventRecords(definition){var varNames=collection_1.ListWrapper.concat(["$event"],definition.variableNames);return definition.eventRecords.map(function(er){var records=_ConvertAstIntoProtoRecords.create(er,varNames),dirIndex=er.implicitReceiver instanceof directive_record_1.DirectiveIndex?er.implicitReceiver:null;return new event_binding_1.EventBinding(er.target.name,er.target.elementIndex,dirIndex,records)})}function _arrayFn(length){switch(length){case 0:return change_detection_util_1.ChangeDetectionUtil.arrayFn0;case 1:return change_detection_util_1.ChangeDetectionUtil.arrayFn1;case 2:return change_detection_util_1.ChangeDetectionUtil.arrayFn2;case 3:return change_detection_util_1.ChangeDetectionUtil.arrayFn3;case 4:return change_detection_util_1.ChangeDetectionUtil.arrayFn4;case 5:return change_detection_util_1.ChangeDetectionUtil.arrayFn5;case 6:return change_detection_util_1.ChangeDetectionUtil.arrayFn6;case 7:return change_detection_util_1.ChangeDetectionUtil.arrayFn7;case 8:return change_detection_util_1.ChangeDetectionUtil.arrayFn8;case 9:return change_detection_util_1.ChangeDetectionUtil.arrayFn9;default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements")}}function _mapPrimitiveName(keys){var stringifiedKeys=keys.map(function(k){return lang_1.isString(k)?'"'+k+'"':""+k}).join(", ");return"mapFn(["+stringifiedKeys+"])"}function _operationToPrimitiveName(operation){switch(operation){case"+":return"operation_add";case"-":return"operation_subtract";case"*":return"operation_multiply";case"/":return"operation_divide";case"%":return"operation_remainder";case"==":return"operation_equals";case"!=":return"operation_not_equals";case"===":return"operation_identical";case"!==":return"operation_not_identical";case"<":return"operation_less_then";case">":return"operation_greater_then";case"<=":return"operation_less_or_equals_then";case">=":return"operation_greater_or_equals_then";default:throw new exceptions_1.BaseException("Unsupported operation "+operation)}}function _operationToFunction(operation){switch(operation){case"+":return change_detection_util_1.ChangeDetectionUtil.operation_add;case"-":
return change_detection_util_1.ChangeDetectionUtil.operation_subtract;case"*":return change_detection_util_1.ChangeDetectionUtil.operation_multiply;case"/":return change_detection_util_1.ChangeDetectionUtil.operation_divide;case"%":return change_detection_util_1.ChangeDetectionUtil.operation_remainder;case"==":return change_detection_util_1.ChangeDetectionUtil.operation_equals;case"!=":return change_detection_util_1.ChangeDetectionUtil.operation_not_equals;case"===":return change_detection_util_1.ChangeDetectionUtil.operation_identical;case"!==":return change_detection_util_1.ChangeDetectionUtil.operation_not_identical;case"<":return change_detection_util_1.ChangeDetectionUtil.operation_less_then;case">":return change_detection_util_1.ChangeDetectionUtil.operation_greater_then;case"<=":return change_detection_util_1.ChangeDetectionUtil.operation_less_or_equals_then;case">=":return change_detection_util_1.ChangeDetectionUtil.operation_greater_or_equals_then;default:throw new exceptions_1.BaseException("Unsupported operation "+operation)}}function s(v){return lang_1.isPresent(v)?""+v:""}function _interpolationFn(strings){var length=strings.length,c0=length>0?strings[0]:null,c1=length>1?strings[1]:null,c2=length>2?strings[2]:null,c3=length>3?strings[3]:null,c4=length>4?strings[4]:null,c5=length>5?strings[5]:null,c6=length>6?strings[6]:null,c7=length>7?strings[7]:null,c8=length>8?strings[8]:null,c9=length>9?strings[9]:null;switch(length-1){case 1:return function(a1){return c0+s(a1)+c1};case 2:return function(a1,a2){return c0+s(a1)+c1+s(a2)+c2};case 3:return function(a1,a2,a3){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3};case 4:return function(a1,a2,a3,a4){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4};case 5:return function(a1,a2,a3,a4,a5){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5};case 6:return function(a1,a2,a3,a4,a5,a6){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8+s(a9)+c9};default:throw new exceptions_1.BaseException("Does not support more than 9 expressions")}}var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),ast_1=require("./parser/ast"),change_detection_util_1=require("./change_detection_util"),dynamic_change_detector_1=require("./dynamic_change_detector"),directive_record_1=require("./directive_record"),event_binding_1=require("./event_binding"),coalesce_1=require("./coalesce"),proto_record_1=require("./proto_record"),DynamicProtoChangeDetector=function(){function DynamicProtoChangeDetector(_definition){this._definition=_definition,this._propertyBindingRecords=createPropertyRecords(_definition),this._eventBindingRecords=createEventRecords(_definition),this._propertyBindingTargets=this._definition.bindingRecords.map(function(b){return b.target}),this._directiveIndices=this._definition.directiveRecords.map(function(d){return d.directiveIndex})}return DynamicProtoChangeDetector.prototype.instantiate=function(){return new dynamic_change_detector_1.DynamicChangeDetector(this._definition.id,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig)},DynamicProtoChangeDetector}();exports.DynamicProtoChangeDetector=DynamicProtoChangeDetector,exports.createPropertyRecords=createPropertyRecords,exports.createEventRecords=createEventRecords;var ProtoRecordBuilder=function(){function ProtoRecordBuilder(){this.records=[]}return ProtoRecordBuilder.prototype.add=function(b,variableNames,bindingIndex){var oldLast=collection_1.ListWrapper.last(this.records);lang_1.isPresent(oldLast)&&oldLast.bindingRecord.directiveRecord==b.directiveRecord&&(oldLast.lastInDirective=!1);var numberOfRecordsBefore=this.records.length;this._appendRecords(b,variableNames,bindingIndex);var newLast=collection_1.ListWrapper.last(this.records);lang_1.isPresent(newLast)&&newLast!==oldLast&&(newLast.lastInBinding=!0,newLast.lastInDirective=!0,this._setArgumentToPureFunction(numberOfRecordsBefore))},ProtoRecordBuilder.prototype._setArgumentToPureFunction=function(startIndex){for(var _this=this,i=startIndex;i<this.records.length;++i){var rec=this.records[i];rec.isPureFunction()&&rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=!0}),rec.mode===proto_record_1.RecordType.Pipe&&(rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=!0}),this.records[rec.contextIndex-1].argumentToPureFunction=!0)}},ProtoRecordBuilder.prototype._appendRecords=function(b,variableNames,bindingIndex){b.isDirectiveLifecycle()?this.records.push(new proto_record_1.ProtoRecord(proto_record_1.RecordType.DirectiveLifecycle,b.lifecycleEvent,null,[],[],-1,null,this.records.length+1,b,!1,!1,!1,!1,null)):_ConvertAstIntoProtoRecords.append(this.records,b,variableNames,bindingIndex)},ProtoRecordBuilder}();exports.ProtoRecordBuilder=ProtoRecordBuilder;var _ConvertAstIntoProtoRecords=function(){function _ConvertAstIntoProtoRecords(_records,_bindingRecord,_variableNames,_bindingIndex){this._records=_records,this._bindingRecord=_bindingRecord,this._variableNames=_variableNames,this._bindingIndex=_bindingIndex}return _ConvertAstIntoProtoRecords.append=function(records,b,variableNames,bindingIndex){var c=new _ConvertAstIntoProtoRecords(records,b,variableNames,bindingIndex);b.ast.visit(c)},_ConvertAstIntoProtoRecords.create=function(b,variableNames){var rec=[];return _ConvertAstIntoProtoRecords.append(rec,b,variableNames,null),rec[rec.length-1].lastInBinding=!0,rec},_ConvertAstIntoProtoRecords.prototype.visitImplicitReceiver=function(ast){return this._bindingRecord.implicitReceiver},_ConvertAstIntoProtoRecords.prototype.visitInterpolation=function(ast){var args=this._visitAll(ast.expressions);return this._addRecord(proto_record_1.RecordType.Interpolate,"interpolate",_interpolationFn(ast.strings),args,ast.strings,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralPrimitive=function(ast){return this._addRecord(proto_record_1.RecordType.Const,"literal",ast.value,[],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPropertyRead=function(ast){var receiver=ast.receiver.visit(this);return lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver?this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver):this._addRecord(proto_record_1.RecordType.PropertyRead,ast.name,ast.getter,[],null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitPropertyWrite=function(ast){if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver)throw new exceptions_1.BaseException("Cannot reassign a variable binding "+ast.name);var receiver=ast.receiver.visit(this),value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.PropertyWrite,ast.name,ast.setter,[value],null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitKeyedWrite=function(ast){var obj=ast.obj.visit(this),key=ast.key.visit(this),value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedWrite,null,null,[key,value],null,obj)},_ConvertAstIntoProtoRecords.prototype.visitSafePropertyRead=function(ast){var receiver=ast.receiver.visit(this);return this._addRecord(proto_record_1.RecordType.SafeProperty,ast.name,ast.getter,[],null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitMethodCall=function(ast){var receiver=ast.receiver.visit(this),args=this._visitAll(ast.args);if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)){var target=this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target)}return this._addRecord(proto_record_1.RecordType.InvokeMethod,ast.name,ast.fn,args,null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitSafeMethodCall=function(ast){var receiver=ast.receiver.visit(this),args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.SafeMethodInvoke,ast.name,ast.fn,args,null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitFunctionCall=function(ast){var target=ast.target.visit(this),args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target)},_ConvertAstIntoProtoRecords.prototype.visitLiteralArray=function(ast){var primitiveName="arrayFn"+ast.expressions.length;return this._addRecord(proto_record_1.RecordType.CollectionLiteral,primitiveName,_arrayFn(ast.expressions.length),this._visitAll(ast.expressions),null,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralMap=function(ast){return this._addRecord(proto_record_1.RecordType.CollectionLiteral,_mapPrimitiveName(ast.keys),change_detection_util_1.ChangeDetectionUtil.mapFn(ast.keys),this._visitAll(ast.values),null,0)},_ConvertAstIntoProtoRecords.prototype.visitBinary=function(ast){var left=ast.left.visit(this);switch(ast.operation){case"&&":var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],branchEnd,left);var right=ast.right.visit(this);return branchEnd[0]=right,this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,right,left],null,0);case"||":var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIf,"SkipRecordsIf",null,[],branchEnd,left);var right=ast.right.visit(this);return branchEnd[0]=right,this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,left,right],null,0);default:var right=ast.right.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,_operationToPrimitiveName(ast.operation),_operationToFunction(ast.operation),[left,right],null,0)}},_ConvertAstIntoProtoRecords.prototype.visitPrefixNot=function(ast){var exp=ast.expression.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"operation_negate",change_detection_util_1.ChangeDetectionUtil.operation_negate,[exp],null,0)},_ConvertAstIntoProtoRecords.prototype.visitConditional=function(ast){var condition=ast.condition.visit(this),startOfFalseBranch=[null],endOfFalseBranch=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],startOfFalseBranch,condition);var whenTrue=ast.trueExp.visit(this),skip=this._addRecord(proto_record_1.RecordType.SkipRecords,"SkipRecords",null,[],endOfFalseBranch,0),whenFalse=ast.falseExp.visit(this);return startOfFalseBranch[0]=skip,endOfFalseBranch[0]=whenFalse,this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[condition,whenTrue,whenFalse],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPipe=function(ast){var value=ast.exp.visit(this),args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.Pipe,ast.name,ast.name,args,null,value)},_ConvertAstIntoProtoRecords.prototype.visitKeyedRead=function(ast){var obj=ast.obj.visit(this),key=ast.key.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedRead,"keyedAccess",change_detection_util_1.ChangeDetectionUtil.keyedAccess,[key],null,obj)},_ConvertAstIntoProtoRecords.prototype.visitChain=function(ast){var _this=this,args=ast.expressions.map(function(e){return e.visit(_this)});return this._addRecord(proto_record_1.RecordType.Chain,"chain",null,args,null,0)},_ConvertAstIntoProtoRecords.prototype.visitQuote=function(ast){throw new exceptions_1.BaseException("Caught uninterpreted expression at "+ast.location+": "+ast.uninterpretedExpression+". "+("Expression prefix "+ast.prefix+" did not match a template transformer to interpret the expression."))},_ConvertAstIntoProtoRecords.prototype._visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},_ConvertAstIntoProtoRecords.prototype._addRecord=function(type,name,funcOrValue,args,fixedArgs,context){var selfIndex=this._records.length+1;return context instanceof directive_record_1.DirectiveIndex?this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,-1,context,selfIndex,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)):this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,context,null,selfIndex,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)),selfIndex},_ConvertAstIntoProtoRecords}()},{"./change_detection_util":107,"./coalesce":109,"./directive_record":118,"./dynamic_change_detector":119,"./event_binding":120,"./parser/ast":124,"./proto_record":131,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],131:[function(require,module,exports){"use strict";!function(RecordType){RecordType[RecordType.Self=0]="Self",RecordType[RecordType.Const=1]="Const",RecordType[RecordType.PrimitiveOp=2]="PrimitiveOp",RecordType[RecordType.PropertyRead=3]="PropertyRead",RecordType[RecordType.PropertyWrite=4]="PropertyWrite",RecordType[RecordType.Local=5]="Local",RecordType[RecordType.InvokeMethod=6]="InvokeMethod",RecordType[RecordType.InvokeClosure=7]="InvokeClosure",RecordType[RecordType.KeyedRead=8]="KeyedRead",RecordType[RecordType.KeyedWrite=9]="KeyedWrite",RecordType[RecordType.Pipe=10]="Pipe",RecordType[RecordType.Interpolate=11]="Interpolate",RecordType[RecordType.SafeProperty=12]="SafeProperty",RecordType[RecordType.CollectionLiteral=13]="CollectionLiteral",RecordType[RecordType.SafeMethodInvoke=14]="SafeMethodInvoke",RecordType[RecordType.DirectiveLifecycle=15]="DirectiveLifecycle",RecordType[RecordType.Chain=16]="Chain",RecordType[RecordType.SkipRecordsIf=17]="SkipRecordsIf",RecordType[RecordType.SkipRecordsIfNot=18]="SkipRecordsIfNot",RecordType[RecordType.SkipRecords=19]="SkipRecords"}(exports.RecordType||(exports.RecordType={}));var RecordType=exports.RecordType,ProtoRecord=function(){function ProtoRecord(mode,name,funcOrValue,args,fixedArgs,contextIndex,directiveIndex,selfIndex,bindingRecord,lastInBinding,lastInDirective,argumentToPureFunction,referencedBySelf,propertyBindingIndex){this.mode=mode,this.name=name,this.funcOrValue=funcOrValue,this.args=args,this.fixedArgs=fixedArgs,this.contextIndex=contextIndex,this.directiveIndex=directiveIndex,this.selfIndex=selfIndex,this.bindingRecord=bindingRecord,this.lastInBinding=lastInBinding,this.lastInDirective=lastInDirective,this.argumentToPureFunction=argumentToPureFunction,this.referencedBySelf=referencedBySelf,this.propertyBindingIndex=propertyBindingIndex}return ProtoRecord.prototype.isPureFunction=function(){return this.mode===RecordType.Interpolate||this.mode===RecordType.CollectionLiteral},ProtoRecord.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf},ProtoRecord.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord()},ProtoRecord.prototype.isPipeRecord=function(){return this.mode===RecordType.Pipe},ProtoRecord.prototype.isConditionalSkipRecord=function(){return this.mode===RecordType.SkipRecordsIfNot||this.mode===RecordType.SkipRecordsIf},ProtoRecord.prototype.isUnconditionalSkipRecord=function(){return this.mode===RecordType.SkipRecords},ProtoRecord.prototype.isSkipRecord=function(){return this.isConditionalSkipRecord()||this.isUnconditionalSkipRecord()},ProtoRecord.prototype.isLifeCycleRecord=function(){return this.mode===RecordType.DirectiveLifecycle},ProtoRecord}();exports.ProtoRecord=ProtoRecord},{}],132:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),Console=function(){function Console(){}return Console.prototype.log=function(message){lang_1.print(message)},Console=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],Console)}();exports.Console=Console},{"angular2/src/core/di":135,"angular2/src/facade/lang":195}],133:[function(require,module,exports){"use strict";function asNativeElements(debugEls){return debugEls.map(function(el){return el.nativeElement})}function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){node instanceof DebugElement&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement&&parentNode.childNodes.forEach(function(node){predicate(node)&&matches.push(node),node instanceof DebugElement&&_queryNodeChildren(node,predicate,matches)})}function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)}function getAllDebugNodes(){return collection_1.MapWrapper.values(_nativeNodeToDebugNode)}function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode["delete"](node.nativeNode)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),EventListener=function(){function EventListener(name,callback){this.name=name,this.callback=callback}return EventListener}();exports.EventListener=EventListener;var DebugNode=function(){function DebugNode(nativeNode,parent){this.nativeNode=nativeNode,lang_1.isPresent(parent)&&parent instanceof DebugElement?parent.addChild(this):this.parent=null,this.listeners=[],this.providerTokens=[]}return DebugNode.prototype.setDebugInfo=function(info){this.injector=info.injector,this.providerTokens=info.providerTokens,this.locals=info.locals,this.componentInstance=info.component},DebugNode.prototype.inject=function(token){return this.injector.get(token)},DebugNode.prototype.getLocal=function(name){return this.locals.get(name)},DebugNode}();exports.DebugNode=DebugNode;var DebugElement=function(_super){function DebugElement(nativeNode,parent){_super.call(this,nativeNode,parent),this.properties=new Map,this.attributes=new Map,this.childNodes=[],this.nativeElement=nativeNode}return __extends(DebugElement,_super),DebugElement.prototype.addChild=function(child){lang_1.isPresent(child)&&(this.childNodes.push(child),child.parent=this)},DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))},DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(-1!==siblingIndex){var previousChildren=this.childNodes.slice(0,siblingIndex+1),nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=collection_1.ListWrapper.concat(collection_1.ListWrapper.concat(previousChildren,newChildren),nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];lang_1.isPresent(newChild.parent)&&newChild.parent.removeChild(newChild),newChild.parent=this}}},DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results.length>0?results[0]:null},DebugElement.prototype.queryAll=function(predicate){var matches=[];return _queryElementChildren(this,predicate,matches),matches},DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];return _queryNodeChildren(this,predicate,matches),matches},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var children=[];return this.childNodes.forEach(function(node){node instanceof DebugElement&&children.push(node)}),children},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){listener.name==eventName&&listener.callback(eventObj)})},DebugElement}(DebugNode);exports.DebugElement=DebugElement,exports.asNativeElements=asNativeElements;var _nativeNodeToDebugNode=new Map;exports.getDebugNode=getDebugNode,exports.getAllDebugNodes=getAllDebugNodes,exports.indexDebugNode=indexDebugNode,exports.removeDebugNodeFromIndex=removeDebugNodeFromIndex},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],134:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),debug_node_1=require("angular2/src/core/debug/debug_node"),DebugDomRootRenderer=function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate}return DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this,this._delegate.renderComponent(componentProto))},DebugDomRootRenderer}();exports.DebugDomRootRenderer=DebugDomRootRenderer;var DebugDomRenderer=function(){function DebugDomRenderer(_rootRenderer,_delegate){this._rootRenderer=_rootRenderer,this._delegate=_delegate}return DebugDomRenderer.prototype.renderComponent=function(componentType){return this._rootRenderer.renderComponent(componentType)},DebugDomRenderer.prototype.selectRootElement=function(selector){var nativeEl=this._delegate.selectRootElement(selector),debugEl=new debug_node_1.DebugElement(nativeEl,null);return debug_node_1.indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createElement=function(parentElement,name){var nativeEl=this._delegate.createElement(parentElement,name),debugEl=new debug_node_1.DebugElement(nativeEl,debug_node_1.getDebugNode(parentElement));return debugEl.name=name,debug_node_1.indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement)},DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=this._delegate.createTemplateAnchor(parentElement),debugEl=new debug_node_1.DebugNode(comment,debug_node_1.getDebugNode(parentElement));return debug_node_1.indexDebugNode(debugEl),comment},DebugDomRenderer.prototype.createText=function(parentElement,value){var text=this._delegate.createText(parentElement,value),debugEl=new debug_node_1.DebugNode(text,debug_node_1.getDebugNode(parentElement));return debug_node_1.indexDebugNode(debugEl),text},DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=debug_node_1.getDebugNode(parentElement);if(lang_1.isPresent(debugParent)&&debugParent instanceof debug_node_1.DebugElement){var debugElement_1=debugParent;nodes.forEach(function(node){debugElement_1.addChild(debug_node_1.getDebugNode(node))})}this._delegate.projectNodes(parentElement,nodes)},DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&lang_1.isPresent(debugParent)){var debugViewRootNodes=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes.push(debug_node_1.getDebugNode(rootNode))}),debugParent.insertChildrenAfter(debugNode,debugViewRootNodes)}}this._delegate.attachViewAfter(node,viewRootNodes)},DebugDomRenderer.prototype.detachView=function(viewRootNodes){viewRootNodes.forEach(function(node){var debugNode=debug_node_1.getDebugNode(node);lang_1.isPresent(debugNode)&&lang_1.isPresent(debugNode.parent)&&debugNode.parent.removeChild(debugNode)}),this._delegate.detachView(viewRootNodes)},DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){viewAllNodes.forEach(function(node){debug_node_1.removeDebugNodeFromIndex(debug_node_1.getDebugNode(node))}),this._delegate.destroyView(hostElement,viewAllNodes)},DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=debug_node_1.getDebugNode(renderElement);return lang_1.isPresent(debugEl)&&debugEl.listeners.push(new debug_node_1.EventListener(name,callback)),this._delegate.listen(renderElement,name,callback)},DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback)},DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=debug_node_1.getDebugNode(renderElement);lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&debugEl.properties.set(propertyName,propertyValue),this._delegate.setElementProperty(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=debug_node_1.getDebugNode(renderElement);lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&debugEl.attributes.set(attributeName,attributeValue),this._delegate.setElementAttribute(renderElement,attributeName,attributeValue)},DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementDebugInfo=function(renderElement,info){var debugEl=debug_node_1.getDebugNode(renderElement);debugEl.setDebugInfo(info),this._delegate.setElementDebugInfo(renderElement,info)},DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){this._delegate.setElementClass(renderElement,className,isAdd)},DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){this._delegate.setElementStyle(renderElement,styleName,styleValue)},DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){this._delegate.invokeElementMethod(renderElement,methodName,args)},DebugDomRenderer.prototype.setText=function(renderNode,text){this._delegate.setText(renderNode,text)},DebugDomRenderer}();exports.DebugDomRenderer=DebugDomRenderer},{"angular2/src/core/debug/debug_node":133,"angular2/src/facade/lang":195}],135:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var metadata_1=require("./di/metadata");exports.InjectMetadata=metadata_1.InjectMetadata,exports.OptionalMetadata=metadata_1.OptionalMetadata,exports.InjectableMetadata=metadata_1.InjectableMetadata,exports.SelfMetadata=metadata_1.SelfMetadata,exports.HostMetadata=metadata_1.HostMetadata,exports.SkipSelfMetadata=metadata_1.SkipSelfMetadata,exports.DependencyMetadata=metadata_1.DependencyMetadata,__export(require("./di/decorators"));var forward_ref_1=require("./di/forward_ref");exports.forwardRef=forward_ref_1.forwardRef,exports.resolveForwardRef=forward_ref_1.resolveForwardRef;var injector_1=require("./di/injector");exports.Injector=injector_1.Injector;var provider_1=require("./di/provider");exports.Binding=provider_1.Binding,exports.ProviderBuilder=provider_1.ProviderBuilder,exports.ResolvedFactory=provider_1.ResolvedFactory,exports.Dependency=provider_1.Dependency,exports.bind=provider_1.bind,exports.Provider=provider_1.Provider,exports.provide=provider_1.provide;var key_1=require("./di/key");exports.Key=key_1.Key;var exceptions_1=require("./di/exceptions");exports.NoProviderError=exceptions_1.NoProviderError,exports.AbstractProviderError=exceptions_1.AbstractProviderError,exports.CyclicDependencyError=exceptions_1.CyclicDependencyError,exports.InstantiationError=exceptions_1.InstantiationError,exports.InvalidProviderError=exceptions_1.InvalidProviderError,exports.NoAnnotationError=exceptions_1.NoAnnotationError,exports.OutOfBoundsError=exceptions_1.OutOfBoundsError;var opaque_token_1=require("./di/opaque_token");exports.OpaqueToken=opaque_token_1.OpaqueToken},{"./di/decorators":136,"./di/exceptions":137,"./di/forward_ref":138,"./di/injector":139,"./di/key":140,"./di/metadata":141,"./di/opaque_token":142,"./di/provider":143}],136:[function(require,module,exports){"use strict";var metadata_1=require("./metadata"),decorators_1=require("../util/decorators");exports.Inject=decorators_1.makeParamDecorator(metadata_1.InjectMetadata),exports.Optional=decorators_1.makeParamDecorator(metadata_1.OptionalMetadata),exports.Injectable=decorators_1.makeDecorator(metadata_1.InjectableMetadata),exports.Self=decorators_1.makeParamDecorator(metadata_1.SelfMetadata),exports.Host=decorators_1.makeParamDecorator(metadata_1.HostMetadata),exports.SkipSelf=decorators_1.makeParamDecorator(metadata_1.SkipSelfMetadata)},{"../util/decorators":183,"./metadata":141}],137:[function(require,module,exports){"use strict";function findFirstClosedCycle(keys){for(var res=[],i=0;i<keys.length;++i){if(collection_1.ListWrapper.contains(res,keys[i]))return res.push(keys[i]),res;res.push(keys[i])}return res}function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(collection_1.ListWrapper.reversed(keys)),tokenStrs=reversed.map(function(k){return lang_1.stringify(k.token)});return" ("+tokenStrs.join(" -> ")+")"}return""}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),AbstractProviderError=function(_super){function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,"DI Exception"),this.keys=[key],this.injectors=[injector],this.constructResolvingMessage=constructResolvingMessage,this.message=this.constructResolvingMessage(this.keys)}return __extends(AbstractProviderError,_super),AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),AbstractProviderError}(exceptions_1.BaseException);exports.AbstractProviderError=AbstractProviderError;var NoProviderError=function(_super){function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=lang_1.stringify(collection_1.ListWrapper.first(keys).token);return"No provider for "+first+"!"+constructResolvingPath(keys)})}return __extends(NoProviderError,_super),NoProviderError}(AbstractProviderError);exports.NoProviderError=NoProviderError;var CyclicDependencyError=function(_super){function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys)})}return __extends(CyclicDependencyError,_super),CyclicDependencyError}(AbstractProviderError);exports.CyclicDependencyError=CyclicDependencyError;var InstantiationError=function(_super){function InstantiationError(injector,originalException,originalStack,key){
_super.call(this,"DI Exception",originalException,originalStack,null),this.keys=[key],this.injectors=[injector]}return __extends(InstantiationError,_super),InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key)},Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{get:function(){var first=lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);return"Error during instantiation of "+first+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),InstantiationError}(exceptions_1.WrappedException);exports.InstantiationError=InstantiationError;var InvalidProviderError=function(_super){function InvalidProviderError(provider){_super.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+provider.toString())}return __extends(InvalidProviderError,_super),InvalidProviderError}(exceptions_1.BaseException);exports.InvalidProviderError=InvalidProviderError;var NoAnnotationError=function(_super){function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params))}return __extends(NoAnnotationError,_super),NoAnnotationError._genMessage=function(typeOrFunc,params){for(var signature=[],i=0,ii=params.length;ii>i;i++){var parameter=params[i];lang_1.isBlank(parameter)||0==parameter.length?signature.push("?"):signature.push(parameter.map(lang_1.stringify).join(" "))}return"Cannot resolve all parameters for '"+lang_1.stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+lang_1.stringify(typeOrFunc)+"' is decorated with Injectable."},NoAnnotationError}(exceptions_1.BaseException);exports.NoAnnotationError=NoAnnotationError;var OutOfBoundsError=function(_super){function OutOfBoundsError(index){_super.call(this,"Index "+index+" is out-of-bounds.")}return __extends(OutOfBoundsError,_super),OutOfBoundsError}(exceptions_1.BaseException);exports.OutOfBoundsError=OutOfBoundsError;var MixingMultiProvidersWithRegularProvidersError=function(_super){function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,"Cannot mix multi providers and regular providers, got: "+provider1.toString()+" "+provider2.toString())}return __extends(MixingMultiProvidersWithRegularProvidersError,_super),MixingMultiProvidersWithRegularProvidersError}(exceptions_1.BaseException);exports.MixingMultiProvidersWithRegularProvidersError=MixingMultiProvidersWithRegularProvidersError},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],138:[function(require,module,exports){"use strict";function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return lang_1.stringify(this())},forwardRefFn}function resolveForwardRef(type){return lang_1.isFunction(type)&&type.hasOwnProperty("__forward_ref__")&&type.__forward_ref__===forwardRef?type():type}var lang_1=require("angular2/src/facade/lang");exports.forwardRef=forwardRef,exports.resolveForwardRef=resolveForwardRef},{"angular2/src/facade/lang":195}],139:[function(require,module,exports){"use strict";function canSee(src,dst){return src===dst||dst===Visibility.PublicAndPrivate||src===Visibility.PublicAndPrivate}function _mapProviders(injector,fn){for(var res=[],i=0;i<injector._proto.numberOfProviders;++i)res.push(fn(injector._proto.getProviderAtIndex(i)));return res}var collection_1=require("angular2/src/facade/collection"),provider_1=require("./provider"),exceptions_1=require("./exceptions"),lang_1=require("angular2/src/facade/lang"),exceptions_2=require("angular2/src/facade/exceptions"),key_1=require("./key"),metadata_1=require("./metadata"),_MAX_CONSTRUCTION_COUNTER=10;exports.UNDEFINED=lang_1.CONST_EXPR(new Object),function(Visibility){Visibility[Visibility.Public=0]="Public",Visibility[Visibility.Private=1]="Private",Visibility[Visibility.PublicAndPrivate=2]="PublicAndPrivate"}(exports.Visibility||(exports.Visibility={}));var Visibility=exports.Visibility,ProtoInjectorInlineStrategy=function(){function ProtoInjectorInlineStrategy(protoEI,bwv){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null,this.visibility0=null,this.visibility1=null,this.visibility2=null,this.visibility3=null,this.visibility4=null,this.visibility5=null,this.visibility6=null,this.visibility7=null,this.visibility8=null,this.visibility9=null;var length=bwv.length;length>0&&(this.provider0=bwv[0].provider,this.keyId0=bwv[0].getKeyId(),this.visibility0=bwv[0].visibility),length>1&&(this.provider1=bwv[1].provider,this.keyId1=bwv[1].getKeyId(),this.visibility1=bwv[1].visibility),length>2&&(this.provider2=bwv[2].provider,this.keyId2=bwv[2].getKeyId(),this.visibility2=bwv[2].visibility),length>3&&(this.provider3=bwv[3].provider,this.keyId3=bwv[3].getKeyId(),this.visibility3=bwv[3].visibility),length>4&&(this.provider4=bwv[4].provider,this.keyId4=bwv[4].getKeyId(),this.visibility4=bwv[4].visibility),length>5&&(this.provider5=bwv[5].provider,this.keyId5=bwv[5].getKeyId(),this.visibility5=bwv[5].visibility),length>6&&(this.provider6=bwv[6].provider,this.keyId6=bwv[6].getKeyId(),this.visibility6=bwv[6].visibility),length>7&&(this.provider7=bwv[7].provider,this.keyId7=bwv[7].getKeyId(),this.visibility7=bwv[7].visibility),length>8&&(this.provider8=bwv[8].provider,this.keyId8=bwv[8].getKeyId(),this.visibility8=bwv[8].visibility),length>9&&(this.provider9=bwv[9].provider,this.keyId9=bwv[9].getKeyId(),this.visibility9=bwv[9].visibility)}return ProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){if(0==index)return this.provider0;if(1==index)return this.provider1;if(2==index)return this.provider2;if(3==index)return this.provider3;if(4==index)return this.provider4;if(5==index)return this.provider5;if(6==index)return this.provider6;if(7==index)return this.provider7;if(8==index)return this.provider8;if(9==index)return this.provider9;throw new exceptions_1.OutOfBoundsError(index)},ProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new InjectorInlineStrategy(injector,this)},ProtoInjectorInlineStrategy}();exports.ProtoInjectorInlineStrategy=ProtoInjectorInlineStrategy;var ProtoInjectorDynamicStrategy=function(){function ProtoInjectorDynamicStrategy(protoInj,bwv){var len=bwv.length;this.providers=collection_1.ListWrapper.createFixedSize(len),this.keyIds=collection_1.ListWrapper.createFixedSize(len),this.visibilities=collection_1.ListWrapper.createFixedSize(len);for(var i=0;len>i;i++)this.providers[i]=bwv[i].provider,this.keyIds[i]=bwv[i].getKeyId(),this.visibilities[i]=bwv[i].visibility}return ProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(0>index||index>=this.providers.length)throw new exceptions_1.OutOfBoundsError(index);return this.providers[index]},ProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new InjectorDynamicStrategy(this,ei)},ProtoInjectorDynamicStrategy}();exports.ProtoInjectorDynamicStrategy=ProtoInjectorDynamicStrategy;var ProtoInjector=function(){function ProtoInjector(bwv){this.numberOfProviders=bwv.length,this._strategy=bwv.length>_MAX_CONSTRUCTION_COUNTER?new ProtoInjectorDynamicStrategy(this,bwv):new ProtoInjectorInlineStrategy(this,bwv)}return ProtoInjector.fromResolvedProviders=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public)});return new ProtoInjector(bd)},ProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index)},ProtoInjector}();exports.ProtoInjector=ProtoInjector;var InjectorInlineStrategy=function(){function InjectorInlineStrategy(injector,protoStrategy){this.injector=injector,this.protoStrategy=protoStrategy,this.obj0=exports.UNDEFINED,this.obj1=exports.UNDEFINED,this.obj2=exports.UNDEFINED,this.obj3=exports.UNDEFINED,this.obj4=exports.UNDEFINED,this.obj5=exports.UNDEFINED,this.obj6=exports.UNDEFINED,this.obj7=exports.UNDEFINED,this.obj8=exports.UNDEFINED,this.obj9=exports.UNDEFINED}return InjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorInlineStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility)},InjectorInlineStrategy.prototype.getObjByKeyId=function(keyId,visibility){var p=this.protoStrategy,inj=this.injector;return p.keyId0===keyId&&canSee(p.visibility0,visibility)?(this.obj0===exports.UNDEFINED&&(this.obj0=inj._new(p.provider0,p.visibility0)),this.obj0):p.keyId1===keyId&&canSee(p.visibility1,visibility)?(this.obj1===exports.UNDEFINED&&(this.obj1=inj._new(p.provider1,p.visibility1)),this.obj1):p.keyId2===keyId&&canSee(p.visibility2,visibility)?(this.obj2===exports.UNDEFINED&&(this.obj2=inj._new(p.provider2,p.visibility2)),this.obj2):p.keyId3===keyId&&canSee(p.visibility3,visibility)?(this.obj3===exports.UNDEFINED&&(this.obj3=inj._new(p.provider3,p.visibility3)),this.obj3):p.keyId4===keyId&&canSee(p.visibility4,visibility)?(this.obj4===exports.UNDEFINED&&(this.obj4=inj._new(p.provider4,p.visibility4)),this.obj4):p.keyId5===keyId&&canSee(p.visibility5,visibility)?(this.obj5===exports.UNDEFINED&&(this.obj5=inj._new(p.provider5,p.visibility5)),this.obj5):p.keyId6===keyId&&canSee(p.visibility6,visibility)?(this.obj6===exports.UNDEFINED&&(this.obj6=inj._new(p.provider6,p.visibility6)),this.obj6):p.keyId7===keyId&&canSee(p.visibility7,visibility)?(this.obj7===exports.UNDEFINED&&(this.obj7=inj._new(p.provider7,p.visibility7)),this.obj7):p.keyId8===keyId&&canSee(p.visibility8,visibility)?(this.obj8===exports.UNDEFINED&&(this.obj8=inj._new(p.provider8,p.visibility8)),this.obj8):p.keyId9===keyId&&canSee(p.visibility9,visibility)?(this.obj9===exports.UNDEFINED&&(this.obj9=inj._new(p.provider9,p.visibility9)),this.obj9):exports.UNDEFINED},InjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(0==index)return this.obj0;if(1==index)return this.obj1;if(2==index)return this.obj2;if(3==index)return this.obj3;if(4==index)return this.obj4;if(5==index)return this.obj5;if(6==index)return this.obj6;if(7==index)return this.obj7;if(8==index)return this.obj8;if(9==index)return this.obj9;throw new exceptions_1.OutOfBoundsError(index)},InjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER},InjectorInlineStrategy}();exports.InjectorInlineStrategy=InjectorInlineStrategy;var InjectorDynamicStrategy=function(){function InjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy,this.injector=injector,this.objs=collection_1.ListWrapper.createFixedSize(protoStrategy.providers.length),collection_1.ListWrapper.fill(this.objs,exports.UNDEFINED)}return InjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorDynamicStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility)},InjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId,visibility){for(var p=this.protoStrategy,i=0;i<p.keyIds.length;i++)if(p.keyIds[i]===keyId&&canSee(p.visibilities[i],visibility))return this.objs[i]===exports.UNDEFINED&&(this.objs[i]=this.injector._new(p.providers[i],p.visibilities[i])),this.objs[i];return exports.UNDEFINED},InjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(0>index||index>=this.objs.length)throw new exceptions_1.OutOfBoundsError(index);return this.objs[index]},InjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},InjectorDynamicStrategy}();exports.InjectorDynamicStrategy=InjectorDynamicStrategy;var ProviderWithVisibility=function(){function ProviderWithVisibility(provider,visibility){this.provider=provider,this.visibility=visibility}return ProviderWithVisibility.prototype.getKeyId=function(){return this.provider.key.id},ProviderWithVisibility}();exports.ProviderWithVisibility=ProviderWithVisibility;var Injector=function(){function Injector(_proto,_parent,_isHostBoundary,_depProvider,_debugContext){void 0===_parent&&(_parent=null),void 0===_isHostBoundary&&(_isHostBoundary=!1),void 0===_depProvider&&(_depProvider=null),void 0===_debugContext&&(_debugContext=null),this._isHostBoundary=_isHostBoundary,this._depProvider=_depProvider,this._debugContext=_debugContext,this._constructionCounter=0,this._proto=_proto,this._parent=_parent,this._strategy=_proto._strategy.createInjectorStrategy(this)}return Injector.resolve=function(providers){return provider_1.resolveProviders(providers)},Injector.resolveAndCreate=function(providers){var resolvedProviders=Injector.resolve(providers);return Injector.fromResolvedProviders(resolvedProviders)},Injector.fromResolvedProviders=function(providers){return new Injector(ProtoInjector.fromResolvedProviders(providers))},Injector.fromResolvedBindings=function(providers){return Injector.fromResolvedProviders(providers)},Object.defineProperty(Injector.prototype,"hostBoundary",{get:function(){return this._isHostBoundary},enumerable:!0,configurable:!0}),Injector.prototype.debugContext=function(){return this._debugContext()},Injector.prototype.get=function(token){return this._getByKey(key_1.Key.get(token),null,null,!1,Visibility.PublicAndPrivate)},Injector.prototype.getOptional=function(token){return this._getByKey(key_1.Key.get(token),null,null,!0,Visibility.PublicAndPrivate)},Injector.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index)},Object.defineProperty(Injector.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Injector.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Injector.prototype.resolveAndCreateChild=function(providers){var resolvedProviders=Injector.resolve(providers);return this.createChildFromResolved(resolvedProviders)},Injector.prototype.createChildFromResolved=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public)}),proto=new ProtoInjector(bd),inj=new Injector(proto);return inj._parent=this,inj},Injector.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(Injector.resolve([provider])[0])},Injector.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider,Visibility.PublicAndPrivate)},Injector.prototype._new=function(provider,visibility){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new exceptions_1.CyclicDependencyError(this,provider.key);return this._instantiateProvider(provider,visibility)},Injector.prototype._instantiateProvider=function(provider,visibility){if(provider.multiProvider){for(var res=collection_1.ListWrapper.createFixedSize(provider.resolvedFactories.length),i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i],visibility);return res}return this._instantiate(provider,provider.resolvedFactories[0],visibility)},Injector.prototype._instantiate=function(provider,resolvedFactory,visibility){var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19,factory=resolvedFactory.factory,deps=resolvedFactory.dependencies,length=deps.length;try{d0=length>0?this._getByDependency(provider,deps[0],visibility):null,d1=length>1?this._getByDependency(provider,deps[1],visibility):null,d2=length>2?this._getByDependency(provider,deps[2],visibility):null,d3=length>3?this._getByDependency(provider,deps[3],visibility):null,d4=length>4?this._getByDependency(provider,deps[4],visibility):null,d5=length>5?this._getByDependency(provider,deps[5],visibility):null,d6=length>6?this._getByDependency(provider,deps[6],visibility):null,d7=length>7?this._getByDependency(provider,deps[7],visibility):null,d8=length>8?this._getByDependency(provider,deps[8],visibility):null,d9=length>9?this._getByDependency(provider,deps[9],visibility):null,d10=length>10?this._getByDependency(provider,deps[10],visibility):null,d11=length>11?this._getByDependency(provider,deps[11],visibility):null,d12=length>12?this._getByDependency(provider,deps[12],visibility):null,d13=length>13?this._getByDependency(provider,deps[13],visibility):null,d14=length>14?this._getByDependency(provider,deps[14],visibility):null,d15=length>15?this._getByDependency(provider,deps[15],visibility):null,d16=length>16?this._getByDependency(provider,deps[16],visibility):null,d17=length>17?this._getByDependency(provider,deps[17],visibility):null,d18=length>18?this._getByDependency(provider,deps[18],visibility):null,d19=length>19?this._getByDependency(provider,deps[19],visibility):null}catch(e){throw(e instanceof exceptions_1.AbstractProviderError||e instanceof exceptions_1.InstantiationError)&&e.addKey(this,provider.key),e}var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break;default:throw new exceptions_2.BaseException("Cannot instantiate '"+provider.key.displayName+"' because it has more than 20 dependencies")}}catch(e){throw new exceptions_1.InstantiationError(this,e,e.stack,provider.key)}return obj},Injector.prototype._getByDependency=function(provider,dep,providerVisibility){var special=lang_1.isPresent(this._depProvider)?this._depProvider.getDependency(this,provider,dep):exports.UNDEFINED;return special!==exports.UNDEFINED?special:this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional,providerVisibility)},Injector.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,optional,providerVisibility){return key===INJECTOR_KEY?this:upperBoundVisibility instanceof metadata_1.SelfMetadata?this._getByKeySelf(key,optional,providerVisibility):upperBoundVisibility instanceof metadata_1.HostMetadata?this._getByKeyHost(key,optional,providerVisibility,lowerBoundVisibility):this._getByKeyDefault(key,optional,providerVisibility,lowerBoundVisibility)},Injector.prototype._throwOrNull=function(key,optional){if(optional)return null;throw new exceptions_1.NoProviderError(this,key)},Injector.prototype._getByKeySelf=function(key,optional,providerVisibility){var obj=this._strategy.getObjByKeyId(key.id,providerVisibility);return obj!==exports.UNDEFINED?obj:this._throwOrNull(key,optional)},Injector.prototype._getByKeyHost=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;if(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata){if(inj._isHostBoundary)return this._getPrivateDependency(key,optional,inj);inj=inj._parent}for(;null!=inj;){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)return obj;if(lang_1.isPresent(inj._parent)&&inj._isHostBoundary)return this._getPrivateDependency(key,optional,inj);inj=inj._parent}return this._throwOrNull(key,optional)},Injector.prototype._getPrivateDependency=function(key,optional,inj){var obj=inj._parent._strategy.getObjByKeyId(key.id,Visibility.Private);return obj!==exports.UNDEFINED?obj:this._throwOrNull(key,optional)},Injector.prototype._getByKeyDefault=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;for(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata&&(providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public,inj=inj._parent);null!=inj;){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)return obj;providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public,inj=inj._parent}return this._throwOrNull(key,optional)},Object.defineProperty(Injector.prototype,"displayName",{get:function(){return"Injector(providers: ["+_mapProviders(this,function(b){return' "'+b.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),Injector.prototype.toString=function(){return this.displayName},Injector}();exports.Injector=Injector;var INJECTOR_KEY=key_1.Key.get(Injector)},{"./exceptions":137,"./key":140,"./metadata":141,"./provider":143,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],140:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),forward_ref_1=require("./forward_ref"),Key=function(){function Key(token,id){if(this.token=token,this.id=id,lang_1.isBlank(token))throw new exceptions_1.BaseException("Token must be defined!")}return Object.defineProperty(Key.prototype,"displayName",{get:function(){return lang_1.stringify(this.token)},enumerable:!0,configurable:!0}),Key.get=function(token){return _globalKeyRegistry.get(forward_ref_1.resolveForwardRef(token))},Object.defineProperty(Key,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),Key}();exports.Key=Key;var KeyRegistry=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(token){if(token instanceof Key)return token;if(this._allKeys.has(token))return this._allKeys.get(token);var newKey=new Key(token,Key.numberOfKeys);return this._allKeys.set(token,newKey),newKey},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}();exports.KeyRegistry=KeyRegistry;var _globalKeyRegistry=new KeyRegistry},{"./forward_ref":138,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],141:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),InjectMetadata=function(){function InjectMetadata(token){this.token=token}return InjectMetadata.prototype.toString=function(){return"@Inject("+lang_1.stringify(this.token)+")"},InjectMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],InjectMetadata)}();exports.InjectMetadata=InjectMetadata;var OptionalMetadata=function(){function OptionalMetadata(){}return OptionalMetadata.prototype.toString=function(){return"@Optional()"},OptionalMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],OptionalMetadata)}();exports.OptionalMetadata=OptionalMetadata;var DependencyMetadata=function(){function DependencyMetadata(){}return Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),DependencyMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DependencyMetadata)}();exports.DependencyMetadata=DependencyMetadata;var InjectableMetadata=function(){function InjectableMetadata(){}return InjectableMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],InjectableMetadata)}();exports.InjectableMetadata=InjectableMetadata;var SelfMetadata=function(){function SelfMetadata(){}return SelfMetadata.prototype.toString=function(){return"@Self()"},SelfMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],SelfMetadata)}();exports.SelfMetadata=SelfMetadata;var SkipSelfMetadata=function(){function SkipSelfMetadata(){}return SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()"},SkipSelfMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],SkipSelfMetadata)}();exports.SkipSelfMetadata=SkipSelfMetadata;var HostMetadata=function(){function HostMetadata(){}return HostMetadata.prototype.toString=function(){return"@Host()"},HostMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],HostMetadata)}();exports.HostMetadata=HostMetadata},{"angular2/src/facade/lang":195}],142:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),OpaqueToken=function(){function OpaqueToken(_desc){this._desc=_desc}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},OpaqueToken=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],OpaqueToken)}();exports.OpaqueToken=OpaqueToken},{"angular2/src/facade/lang":195}],143:[function(require,module,exports){"use strict";function bind(token){return new ProviderBuilder(token)}function provide(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;return new Provider(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi})}function resolveFactory(provider){var factoryFn,resolvedDeps;if(lang_1.isPresent(provider.useClass)){var useClass=forward_ref_1.resolveForwardRef(provider.useClass);factoryFn=reflection_1.reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else lang_1.isPresent(provider.useExisting)?(factoryFn=function(aliasInstance){return aliasInstance},resolvedDeps=[Dependency.fromKey(key_1.Key.get(provider.useExisting))]):lang_1.isPresent(provider.useFactory)?(factoryFn=provider.useFactory,resolvedDeps=_constructDependencies(provider.useFactory,provider.dependencies)):(factoryFn=function(){return provider.useValue},resolvedDeps=_EMPTY_LIST);return new ResolvedFactory(factoryFn,resolvedDeps)}function resolveProvider(provider){return new ResolvedProvider_(key_1.Key.get(provider.token),[resolveFactory(provider)],provider.multi)}function resolveProviders(providers){var normalized=_normalizeProviders(providers,[]),resolved=normalized.map(resolveProvider);return collection_1.MapWrapper.values(mergeResolvedProviders(resolved,new Map))}function mergeResolvedProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(lang_1.isPresent(existing)){if(provider.multiProvider!==existing.multiProvider)throw new exceptions_2.MixingMultiProvidersWithRegularProvidersError(existing,provider);if(provider.multiProvider)for(var j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{var resolvedProvider;resolvedProvider=provider.multiProvider?new ResolvedProvider_(provider.key,collection_1.ListWrapper.clone(provider.resolvedFactories),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}function _normalizeProviders(providers,res){return providers.forEach(function(b){if(b instanceof lang_1.Type)res.push(provide(b,{useClass:b}));else if(b instanceof Provider)res.push(b);else{if(!(b instanceof Array))throw b instanceof ProviderBuilder?new exceptions_2.InvalidProviderError(b.token):new exceptions_2.InvalidProviderError(b);_normalizeProviders(b,res)}}),res}function _constructDependencies(factoryFunction,dependencies){if(lang_1.isBlank(dependencies))return _dependenciesFor(factoryFunction);var params=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(factoryFunction,t,params)})}function _dependenciesFor(typeOrFunc){var params=reflection_1.reflector.parameters(typeOrFunc);if(lang_1.isBlank(params))return[];if(params.some(lang_1.isBlank))throw new exceptions_2.NoAnnotationError(typeOrFunc,params);return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var depProps=[],token=null,optional=!1;if(!lang_1.isArray(metadata))return metadata instanceof metadata_1.InjectMetadata?_createDependency(metadata.token,optional,null,null,depProps):_createDependency(metadata,optional,null,null,depProps);for(var lowerBoundVisibility=null,upperBoundVisibility=null,i=0;i<metadata.length;++i){var paramMetadata=metadata[i];paramMetadata instanceof lang_1.Type?token=paramMetadata:paramMetadata instanceof metadata_1.InjectMetadata?token=paramMetadata.token:paramMetadata instanceof metadata_1.OptionalMetadata?optional=!0:paramMetadata instanceof metadata_1.SelfMetadata?upperBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.HostMetadata?upperBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.SkipSelfMetadata?lowerBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.DependencyMetadata&&(lang_1.isPresent(paramMetadata.token)&&(token=paramMetadata.token),depProps.push(paramMetadata))}if(token=forward_ref_1.resolveForwardRef(token),lang_1.isPresent(token))return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps);throw new exceptions_2.NoAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new Dependency(key_1.Key.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),reflection_1=require("angular2/src/core/reflection/reflection"),key_1=require("./key"),metadata_1=require("./metadata"),exceptions_2=require("./exceptions"),forward_ref_1=require("./forward_ref"),Dependency=function(){function Dependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key,this.optional=optional,this.lowerBoundVisibility=lowerBoundVisibility,this.upperBoundVisibility=upperBoundVisibility,this.properties=properties}return Dependency.fromKey=function(key){return new Dependency(key,!1,null,null,[])},Dependency}();exports.Dependency=Dependency;var _EMPTY_LIST=lang_1.CONST_EXPR([]),Provider=function(){function Provider(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.dependencies=deps,this._multi=multi}return Object.defineProperty(Provider.prototype,"multi",{get:function(){return lang_1.normalizeBool(this._multi)},enumerable:!0,configurable:!0}),Provider=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],Provider)}();exports.Provider=Provider;var Binding=function(_super){function Binding(token,_a){var toClass=_a.toClass,toValue=_a.toValue,toAlias=_a.toAlias,toFactory=_a.toFactory,deps=_a.deps,multi=_a.multi;_super.call(this,token,{useClass:toClass,useValue:toValue,useExisting:toAlias,useFactory:toFactory,deps:deps,multi:multi})}return __extends(Binding,_super),Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),Binding=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],Binding)}(Provider);exports.Binding=Binding;var ResolvedProvider_=function(){function ResolvedProvider_(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider}return Object.defineProperty(ResolvedProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedProvider_}();exports.ResolvedProvider_=ResolvedProvider_;var ResolvedFactory=function(){function ResolvedFactory(factory,dependencies){this.factory=factory,this.dependencies=dependencies}return ResolvedFactory}();exports.ResolvedFactory=ResolvedFactory,exports.bind=bind,exports.provide=provide;var ProviderBuilder=function(){function ProviderBuilder(token){this.token=token}return ProviderBuilder.prototype.toClass=function(type){if(!lang_1.isType(type))throw new exceptions_1.BaseException('Trying to create a class provider but "'+lang_1.stringify(type)+'" is not a class!');return new Provider(this.token,{useClass:type})},ProviderBuilder.prototype.toValue=function(value){return new Provider(this.token,{useValue:value})},ProviderBuilder.prototype.toAlias=function(aliasToken){if(lang_1.isBlank(aliasToken))throw new exceptions_1.BaseException("Can not alias "+lang_1.stringify(this.token)+" to a blank value!");return new Provider(this.token,{useExisting:aliasToken})},ProviderBuilder.prototype.toFactory=function(factory,dependencies){if(!lang_1.isFunction(factory))throw new exceptions_1.BaseException('Trying to create a factory provider but "'+lang_1.stringify(factory)+'" is not a function!');return new Provider(this.token,{useFactory:factory,deps:dependencies})},ProviderBuilder}();exports.ProviderBuilder=ProviderBuilder,exports.resolveFactory=resolveFactory,exports.resolveProvider=resolveProvider,exports.resolveProviders=resolveProviders,exports.mergeResolvedProviders=mergeResolvedProviders},{"./exceptions":137,"./forward_ref":138,"./key":140,"./metadata":141,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],144:[function(require,module,exports){"use strict";var directive_resolver_1=require("./linker/directive_resolver");exports.DirectiveResolver=directive_resolver_1.DirectiveResolver;var view_resolver_1=require("./linker/view_resolver");exports.ViewResolver=view_resolver_1.ViewResolver;var compiler_1=require("./linker/compiler");exports.Compiler=compiler_1.Compiler;var view_manager_1=require("./linker/view_manager");exports.AppViewManager=view_manager_1.AppViewManager;var query_list_1=require("./linker/query_list");exports.QueryList=query_list_1.QueryList;var dynamic_component_loader_1=require("./linker/dynamic_component_loader");exports.DynamicComponentLoader=dynamic_component_loader_1.DynamicComponentLoader;var element_ref_1=require("./linker/element_ref");exports.ElementRef=element_ref_1.ElementRef;var template_ref_1=require("./linker/template_ref");exports.TemplateRef=template_ref_1.TemplateRef;var view_ref_1=require("./linker/view_ref");exports.EmbeddedViewRef=view_ref_1.EmbeddedViewRef,exports.HostViewRef=view_ref_1.HostViewRef,exports.ViewRef=view_ref_1.ViewRef,exports.HostViewFactoryRef=view_ref_1.HostViewFactoryRef;var view_container_ref_1=require("./linker/view_container_ref");exports.ViewContainerRef=view_container_ref_1.ViewContainerRef;var dynamic_component_loader_2=require("./linker/dynamic_component_loader");exports.ComponentRef=dynamic_component_loader_2.ComponentRef},{"./linker/compiler":145,"./linker/directive_resolver":147,"./linker/dynamic_component_loader":148,"./linker/element_ref":150,"./linker/query_list":153,"./linker/template_ref":155,"./linker/view_container_ref":157,"./linker/view_manager":158,"./linker/view_ref":159,"./linker/view_resolver":160}],145:[function(require,module,exports){"use strict";function isHostViewFactory(type){return type instanceof view_1.HostViewFactory}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),async_1=require("angular2/src/facade/async"),reflection_1=require("angular2/src/core/reflection/reflection"),view_1=require("angular2/src/core/linker/view"),view_ref_1=require("angular2/src/core/linker/view_ref"),Compiler=function(){function Compiler(){}return Compiler}();exports.Compiler=Compiler;var Compiler_=function(_super){function Compiler_(){_super.apply(this,arguments)}return __extends(Compiler_,_super),Compiler_.prototype.compileInHost=function(componentType){var metadatas=reflection_1.reflector.annotations(componentType),hostViewFactory=metadatas.find(isHostViewFactory);if(lang_1.isBlank(hostViewFactory))throw new exceptions_1.BaseException("No precompiled component "+lang_1.stringify(componentType)+" found");return async_1.PromiseWrapper.resolve(new view_ref_1.HostViewFactoryRef_(hostViewFactory))},Compiler_.prototype.clearCache=function(){},Compiler_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],Compiler_)}(Compiler);exports.Compiler_=Compiler_},{"angular2/src/core/di":135,"angular2/src/core/linker/view":156,"angular2/src/core/linker/view_ref":159,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/async":187,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],146:[function(require,module,exports){"use strict";function hasLifecycleHook(lcInterface,token){if(!(token instanceof lang_1.Type))return!1;var proto=token.prototype;switch(lcInterface){case interfaces_1.LifecycleHooks.AfterContentInit:return!!proto.ngAfterContentInit;case interfaces_1.LifecycleHooks.AfterContentChecked:return!!proto.ngAfterContentChecked;case interfaces_1.LifecycleHooks.AfterViewInit:return!!proto.ngAfterViewInit;case interfaces_1.LifecycleHooks.AfterViewChecked:return!!proto.ngAfterViewChecked;case interfaces_1.LifecycleHooks.OnChanges:return!!proto.ngOnChanges;case interfaces_1.LifecycleHooks.DoCheck:return!!proto.ngDoCheck;case interfaces_1.LifecycleHooks.OnDestroy:return!!proto.ngOnDestroy;case interfaces_1.LifecycleHooks.OnInit:return!!proto.ngOnInit;default:return!1}}var lang_1=require("angular2/src/facade/lang"),interfaces_1=require("./interfaces");exports.hasLifecycleHook=hasLifecycleHook},{"./interfaces":151,"angular2/src/facade/lang":195}],147:[function(require,module,exports){"use strict";function _isDirectiveMetadata(type){return type instanceof metadata_1.DirectiveMetadata}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),metadata_1=require("angular2/src/core/metadata"),reflection_1=require("angular2/src/core/reflection/reflection"),reflector_reader_1=require("angular2/src/core/reflection/reflector_reader"),DirectiveResolver=function(){function DirectiveResolver(_reflector){lang_1.isPresent(_reflector)?this._reflector=_reflector:this._reflector=reflection_1.reflector}return DirectiveResolver.prototype.resolve=function(type){var typeMetadata=this._reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(typeMetadata)){var metadata=typeMetadata.find(_isDirectiveMetadata);if(lang_1.isPresent(metadata)){var propertyMetadata=this._reflector.propMetadata(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,type)}}throw new exceptions_1.BaseException("No Directive annotation found on "+lang_1.stringify(type))},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,directiveType){var inputs=[],outputs=[],host={},queries={};return collection_1.StringMapWrapper.forEach(propertyMetadata,function(metadata,propName){metadata.forEach(function(a){if(a instanceof metadata_1.InputMetadata&&(lang_1.isPresent(a.bindingPropertyName)?inputs.push(propName+": "+a.bindingPropertyName):inputs.push(propName)),a instanceof metadata_1.OutputMetadata&&(lang_1.isPresent(a.bindingPropertyName)?outputs.push(propName+": "+a.bindingPropertyName):outputs.push(propName)),a instanceof metadata_1.HostBindingMetadata&&(lang_1.isPresent(a.hostPropertyName)?host["["+a.hostPropertyName+"]"]=propName:host["["+propName+"]"]=propName),a instanceof metadata_1.HostListenerMetadata){var args=lang_1.isPresent(a.args)?a.args.join(", "):"";host["("+a.eventName+")"]=propName+"("+args+")"}a instanceof metadata_1.ContentChildrenMetadata&&(queries[propName]=a),a instanceof metadata_1.ViewChildrenMetadata&&(queries[propName]=a),a instanceof metadata_1.ContentChildMetadata&&(queries[propName]=a),a instanceof metadata_1.ViewChildMetadata&&(queries[propName]=a)})}),this._merge(dm,inputs,outputs,host,queries,directiveType)},DirectiveResolver.prototype._merge=function(dm,inputs,outputs,host,queries,directiveType){var mergedOutputs,mergedInputs=lang_1.isPresent(dm.inputs)?collection_1.ListWrapper.concat(dm.inputs,inputs):inputs;lang_1.isPresent(dm.outputs)?(dm.outputs.forEach(function(propName){if(collection_1.ListWrapper.contains(outputs,propName))throw new exceptions_1.BaseException("Output event '"+propName+"' defined multiple times in '"+lang_1.stringify(directiveType)+"'")}),mergedOutputs=collection_1.ListWrapper.concat(dm.outputs,outputs)):mergedOutputs=outputs;var mergedHost=lang_1.isPresent(dm.host)?collection_1.StringMapWrapper.merge(dm.host,host):host,mergedQueries=lang_1.isPresent(dm.queries)?collection_1.StringMapWrapper.merge(dm.queries,queries):queries;return dm instanceof metadata_1.ComponentMetadata?new metadata_1.ComponentMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,moduleId:dm.moduleId,queries:mergedQueries,changeDetection:dm.changeDetection,providers:dm.providers,viewProviders:dm.viewProviders}):new metadata_1.DirectiveMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,queries:mergedQueries,providers:dm.providers})},DirectiveResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[reflector_reader_1.ReflectorReader])],DirectiveResolver)}();exports.DirectiveResolver=DirectiveResolver,exports.CODEGEN_DIRECTIVE_RESOLVER=new DirectiveResolver(reflection_1.reflector)},{"angular2/src/core/di":135,"angular2/src/core/metadata":162,"angular2/src/core/reflection/reflection":174,"angular2/src/core/reflection/reflector_reader":177,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],148:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),compiler_1=require("./compiler"),lang_1=require("angular2/src/facade/lang"),view_manager_1=require("angular2/src/core/linker/view_manager"),ComponentRef=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return this.location.internalElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostComponent",{get:function(){return this.instance},enumerable:!0,configurable:!0}),ComponentRef}();exports.ComponentRef=ComponentRef;var ComponentRef_=function(_super){function ComponentRef_(location,instance,componentType,injector,_dispose){_super.call(this),this._dispose=_dispose,this.location=location,this.instance=instance,this.componentType=componentType,this.injector=injector}return __extends(ComponentRef_,_super),Object.defineProperty(ComponentRef_.prototype,"hostComponentType",{get:function(){return this.componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.dispose=function(){this._dispose()},ComponentRef_}(ComponentRef);exports.ComponentRef_=ComponentRef_;var DynamicComponentLoader=function(){function DynamicComponentLoader(){}return DynamicComponentLoader}();exports.DynamicComponentLoader=DynamicComponentLoader;var DynamicComponentLoader_=function(_super){function DynamicComponentLoader_(_compiler,_viewManager){_super.call(this),this._compiler=_compiler,this._viewManager=_viewManager}return __extends(DynamicComponentLoader_,_super),DynamicComponentLoader_.prototype.loadAsRoot=function(type,overrideSelector,injector,onDispose,projectableNodes){var _this=this;return this._compiler.compileInHost(type).then(function(hostProtoViewRef){var hostViewRef=_this._viewManager.createRootHostView(hostProtoViewRef,overrideSelector,injector,projectableNodes),newLocation=_this._viewManager.getHostElement(hostViewRef),component=_this._viewManager.getComponent(newLocation),dispose=function(){lang_1.isPresent(onDispose)&&onDispose(),_this._viewManager.destroyRootHostView(hostViewRef)};return new ComponentRef_(newLocation,component,type,injector,dispose)})},DynamicComponentLoader_.prototype.loadIntoLocation=function(type,hostLocation,anchorName,providers,projectableNodes){return void 0===providers&&(providers=null),void 0===projectableNodes&&(projectableNodes=null),this.loadNextToLocation(type,this._viewManager.getNamedElementInComponentView(hostLocation,anchorName),providers,projectableNodes)},DynamicComponentLoader_.prototype.loadNextToLocation=function(type,location,providers,projectableNodes){var _this=this;return void 0===providers&&(providers=null),void 0===projectableNodes&&(projectableNodes=null),this._compiler.compileInHost(type).then(function(hostProtoViewRef){var viewContainer=_this._viewManager.getViewContainer(location),hostViewRef=viewContainer.createHostView(hostProtoViewRef,viewContainer.length,providers,projectableNodes),newLocation=_this._viewManager.getHostElement(hostViewRef),component=_this._viewManager.getComponent(newLocation),dispose=function(){var index=viewContainer.indexOf(hostViewRef);hostViewRef.destroyed||-1===index||viewContainer.remove(index)};return new ComponentRef_(newLocation,component,type,null,dispose)})},DynamicComponentLoader_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[compiler_1.Compiler,view_manager_1.AppViewManager])],DynamicComponentLoader_)}(DynamicComponentLoader);exports.DynamicComponentLoader_=DynamicComponentLoader_},{"./compiler":145,"angular2/src/core/di":135,"angular2/src/core/linker/view_manager":158,"angular2/src/facade/lang":195}],149:[function(require,module,exports){"use strict";function setProvidersVisibility(providers,visibility,result){for(var i=0;i<providers.length;i++)result.set(providers[i].key.id,visibility)}var _staticKeys,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),di_1=require("angular2/src/core/di"),provider_1=require("angular2/src/core/di/provider"),injector_1=require("angular2/src/core/di/injector"),provider_2=require("angular2/src/core/di/provider"),di_2=require("../metadata/di"),view_type_1=require("./view_type"),element_ref_1=require("./element_ref"),view_container_ref_1=require("./view_container_ref"),element_ref_2=require("./element_ref"),api_1=require("angular2/src/core/render/api"),template_ref_1=require("./template_ref"),directives_1=require("../metadata/directives"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),query_list_1=require("./query_list"),reflection_1=require("angular2/src/core/reflection/reflection"),pipe_provider_1=require("angular2/src/core/pipes/pipe_provider"),view_container_ref_2=require("./view_container_ref"),StaticKeys=function(){function StaticKeys(){this.templateRefId=di_1.Key.get(template_ref_1.TemplateRef).id,this.viewContainerId=di_1.Key.get(view_container_ref_1.ViewContainerRef).id,this.changeDetectorRefId=di_1.Key.get(change_detection_1.ChangeDetectorRef).id,this.elementRefId=di_1.Key.get(element_ref_2.ElementRef).id,this.rendererId=di_1.Key.get(api_1.Renderer).id}return StaticKeys.instance=function(){return lang_1.isBlank(_staticKeys)&&(_staticKeys=new StaticKeys),_staticKeys},StaticKeys}();exports.StaticKeys=StaticKeys;var DirectiveDependency=function(_super){function DirectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties,attributeName,queryDecorator){_super.call(this,key,optional,lowerBoundVisibility,upperBoundVisibility,properties),this.attributeName=attributeName,this.queryDecorator=queryDecorator,this._verify()}return __extends(DirectiveDependency,_super),DirectiveDependency.prototype._verify=function(){var count=0;if(lang_1.isPresent(this.queryDecorator)&&count++,lang_1.isPresent(this.attributeName)&&count++,count>1)throw new exceptions_1.BaseException("A directive injectable can contain only one of the following @Attribute or @Query.")},DirectiveDependency.createFrom=function(d){return new DirectiveDependency(d.key,d.optional,d.lowerBoundVisibility,d.upperBoundVisibility,d.properties,DirectiveDependency._attributeName(d.properties),DirectiveDependency._query(d.properties))},DirectiveDependency._attributeName=function(properties){var p=properties.find(function(p){return p instanceof di_2.AttributeMetadata});return lang_1.isPresent(p)?p.attributeName:null},DirectiveDependency._query=function(properties){return properties.find(function(p){return p instanceof di_2.QueryMetadata})},DirectiveDependency}(di_1.Dependency);exports.DirectiveDependency=DirectiveDependency;var DirectiveProvider=function(_super){function DirectiveProvider(key,factory,deps,isComponent,providers,viewProviders,queries){_super.call(this,key,[new provider_2.ResolvedFactory(factory,deps)],!1),this.isComponent=isComponent,this.providers=providers,this.viewProviders=viewProviders,this.queries=queries}return __extends(DirectiveProvider,_super),Object.defineProperty(DirectiveProvider.prototype,"displayName",{get:function(){return this.key.displayName},enumerable:!0,configurable:!0}),DirectiveProvider.createFromType=function(type,meta){var provider=new di_1.Provider(type,{useClass:type});lang_1.isBlank(meta)&&(meta=new directives_1.DirectiveMetadata);var rb=provider_2.resolveProvider(provider),rf=rb.resolvedFactories[0],deps=rf.dependencies.map(DirectiveDependency.createFrom),isComponent=meta instanceof directives_1.ComponentMetadata,resolvedProviders=lang_1.isPresent(meta.providers)?di_1.Injector.resolve(meta.providers):null,resolvedViewProviders=meta instanceof directives_1.ComponentMetadata&&lang_1.isPresent(meta.viewProviders)?di_1.Injector.resolve(meta.viewProviders):null,queries=[];return lang_1.isPresent(meta.queries)&&collection_1.StringMapWrapper.forEach(meta.queries,function(meta,fieldName){var setter=reflection_1.reflector.setter(fieldName);queries.push(new QueryMetadataWithSetter(setter,meta))}),deps.forEach(function(d){lang_1.isPresent(d.queryDecorator)&&queries.push(new QueryMetadataWithSetter(null,d.queryDecorator))}),new DirectiveProvider(rb.key,rf.factory,deps,isComponent,resolvedProviders,resolvedViewProviders,queries)},DirectiveProvider}(provider_2.ResolvedProvider_);exports.DirectiveProvider=DirectiveProvider;var QueryMetadataWithSetter=function(){function QueryMetadataWithSetter(setter,metadata){this.setter=setter,this.metadata=metadata}return QueryMetadataWithSetter}();exports.QueryMetadataWithSetter=QueryMetadataWithSetter;var AppProtoElement=function(){function AppProtoElement(firstProviderIsComponent,index,attributes,pwvs,protoQueryRefs,directiveVariableBindings){this.firstProviderIsComponent=firstProviderIsComponent,this.index=index,this.attributes=attributes,this.protoQueryRefs=protoQueryRefs,this.directiveVariableBindings=directiveVariableBindings;var length=pwvs.length;length>0?this.protoInjector=new injector_1.ProtoInjector(pwvs):(this.protoInjector=null,this.protoQueryRefs=[])}return AppProtoElement.create=function(metadataCache,index,attributes,directiveTypes,directiveVariableBindings){for(var componentDirProvider=null,mergedProvidersMap=new Map,providerVisibilityMap=new Map,providers=collection_1.ListWrapper.createGrowableSize(directiveTypes.length),protoQueryRefs=[],i=0;i<directiveTypes.length;i++){var dirProvider=metadataCache.getResolvedDirectiveMetadata(directiveTypes[i]);providers[i]=new injector_1.ProviderWithVisibility(dirProvider,dirProvider.isComponent?injector_1.Visibility.PublicAndPrivate:injector_1.Visibility.Public),dirProvider.isComponent?componentDirProvider=dirProvider:lang_1.isPresent(dirProvider.providers)&&(provider_1.mergeResolvedProviders(dirProvider.providers,mergedProvidersMap),setProvidersVisibility(dirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap)),lang_1.isPresent(dirProvider.viewProviders)&&(provider_1.mergeResolvedProviders(dirProvider.viewProviders,mergedProvidersMap),setProvidersVisibility(dirProvider.viewProviders,injector_1.Visibility.Private,providerVisibilityMap));for(var queryIdx=0;queryIdx<dirProvider.queries.length;queryIdx++){var q=dirProvider.queries[queryIdx];protoQueryRefs.push(new ProtoQueryRef(i,q.setter,q.metadata))}}return lang_1.isPresent(componentDirProvider)&&lang_1.isPresent(componentDirProvider.providers)&&(provider_1.mergeResolvedProviders(componentDirProvider.providers,mergedProvidersMap),setProvidersVisibility(componentDirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap)),mergedProvidersMap.forEach(function(provider,_){providers.push(new injector_1.ProviderWithVisibility(provider,providerVisibilityMap.get(provider.key.id)))}),new AppProtoElement(lang_1.isPresent(componentDirProvider),index,attributes,providers,protoQueryRefs,directiveVariableBindings)},AppProtoElement.prototype.getProviderAtIndex=function(index){return this.protoInjector.getProviderAtIndex(index)},AppProtoElement}();exports.AppProtoElement=AppProtoElement;var _Context=function(){function _Context(element,componentElement,injector){this.element=element,this.componentElement=componentElement,this.injector=injector}return _Context}(),InjectorWithHostBoundary=function(){function InjectorWithHostBoundary(injector,hostInjectorBoundary){this.injector=injector,this.hostInjectorBoundary=hostInjectorBoundary}return InjectorWithHostBoundary}();exports.InjectorWithHostBoundary=InjectorWithHostBoundary;var AppElement=function(){function AppElement(proto,parentView,parent,nativeElement,embeddedViewFactory){var _this=this;this.proto=proto,this.parentView=parentView,this.parent=parent,this.nativeElement=nativeElement,this.embeddedViewFactory=embeddedViewFactory,this.nestedViews=null,this.componentView=null,this.ref=new element_ref_1.ElementRef_(this);var parentInjector=lang_1.isPresent(parent)?parent._injector:parentView.parentInjector;if(lang_1.isPresent(this.proto.protoInjector)){var isBoundary;isBoundary=lang_1.isPresent(parent)&&lang_1.isPresent(parent.proto.protoInjector)?!1:parentView.hostInjectorBoundary,this._queryStrategy=this._buildQueryStrategy(),this._injector=new di_1.Injector(this.proto.protoInjector,parentInjector,isBoundary,this,function(){return _this._debugContext()});var injectorStrategy=this._injector.internalStrategy;this._strategy=injectorStrategy instanceof injector_1.InjectorInlineStrategy?new ElementDirectiveInlineStrategy(injectorStrategy,this):new ElementDirectiveDynamicStrategy(injectorStrategy,this),this._strategy.init()}else this._queryStrategy=null,this._injector=parentInjector,this._strategy=null}return AppElement.getViewParentInjector=function(parentViewType,containerAppElement,imperativelyCreatedProviders,rootInjector){var parentInjector,hostInjectorBoundary;switch(parentViewType){case view_type_1.ViewType.COMPONENT:parentInjector=containerAppElement._injector,hostInjectorBoundary=!0;break;case view_type_1.ViewType.EMBEDDED:parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector,hostInjectorBoundary=containerAppElement._injector.hostBoundary;break;case view_type_1.ViewType.HOST:if(lang_1.isPresent(containerAppElement))if(parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector,lang_1.isPresent(imperativelyCreatedProviders)){var imperativeProvidersWithVisibility=imperativelyCreatedProviders.map(function(p){return new injector_1.ProviderWithVisibility(p,injector_1.Visibility.Public)});parentInjector=new di_1.Injector(new injector_1.ProtoInjector(imperativeProvidersWithVisibility),parentInjector,!0,null,null),hostInjectorBoundary=!1}else hostInjectorBoundary=containerAppElement._injector.hostBoundary;else parentInjector=rootInjector,hostInjectorBoundary=!0}return new InjectorWithHostBoundary(parentInjector,hostInjectorBoundary)},AppElement.prototype.attachComponentView=function(componentView){this.componentView=componentView},AppElement.prototype._debugContext=function(){var c=this.parentView.getDebugContext(this,null,null);return lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.injector):null},AppElement.prototype.hasVariableBinding=function(name){var vb=this.proto.directiveVariableBindings;return lang_1.isPresent(vb)&&collection_1.StringMapWrapper.contains(vb,name)},AppElement.prototype.getVariableBinding=function(name){var index=this.proto.directiveVariableBindings[name];return lang_1.isPresent(index)?this.getDirectiveAtIndex(index):this.getElementRef()},AppElement.prototype.get=function(token){return this._injector.get(token)},AppElement.prototype.hasDirective=function(type){return lang_1.isPresent(this._injector.getOptional(type))},AppElement.prototype.getComponent=function(){return lang_1.isPresent(this._strategy)?this._strategy.getComponent():null},AppElement.prototype.getInjector=function(){return this._injector},AppElement.prototype.getElementRef=function(){return this.ref},AppElement.prototype.getViewContainerRef=function(){return new view_container_ref_2.ViewContainerRef_(this)},AppElement.prototype.getTemplateRef=function(){return lang_1.isPresent(this.embeddedViewFactory)?new template_ref_1.TemplateRef_(this.ref):null},AppElement.prototype.getDependency=function(injector,provider,dep){if(provider instanceof DirectiveProvider){var dirDep=dep;if(lang_1.isPresent(dirDep.attributeName))return this._buildAttribute(dirDep);if(lang_1.isPresent(dirDep.queryDecorator))return this._queryStrategy.findQuery(dirDep.queryDecorator).list;if(dirDep.key.id===StaticKeys.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new _ComponentViewChangeDetectorRef(this):this.parentView.changeDetector.ref;if(dirDep.key.id===StaticKeys.instance().elementRefId)return this.getElementRef();if(dirDep.key.id===StaticKeys.instance().viewContainerId)return this.getViewContainerRef();if(dirDep.key.id===StaticKeys.instance().templateRefId){var tr=this.getTemplateRef();if(lang_1.isBlank(tr)&&!dirDep.optional)throw new di_1.NoProviderError(null,dirDep.key);return tr}if(dirDep.key.id===StaticKeys.instance().rendererId)return this.parentView.renderer}else if(provider instanceof pipe_provider_1.PipeProvider&&dep.key.id===StaticKeys.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new _ComponentViewChangeDetectorRef(this):this.parentView.changeDetector;
return injector_1.UNDEFINED},AppElement.prototype._buildAttribute=function(dep){var attributes=this.proto.attributes;return lang_1.isPresent(attributes)&&collection_1.StringMapWrapper.contains(attributes,dep.attributeName)?attributes[dep.attributeName]:null},AppElement.prototype.addDirectivesMatchingQuery=function(query,list){var templateRef=this.getTemplateRef();query.selector===template_ref_1.TemplateRef&&lang_1.isPresent(templateRef)&&list.push(templateRef),null!=this._strategy&&this._strategy.addDirectivesMatchingQuery(query,list)},AppElement.prototype._buildQueryStrategy=function(){return 0===this.proto.protoQueryRefs.length?_emptyQueryStrategy:this.proto.protoQueryRefs.length<=InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES?new InlineQueryStrategy(this):new DynamicQueryStrategy(this)},AppElement.prototype.getDirectiveAtIndex=function(index){return this._injector.getAt(index)},AppElement.prototype.ngAfterViewChecked=function(){lang_1.isPresent(this._queryStrategy)&&this._queryStrategy.updateViewQueries()},AppElement.prototype.ngAfterContentChecked=function(){lang_1.isPresent(this._queryStrategy)&&this._queryStrategy.updateContentQueries()},AppElement.prototype.traverseAndSetQueriesAsDirty=function(){for(var inj=this;lang_1.isPresent(inj);)inj._setQueriesAsDirty(),inj=lang_1.isBlank(inj.parent)&&inj.parentView.proto.type===view_type_1.ViewType.EMBEDDED?inj.parentView.containerAppElement:inj.parent},AppElement.prototype._setQueriesAsDirty=function(){lang_1.isPresent(this._queryStrategy)&&this._queryStrategy.setContentQueriesAsDirty(),this.parentView.proto.type===view_type_1.ViewType.COMPONENT&&this.parentView.containerAppElement._queryStrategy.setViewQueriesAsDirty()},AppElement}();exports.AppElement=AppElement;var _EmptyQueryStrategy=function(){function _EmptyQueryStrategy(){}return _EmptyQueryStrategy.prototype.setContentQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.setViewQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.updateContentQueries=function(){},_EmptyQueryStrategy.prototype.updateViewQueries=function(){},_EmptyQueryStrategy.prototype.findQuery=function(query){throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")},_EmptyQueryStrategy}(),_emptyQueryStrategy=new _EmptyQueryStrategy,InlineQueryStrategy=function(){function InlineQueryStrategy(ei){var protoRefs=ei.proto.protoQueryRefs;protoRefs.length>0&&(this.query0=new QueryRef(protoRefs[0],ei)),protoRefs.length>1&&(this.query1=new QueryRef(protoRefs[1],ei)),protoRefs.length>2&&(this.query2=new QueryRef(protoRefs[2],ei))}return InlineQueryStrategy.prototype.setContentQueriesAsDirty=function(){lang_1.isPresent(this.query0)&&!this.query0.isViewQuery&&(this.query0.dirty=!0),lang_1.isPresent(this.query1)&&!this.query1.isViewQuery&&(this.query1.dirty=!0),lang_1.isPresent(this.query2)&&!this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.setViewQueriesAsDirty=function(){lang_1.isPresent(this.query0)&&this.query0.isViewQuery&&(this.query0.dirty=!0),lang_1.isPresent(this.query1)&&this.query1.isViewQuery&&(this.query1.dirty=!0),lang_1.isPresent(this.query2)&&this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.updateContentQueries=function(){lang_1.isPresent(this.query0)&&!this.query0.isViewQuery&&this.query0.update(),lang_1.isPresent(this.query1)&&!this.query1.isViewQuery&&this.query1.update(),lang_1.isPresent(this.query2)&&!this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.updateViewQueries=function(){lang_1.isPresent(this.query0)&&this.query0.isViewQuery&&this.query0.update(),lang_1.isPresent(this.query1)&&this.query1.isViewQuery&&this.query1.update(),lang_1.isPresent(this.query2)&&this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.findQuery=function(query){if(lang_1.isPresent(this.query0)&&this.query0.protoQueryRef.query===query)return this.query0;if(lang_1.isPresent(this.query1)&&this.query1.protoQueryRef.query===query)return this.query1;if(lang_1.isPresent(this.query2)&&this.query2.protoQueryRef.query===query)return this.query2;throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")},InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES=3,InlineQueryStrategy}(),DynamicQueryStrategy=function(){function DynamicQueryStrategy(ei){this.queries=ei.proto.protoQueryRefs.map(function(p){return new QueryRef(p,ei)})}return DynamicQueryStrategy.prototype.setContentQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery||(q.dirty=!0)}},DynamicQueryStrategy.prototype.setViewQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery&&(q.dirty=!0)}},DynamicQueryStrategy.prototype.updateContentQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery||q.update()}},DynamicQueryStrategy.prototype.updateViewQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery&&q.update()}},DynamicQueryStrategy.prototype.findQuery=function(query){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.protoQueryRef.query===query)return q}throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")},DynamicQueryStrategy}(),ElementDirectiveInlineStrategy=function(){function ElementDirectiveInlineStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy,this._ei=_ei}return ElementDirectiveInlineStrategy.prototype.init=function(){var i=this.injectorStrategy,p=i.protoStrategy;i.resetConstructionCounter(),p.provider0 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId0)&&i.obj0===injector_1.UNDEFINED&&(i.obj0=i.instantiateProvider(p.provider0,p.visibility0)),p.provider1 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId1)&&i.obj1===injector_1.UNDEFINED&&(i.obj1=i.instantiateProvider(p.provider1,p.visibility1)),p.provider2 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId2)&&i.obj2===injector_1.UNDEFINED&&(i.obj2=i.instantiateProvider(p.provider2,p.visibility2)),p.provider3 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId3)&&i.obj3===injector_1.UNDEFINED&&(i.obj3=i.instantiateProvider(p.provider3,p.visibility3)),p.provider4 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId4)&&i.obj4===injector_1.UNDEFINED&&(i.obj4=i.instantiateProvider(p.provider4,p.visibility4)),p.provider5 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId5)&&i.obj5===injector_1.UNDEFINED&&(i.obj5=i.instantiateProvider(p.provider5,p.visibility5)),p.provider6 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId6)&&i.obj6===injector_1.UNDEFINED&&(i.obj6=i.instantiateProvider(p.provider6,p.visibility6)),p.provider7 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId7)&&i.obj7===injector_1.UNDEFINED&&(i.obj7=i.instantiateProvider(p.provider7,p.visibility7)),p.provider8 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId8)&&i.obj8===injector_1.UNDEFINED&&(i.obj8=i.instantiateProvider(p.provider8,p.visibility8)),p.provider9 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId9)&&i.obj9===injector_1.UNDEFINED&&(i.obj9=i.instantiateProvider(p.provider9,p.visibility9))},ElementDirectiveInlineStrategy.prototype.getComponent=function(){return this.injectorStrategy.obj0},ElementDirectiveInlineStrategy.prototype.isComponentKey=function(key){return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===this.injectorStrategy.protoStrategy.keyId0},ElementDirectiveInlineStrategy.prototype.addDirectivesMatchingQuery=function(query,list){var i=this.injectorStrategy,p=i.protoStrategy;lang_1.isPresent(p.provider0)&&p.provider0.key.token===query.selector&&(i.obj0===injector_1.UNDEFINED&&(i.obj0=i.instantiateProvider(p.provider0,p.visibility0)),list.push(i.obj0)),lang_1.isPresent(p.provider1)&&p.provider1.key.token===query.selector&&(i.obj1===injector_1.UNDEFINED&&(i.obj1=i.instantiateProvider(p.provider1,p.visibility1)),list.push(i.obj1)),lang_1.isPresent(p.provider2)&&p.provider2.key.token===query.selector&&(i.obj2===injector_1.UNDEFINED&&(i.obj2=i.instantiateProvider(p.provider2,p.visibility2)),list.push(i.obj2)),lang_1.isPresent(p.provider3)&&p.provider3.key.token===query.selector&&(i.obj3===injector_1.UNDEFINED&&(i.obj3=i.instantiateProvider(p.provider3,p.visibility3)),list.push(i.obj3)),lang_1.isPresent(p.provider4)&&p.provider4.key.token===query.selector&&(i.obj4===injector_1.UNDEFINED&&(i.obj4=i.instantiateProvider(p.provider4,p.visibility4)),list.push(i.obj4)),lang_1.isPresent(p.provider5)&&p.provider5.key.token===query.selector&&(i.obj5===injector_1.UNDEFINED&&(i.obj5=i.instantiateProvider(p.provider5,p.visibility5)),list.push(i.obj5)),lang_1.isPresent(p.provider6)&&p.provider6.key.token===query.selector&&(i.obj6===injector_1.UNDEFINED&&(i.obj6=i.instantiateProvider(p.provider6,p.visibility6)),list.push(i.obj6)),lang_1.isPresent(p.provider7)&&p.provider7.key.token===query.selector&&(i.obj7===injector_1.UNDEFINED&&(i.obj7=i.instantiateProvider(p.provider7,p.visibility7)),list.push(i.obj7)),lang_1.isPresent(p.provider8)&&p.provider8.key.token===query.selector&&(i.obj8===injector_1.UNDEFINED&&(i.obj8=i.instantiateProvider(p.provider8,p.visibility8)),list.push(i.obj8)),lang_1.isPresent(p.provider9)&&p.provider9.key.token===query.selector&&(i.obj9===injector_1.UNDEFINED&&(i.obj9=i.instantiateProvider(p.provider9,p.visibility9)),list.push(i.obj9))},ElementDirectiveInlineStrategy}(),ElementDirectiveDynamicStrategy=function(){function ElementDirectiveDynamicStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy,this._ei=_ei}return ElementDirectiveDynamicStrategy.prototype.init=function(){var inj=this.injectorStrategy,p=inj.protoStrategy;inj.resetConstructionCounter();for(var i=0;i<p.keyIds.length;i++)p.providers[i]instanceof DirectiveProvider&&lang_1.isPresent(p.keyIds[i])&&inj.objs[i]===injector_1.UNDEFINED&&(inj.objs[i]=inj.instantiateProvider(p.providers[i],p.visibilities[i]))},ElementDirectiveDynamicStrategy.prototype.getComponent=function(){return this.injectorStrategy.objs[0]},ElementDirectiveDynamicStrategy.prototype.isComponentKey=function(key){var p=this.injectorStrategy.protoStrategy;return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===p.keyIds[0]},ElementDirectiveDynamicStrategy.prototype.addDirectivesMatchingQuery=function(query,list){for(var ist=this.injectorStrategy,p=ist.protoStrategy,i=0;i<p.providers.length;i++)p.providers[i].key.token===query.selector&&(ist.objs[i]===injector_1.UNDEFINED&&(ist.objs[i]=ist.instantiateProvider(p.providers[i],p.visibilities[i])),list.push(ist.objs[i]))},ElementDirectiveDynamicStrategy}(),ProtoQueryRef=function(){function ProtoQueryRef(dirIndex,setter,query){this.dirIndex=dirIndex,this.setter=setter,this.query=query}return Object.defineProperty(ProtoQueryRef.prototype,"usesPropertySyntax",{get:function(){return lang_1.isPresent(this.setter)},enumerable:!0,configurable:!0}),ProtoQueryRef}();exports.ProtoQueryRef=ProtoQueryRef;var QueryRef=function(){function QueryRef(protoQueryRef,originator){this.protoQueryRef=protoQueryRef,this.originator=originator,this.list=new query_list_1.QueryList,this.dirty=!0}return Object.defineProperty(QueryRef.prototype,"isViewQuery",{get:function(){return this.protoQueryRef.query.isViewQuery},enumerable:!0,configurable:!0}),QueryRef.prototype.update=function(){if(this.dirty){if(this._update(),this.dirty=!1,this.protoQueryRef.usesPropertySyntax){var dir=this.originator.getDirectiveAtIndex(this.protoQueryRef.dirIndex);this.protoQueryRef.query.first?this.protoQueryRef.setter(dir,this.list.length>0?this.list.first:null):this.protoQueryRef.setter(dir,this.list)}this.list.notifyOnChanges()}},QueryRef.prototype._update=function(){var aggregator=[];if(this.protoQueryRef.query.isViewQuery){var nestedView=this.originator.componentView;lang_1.isPresent(nestedView)&&this._visitView(nestedView,aggregator)}else this._visit(this.originator,aggregator);this.list.reset(aggregator)},QueryRef.prototype._visit=function(inj,aggregator){for(var view=inj.parentView,startIdx=inj.proto.index,i=startIdx;i<view.appElements.length;i++){var curInj=view.appElements[i];if(i>startIdx&&(lang_1.isBlank(curInj.parent)||curInj.parent.proto.index<startIdx))break;(this.protoQueryRef.query.descendants||curInj.parent==this.originator||curInj==this.originator)&&(this._visitInjector(curInj,aggregator),this._visitViewContainerViews(curInj.nestedViews,aggregator))}},QueryRef.prototype._visitInjector=function(inj,aggregator){this.protoQueryRef.query.isVarBindingQuery?this._aggregateVariableBinding(inj,aggregator):this._aggregateDirective(inj,aggregator)},QueryRef.prototype._visitViewContainerViews=function(views,aggregator){if(lang_1.isPresent(views))for(var j=0;j<views.length;j++)this._visitView(views[j],aggregator)},QueryRef.prototype._visitView=function(view,aggregator){for(var i=0;i<view.appElements.length;i++){var inj=view.appElements[i];this._visitInjector(inj,aggregator),this._visitViewContainerViews(inj.nestedViews,aggregator)}},QueryRef.prototype._aggregateVariableBinding=function(inj,aggregator){for(var vb=this.protoQueryRef.query.varBindings,i=0;i<vb.length;++i)inj.hasVariableBinding(vb[i])&&aggregator.push(inj.getVariableBinding(vb[i]))},QueryRef.prototype._aggregateDirective=function(inj,aggregator){inj.addDirectivesMatchingQuery(this.protoQueryRef.query,aggregator)},QueryRef}();exports.QueryRef=QueryRef;var _ComponentViewChangeDetectorRef=function(_super){function _ComponentViewChangeDetectorRef(_appElement){_super.call(this),this._appElement=_appElement}return __extends(_ComponentViewChangeDetectorRef,_super),_ComponentViewChangeDetectorRef.prototype.markForCheck=function(){this._appElement.componentView.changeDetector.ref.markForCheck()},_ComponentViewChangeDetectorRef.prototype.detach=function(){this._appElement.componentView.changeDetector.ref.detach()},_ComponentViewChangeDetectorRef.prototype.detectChanges=function(){this._appElement.componentView.changeDetector.ref.detectChanges()},_ComponentViewChangeDetectorRef.prototype.checkNoChanges=function(){this._appElement.componentView.changeDetector.ref.checkNoChanges()},_ComponentViewChangeDetectorRef.prototype.reattach=function(){this._appElement.componentView.changeDetector.ref.reattach()},_ComponentViewChangeDetectorRef}(change_detection_1.ChangeDetectorRef)},{"../metadata/di":163,"../metadata/directives":164,"./element_ref":150,"./query_list":153,"./template_ref":155,"./view_container_ref":157,"./view_type":161,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/di":135,"angular2/src/core/di/injector":139,"angular2/src/core/di/provider":143,"angular2/src/core/pipes/pipe_provider":166,"angular2/src/core/reflection/reflection":174,"angular2/src/core/render/api":179,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],150:[function(require,module,exports){"use strict";var exceptions_1=require("angular2/src/facade/exceptions"),ElementRef=function(){function ElementRef(){}return Object.defineProperty(ElementRef.prototype,"nativeElement",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ElementRef}();exports.ElementRef=ElementRef;var ElementRef_=function(){function ElementRef_(_appElement){this._appElement=_appElement}return Object.defineProperty(ElementRef_.prototype,"internalElement",{get:function(){return this._appElement},enumerable:!0,configurable:!0}),Object.defineProperty(ElementRef_.prototype,"nativeElement",{get:function(){return this._appElement.nativeElement},enumerable:!0,configurable:!0}),ElementRef_}();exports.ElementRef_=ElementRef_},{"angular2/src/facade/exceptions":192}],151:[function(require,module,exports){"use strict";!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(exports.LifecycleHooks||(exports.LifecycleHooks={}));var LifecycleHooks=exports.LifecycleHooks;exports.LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked]},{}],152:[function(require,module,exports){"use strict";function _isPipeMetadata(type){return type instanceof metadata_1.PipeMetadata}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),metadata_1=require("angular2/src/core/metadata"),reflector_reader_1=require("angular2/src/core/reflection/reflector_reader"),reflection_1=require("angular2/src/core/reflection/reflection"),PipeResolver=function(){function PipeResolver(_reflector){lang_1.isPresent(_reflector)?this._reflector=_reflector:this._reflector=reflection_1.reflector}return PipeResolver.prototype.resolve=function(type){var metas=this._reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(metas)){var annotation=metas.find(_isPipeMetadata);if(lang_1.isPresent(annotation))return annotation}throw new exceptions_1.BaseException("No Pipe decorator found on "+lang_1.stringify(type))},PipeResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[reflector_reader_1.ReflectorReader])],PipeResolver)}();exports.PipeResolver=PipeResolver,exports.CODEGEN_PIPE_RESOLVER=new PipeResolver(reflection_1.reflector)},{"angular2/src/core/di":135,"angular2/src/core/metadata":162,"angular2/src/core/reflection/reflection":174,"angular2/src/core/reflection/reflector_reader":177,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],153:[function(require,module,exports){"use strict";var collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),QueryList=function(){function QueryList(){this._results=[],this._emitter=new async_1.EventEmitter}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return collection_1.ListWrapper.first(this._results)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return collection_1.ListWrapper.last(this._results)},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(fn){return this._results.map(fn)},QueryList.prototype.filter=function(fn){return this._results.filter(fn)},QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)},QueryList.prototype.forEach=function(fn){this._results.forEach(fn)},QueryList.prototype.toArray=function(){return collection_1.ListWrapper.clone(this._results)},QueryList.prototype[lang_1.getSymbolIterator()]=function(){return this._results[lang_1.getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(res){this._results=res},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList}();exports.QueryList=QueryList},{"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],154:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("../di"),lang_1=require("angular2/src/facade/lang"),element_1=require("./element"),directive_resolver_1=require("./directive_resolver"),pipe_provider_1=require("../pipes/pipe_provider"),pipe_resolver_1=require("./pipe_resolver"),ResolvedMetadataCache=function(){function ResolvedMetadataCache(_directiveResolver,_pipeResolver){this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._directiveCache=new Map,this._pipeCache=new Map}return ResolvedMetadataCache.prototype.getResolvedDirectiveMetadata=function(type){var result=this._directiveCache.get(type);return lang_1.isBlank(result)&&(result=element_1.DirectiveProvider.createFromType(type,this._directiveResolver.resolve(type)),this._directiveCache.set(type,result)),result},ResolvedMetadataCache.prototype.getResolvedPipeMetadata=function(type){var result=this._pipeCache.get(type);return lang_1.isBlank(result)&&(result=pipe_provider_1.PipeProvider.createFromType(type,this._pipeResolver.resolve(type)),this._pipeCache.set(type,result)),result},ResolvedMetadataCache=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver])],ResolvedMetadataCache)}();exports.ResolvedMetadataCache=ResolvedMetadataCache,exports.CODEGEN_RESOLVED_METADATA_CACHE=new ResolvedMetadataCache(directive_resolver_1.CODEGEN_DIRECTIVE_RESOLVER,pipe_resolver_1.CODEGEN_PIPE_RESOLVER)},{"../di":135,"../pipes/pipe_provider":166,"./directive_resolver":147,"./element":149,"./pipe_resolver":152,"angular2/src/facade/lang":195}],155:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TemplateRef=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}();exports.TemplateRef=TemplateRef;var TemplateRef_=function(_super){function TemplateRef_(_elementRef){_super.call(this),this._elementRef=_elementRef}return __extends(TemplateRef_,_super),Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(TemplateRef);exports.TemplateRef_=TemplateRef_},{}],156:[function(require,module,exports){"use strict";function _localsToStringMap(locals){for(var res={},c=locals;lang_1.isPresent(c);)res=collection_1.StringMapWrapper.merge(res,collection_1.MapWrapper.toStringMap(c.current)),c=c.parent;return res}function flattenNestedViewRenderNodes(nodes){return _flattenNestedViewRenderNodes(nodes,[])}function _flattenNestedViewRenderNodes(nodes,renderNodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if(node instanceof element_1.AppElement){var appEl=node;if(renderNodes.push(appEl.nativeElement),lang_1.isPresent(appEl.nestedViews))for(var k=0;k<appEl.nestedViews.length;k++)_flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements,renderNodes)}else renderNodes.push(node)}return renderNodes}function findLastRenderNode(node){var lastNode;if(node instanceof element_1.AppElement){var appEl=node;if(lastNode=appEl.nativeElement,lang_1.isPresent(appEl.nestedViews))for(var i=appEl.nestedViews.length-1;i>=0;i--){var nestedView=appEl.nestedViews[i];nestedView.rootNodesOrAppElements.length>0&&(lastNode=findLastRenderNode(nestedView.rootNodesOrAppElements[nestedView.rootNodesOrAppElements.length-1]))}}else lastNode=node;return lastNode}function checkSlotCount(componentName,expectedSlotCount,projectableNodes){var givenSlotCount=lang_1.isPresent(projectableNodes)?projectableNodes.length:0;if(expectedSlotCount>givenSlotCount)throw new exceptions_1.BaseException("The component "+componentName+" has "+expectedSlotCount+" <ng-content> elements,"+(" but only "+givenSlotCount+" slots were provided."))}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},collection_1=require("angular2/src/facade/collection"),change_detection_1=require("angular2/src/core/change_detection/change_detection"),interfaces_1=require("angular2/src/core/change_detection/interfaces"),element_1=require("./element"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),api_1=require("angular2/src/core/render/api"),view_ref_1=require("./view_ref"),pipes_1=require("angular2/src/core/pipes/pipes"),util_1=require("angular2/src/core/render/util"),interfaces_2=require("angular2/src/core/change_detection/interfaces");exports.DebugContext=interfaces_2.DebugContext;var pipes_2=require("angular2/src/core/pipes/pipes"),view_type_1=require("./view_type"),REFLECT_PREFIX="ng-reflect-",EMPTY_CONTEXT=lang_1.CONST_EXPR(new Object),AppView=function(){function AppView(proto,renderer,viewManager,projectableNodes,containerAppElement,imperativelyCreatedProviders,rootInjector,changeDetector){this.proto=proto,this.renderer=renderer,this.viewManager=viewManager,this.projectableNodes=projectableNodes,this.containerAppElement=containerAppElement,this.changeDetector=changeDetector,this.context=null,this.destroyed=!1,this.ref=new view_ref_1.ViewRef_(this);var injectorWithHostBoundary=element_1.AppElement.getViewParentInjector(this.proto.type,containerAppElement,imperativelyCreatedProviders,rootInjector);this.parentInjector=injectorWithHostBoundary.injector,this.hostInjectorBoundary=injectorWithHostBoundary.hostInjectorBoundary;var pipes,context;switch(proto.type){case view_type_1.ViewType.COMPONENT:pipes=new pipes_2.Pipes(proto.protoPipes,containerAppElement.getInjector()),context=containerAppElement.getComponent();break;case view_type_1.ViewType.EMBEDDED:pipes=containerAppElement.parentView.pipes,context=containerAppElement.parentView.context;break;case view_type_1.ViewType.HOST:pipes=null,context=EMPTY_CONTEXT}this.pipes=pipes,this.context=context}return AppView.prototype.init=function(rootNodesOrAppElements,allNodes,disposables,appElements){this.rootNodesOrAppElements=rootNodesOrAppElements,this.allNodes=allNodes,this.disposables=disposables,this.appElements=appElements;var localsMap=new collection_1.Map;collection_1.StringMapWrapper.forEach(this.proto.templateVariableBindings,function(templateName,_){localsMap.set(templateName,null)});for(var i=0;i<appElements.length;i++){var appEl=appElements[i],providerTokens=[];if(lang_1.isPresent(appEl.proto.protoInjector))for(var j=0;j<appEl.proto.protoInjector.numberOfProviders;j++)providerTokens.push(appEl.proto.protoInjector.getProviderAtIndex(j).key.token);collection_1.StringMapWrapper.forEach(appEl.proto.directiveVariableBindings,function(directiveIndex,name){lang_1.isBlank(directiveIndex)?localsMap.set(name,appEl.nativeElement):localsMap.set(name,appEl.getDirectiveAtIndex(directiveIndex))}),this.renderer.setElementDebugInfo(appEl.nativeElement,new api_1.RenderDebugInfo(appEl.getInjector(),appEl.getComponent(),providerTokens,localsMap))}var parentLocals=null;this.proto.type!==view_type_1.ViewType.COMPONENT&&(parentLocals=lang_1.isPresent(this.containerAppElement)?this.containerAppElement.parentView.locals:null),this.proto.type===view_type_1.ViewType.COMPONENT&&(this.containerAppElement.attachComponentView(this),this.containerAppElement.parentView.changeDetector.addViewChild(this.changeDetector)),this.locals=new change_detection_1.Locals(parentLocals,localsMap),this.changeDetector.hydrate(this.context,this.locals,this,this.pipes),this.viewManager.onViewCreated(this)},AppView.prototype.destroy=function(){if(this.destroyed)throw new exceptions_1.BaseException("This view has already been destroyed!");this.changeDetector.destroyRecursive()},AppView.prototype.notifyOnDestroy=function(){this.destroyed=!0;var hostElement=this.proto.type===view_type_1.ViewType.COMPONENT?this.containerAppElement.nativeElement:null;this.renderer.destroyView(hostElement,this.allNodes);for(var i=0;i<this.disposables.length;i++)this.disposables[i]();this.viewManager.onViewDestroyed(this)},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),AppView.prototype.hasLocal=function(contextName){return collection_1.StringMapWrapper.contains(this.proto.templateVariableBindings,contextName)},AppView.prototype.setLocal=function(contextName,value){if(this.hasLocal(contextName)){var templateName=this.proto.templateVariableBindings[contextName];this.locals.set(templateName,value)}},AppView.prototype.notifyOnBinding=function(b,currentValue){if(b.isTextNode())this.renderer.setText(this.allNodes[b.elementIndex],currentValue);else{var nativeElement=this.appElements[b.elementIndex].nativeElement;if(b.isElementProperty())this.renderer.setElementProperty(nativeElement,b.name,currentValue);else if(b.isElementAttribute())this.renderer.setElementAttribute(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue:null);else if(b.isElementClass())this.renderer.setElementClass(nativeElement,b.name,currentValue);else{if(!b.isElementStyle())throw new exceptions_1.BaseException("Unsupported directive record");var unit=lang_1.isPresent(b.unit)?b.unit:"";this.renderer.setElementStyle(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue+unit:null)}}},AppView.prototype.logBindingUpdate=function(b,value){if(b.isDirective()||b.isElementProperty()){var nativeElement=this.appElements[b.elementIndex].nativeElement;this.renderer.setBindingDebugInfo(nativeElement,""+REFLECT_PREFIX+util_1.camelCaseToDashCase(b.name),""+value)}},AppView.prototype.notifyAfterContentChecked=function(){for(var count=this.appElements.length,i=count-1;i>=0;i--)this.appElements[i].ngAfterContentChecked()},AppView.prototype.notifyAfterViewChecked=function(){for(var count=this.appElements.length,i=count-1;i>=0;i--)this.appElements[i].ngAfterViewChecked()},AppView.prototype.getDebugContext=function(appElement,elementIndex,directiveIndex){try{lang_1.isBlank(appElement)&&elementIndex<this.appElements.length&&(appElement=this.appElements[elementIndex]);var container=this.containerAppElement,element=lang_1.isPresent(appElement)?appElement.nativeElement:null,componentElement=lang_1.isPresent(container)?container.nativeElement:null,directive=lang_1.isPresent(directiveIndex)?appElement.getDirectiveAtIndex(directiveIndex):null,injector=lang_1.isPresent(appElement)?appElement.getInjector():null;
return new interfaces_1.DebugContext(element,componentElement,directive,this.context,_localsToStringMap(this.locals),injector)}catch(e){return null}},AppView.prototype.getDirectiveFor=function(directive){return this.appElements[directive.elementIndex].getDirectiveAtIndex(directive.directiveIndex)},AppView.prototype.getDetectorFor=function(directive){var componentView=this.appElements[directive.elementIndex].componentView;return lang_1.isPresent(componentView)?componentView.changeDetector:null},AppView.prototype.triggerEventHandlers=function(eventName,eventObj,boundElementIndex){return this.changeDetector.handleEvent(eventName,boundElementIndex,eventObj)},AppView}();exports.AppView=AppView;var AppProtoView=function(){function AppProtoView(type,protoPipes,templateVariableBindings){this.type=type,this.protoPipes=protoPipes,this.templateVariableBindings=templateVariableBindings}return AppProtoView.create=function(metadataCache,type,pipes,templateVariableBindings){var protoPipes=null;if(lang_1.isPresent(pipes)&&pipes.length>0){for(var boundPipes=collection_1.ListWrapper.createFixedSize(pipes.length),i=0;i<pipes.length;i++)boundPipes[i]=metadataCache.getResolvedPipeMetadata(pipes[i]);protoPipes=pipes_1.ProtoPipes.fromProviders(boundPipes)}return new AppProtoView(type,protoPipes,templateVariableBindings)},AppProtoView}();exports.AppProtoView=AppProtoView;var HostViewFactory=function(){function HostViewFactory(selector,viewFactory){this.selector=selector,this.viewFactory=viewFactory}return HostViewFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String,Function])],HostViewFactory)}();exports.HostViewFactory=HostViewFactory,exports.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes,exports.findLastRenderNode=findLastRenderNode,exports.checkSlotCount=checkSlotCount},{"./element":149,"./view_ref":159,"./view_type":161,"angular2/src/core/change_detection/change_detection":105,"angular2/src/core/change_detection/interfaces":122,"angular2/src/core/pipes/pipes":167,"angular2/src/core/render/api":179,"angular2/src/core/render/util":180,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],157:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),exceptions_1=require("angular2/src/facade/exceptions"),lang_1=require("angular2/src/facade/lang"),ViewContainerRef=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef.prototype.clear=function(){for(var i=this.length-1;i>=0;i--)this.remove(i)},Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}();exports.ViewContainerRef=ViewContainerRef;var ViewContainerRef_=function(_super){function ViewContainerRef_(_element){_super.call(this),this._element=_element}return __extends(ViewContainerRef_,_super),ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var views=this._element.nestedViews;return lang_1.isPresent(views)?views.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.ref},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,index){void 0===index&&(index=-1),-1==index&&(index=this.length);var vm=this._element.parentView.viewManager;return vm.createEmbeddedViewInContainer(this._element.ref,index,templateRef)},ViewContainerRef_.prototype.createHostView=function(hostViewFactoryRef,index,dynamicallyCreatedProviders,projectableNodes){void 0===index&&(index=-1),void 0===dynamicallyCreatedProviders&&(dynamicallyCreatedProviders=null),void 0===projectableNodes&&(projectableNodes=null),-1==index&&(index=this.length);var vm=this._element.parentView.viewManager;return vm.createHostViewInContainer(this._element.ref,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes)},ViewContainerRef_.prototype.insert=function(viewRef,index){void 0===index&&(index=-1),-1==index&&(index=this.length);var vm=this._element.parentView.viewManager;return vm.attachViewInContainer(this._element.ref,index,viewRef)},ViewContainerRef_.prototype.indexOf=function(viewRef){return collection_1.ListWrapper.indexOf(this._element.nestedViews,viewRef.internalView)},ViewContainerRef_.prototype.remove=function(index){void 0===index&&(index=-1),-1==index&&(index=this.length-1);var vm=this._element.parentView.viewManager;return vm.destroyViewInContainer(this._element.ref,index)},ViewContainerRef_.prototype.detach=function(index){void 0===index&&(index=-1),-1==index&&(index=this.length-1);var vm=this._element.parentView.viewManager;return vm.detachViewInContainer(this._element.ref,index)},ViewContainerRef_}(ViewContainerRef);exports.ViewContainerRef_=ViewContainerRef_},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],158:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),exceptions_1=require("angular2/src/facade/exceptions"),view_1=require("./view"),api_1=require("angular2/src/core/render/api"),profile_1=require("../profile/profile"),application_tokens_1=require("angular2/src/core/application_tokens"),view_type_1=require("./view_type"),AppViewManager=function(){function AppViewManager(){}return AppViewManager}();exports.AppViewManager=AppViewManager;var AppViewManager_=function(_super){function AppViewManager_(_renderer,_appId){_super.call(this),this._renderer=_renderer,this._appId=_appId,this._nextCompTypeId=0,this._createRootHostViewScope=profile_1.wtfCreateScope("AppViewManager#createRootHostView()"),this._destroyRootHostViewScope=profile_1.wtfCreateScope("AppViewManager#destroyRootHostView()"),this._createEmbeddedViewInContainerScope=profile_1.wtfCreateScope("AppViewManager#createEmbeddedViewInContainer()"),this._createHostViewInContainerScope=profile_1.wtfCreateScope("AppViewManager#createHostViewInContainer()"),this._destroyViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#destroyViewInContainer()"),this._attachViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#attachViewInContainer()"),this._detachViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#detachViewInContainer()")}return __extends(AppViewManager_,_super),AppViewManager_.prototype.getViewContainer=function(location){return location.internalElement.getViewContainerRef()},AppViewManager_.prototype.getHostElement=function(hostViewRef){var hostView=hostViewRef.internalView;if(hostView.proto.type!==view_type_1.ViewType.HOST)throw new exceptions_1.BaseException("This operation is only allowed on host views");return hostView.appElements[0].ref},AppViewManager_.prototype.getNamedElementInComponentView=function(hostLocation,variableName){var appEl=hostLocation.internalElement,componentView=appEl.componentView;if(lang_1.isBlank(componentView))throw new exceptions_1.BaseException("There is no component directive at element "+hostLocation);for(var i=0;i<componentView.appElements.length;i++){var compAppEl=componentView.appElements[i];if(collection_1.StringMapWrapper.contains(compAppEl.proto.directiveVariableBindings,variableName))return compAppEl.ref}throw new exceptions_1.BaseException("Could not find variable "+variableName)},AppViewManager_.prototype.getComponent=function(hostLocation){return hostLocation.internalElement.getComponent()},AppViewManager_.prototype.createRootHostView=function(hostViewFactoryRef,overrideSelector,injector,projectableNodes){void 0===projectableNodes&&(projectableNodes=null);var s=this._createRootHostViewScope(),hostViewFactory=hostViewFactoryRef.internalHostViewFactory,selector=lang_1.isPresent(overrideSelector)?overrideSelector:hostViewFactory.selector,view=hostViewFactory.viewFactory(this._renderer,this,null,projectableNodes,selector,null,injector);return profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.destroyRootHostView=function(hostViewRef){var s=this._destroyRootHostViewScope(),hostView=hostViewRef.internalView;hostView.renderer.detachView(view_1.flattenNestedViewRenderNodes(hostView.rootNodesOrAppElements)),hostView.destroy(),profile_1.wtfLeave(s)},AppViewManager_.prototype.createEmbeddedViewInContainer=function(viewContainerLocation,index,templateRef){var s=this._createEmbeddedViewInContainerScope(),contextEl=templateRef.elementRef.internalElement,view=contextEl.embeddedViewFactory(contextEl.parentView.renderer,this,contextEl,contextEl.parentView.projectableNodes,null,null,null);return this._attachViewToContainer(view,viewContainerLocation.internalElement,index),profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.createHostViewInContainer=function(viewContainerLocation,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes){var s=this._createHostViewInContainerScope(),viewContainerLocation_=viewContainerLocation,contextEl=viewContainerLocation_.internalElement,hostViewFactory=hostViewFactoryRef.internalHostViewFactory,view=hostViewFactory.viewFactory(contextEl.parentView.renderer,contextEl.parentView.viewManager,contextEl,projectableNodes,null,dynamicallyCreatedProviders,null);return this._attachViewToContainer(view,viewContainerLocation_.internalElement,index),profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.destroyViewInContainer=function(viewContainerLocation,index){var s=this._destroyViewInContainerScope(),view=this._detachViewInContainer(viewContainerLocation.internalElement,index);view.destroy(),profile_1.wtfLeave(s)},AppViewManager_.prototype.attachViewInContainer=function(viewContainerLocation,index,viewRef){var viewRef_=viewRef,s=this._attachViewInContainerScope();return this._attachViewToContainer(viewRef_.internalView,viewContainerLocation.internalElement,index),profile_1.wtfLeave(s,viewRef_)},AppViewManager_.prototype.detachViewInContainer=function(viewContainerLocation,index){var s=this._detachViewInContainerScope(),view=this._detachViewInContainer(viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.onViewCreated=function(view){},AppViewManager_.prototype.onViewDestroyed=function(view){},AppViewManager_.prototype.createRenderComponentType=function(encapsulation,styles){return new api_1.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,encapsulation,styles)},AppViewManager_.prototype._attachViewToContainer=function(view,vcAppElement,viewIndex){if(view.proto.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");var nestedViews=vcAppElement.nestedViews;null==nestedViews&&(nestedViews=[],vcAppElement.nestedViews=nestedViews),collection_1.ListWrapper.insert(nestedViews,viewIndex,view);var refNode;if(viewIndex>0){var prevView=nestedViews[viewIndex-1];refNode=prevView.rootNodesOrAppElements.length>0?prevView.rootNodesOrAppElements[prevView.rootNodesOrAppElements.length-1]:null}else refNode=vcAppElement.nativeElement;if(lang_1.isPresent(refNode)){var refRenderNode=view_1.findLastRenderNode(refNode);view.renderer.attachViewAfter(refRenderNode,view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements))}vcAppElement.parentView.changeDetector.addContentChild(view.changeDetector),vcAppElement.traverseAndSetQueriesAsDirty()},AppViewManager_.prototype._detachViewInContainer=function(vcAppElement,viewIndex){var view=collection_1.ListWrapper.removeAt(vcAppElement.nestedViews,viewIndex);if(view.proto.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");return vcAppElement.traverseAndSetQueriesAsDirty(),view.renderer.detachView(view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements)),view.changeDetector.remove(),view},AppViewManager_=__decorate([di_1.Injectable(),__param(1,di_1.Inject(application_tokens_1.APP_ID)),__metadata("design:paramtypes",[api_1.RootRenderer,String])],AppViewManager_)}(AppViewManager);exports.AppViewManager_=AppViewManager_},{"../profile/profile":171,"./view":156,"./view_type":161,"angular2/src/core/application_tokens":101,"angular2/src/core/di":135,"angular2/src/core/render/api":179,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],159:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},exceptions_1=require("angular2/src/facade/exceptions"),ViewRef=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"changeDetectorRef",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewRef}();exports.ViewRef=ViewRef;var HostViewRef=function(_super){function HostViewRef(){_super.apply(this,arguments)}return __extends(HostViewRef,_super),Object.defineProperty(HostViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),HostViewRef}(ViewRef);exports.HostViewRef=HostViewRef;var EmbeddedViewRef=function(_super){function EmbeddedViewRef(){_super.apply(this,arguments)}return __extends(EmbeddedViewRef,_super),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(ViewRef);exports.EmbeddedViewRef=EmbeddedViewRef;var ViewRef_=function(){function ViewRef_(_view){this._view=_view,this._view=_view}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"changeDetectorRef",{get:function(){return this._view.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),ViewRef_.prototype.setLocal=function(variableName,value){this._view.setLocal(variableName,value)},ViewRef_.prototype.hasLocal=function(variableName){return this._view.hasLocal(variableName)},Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_}();exports.ViewRef_=ViewRef_;var HostViewFactoryRef=function(){function HostViewFactoryRef(){}return HostViewFactoryRef}();exports.HostViewFactoryRef=HostViewFactoryRef;var HostViewFactoryRef_=function(){function HostViewFactoryRef_(_hostViewFactory){this._hostViewFactory=_hostViewFactory}return Object.defineProperty(HostViewFactoryRef_.prototype,"internalHostViewFactory",{get:function(){return this._hostViewFactory},enumerable:!0,configurable:!0}),HostViewFactoryRef_}();exports.HostViewFactoryRef_=HostViewFactoryRef_},{"angular2/src/facade/exceptions":192}],160:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),view_1=require("../metadata/view"),directives_1=require("../metadata/directives"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),reflector_reader_1=require("angular2/src/core/reflection/reflector_reader"),reflection_1=require("angular2/src/core/reflection/reflection"),ViewResolver=function(){function ViewResolver(_reflector){this._cache=new collection_1.Map,lang_1.isPresent(_reflector)?this._reflector=_reflector:this._reflector=reflection_1.reflector}return ViewResolver.prototype.resolve=function(component){var view=this._cache.get(component);return lang_1.isBlank(view)&&(view=this._resolve(component),this._cache.set(component,view)),view},ViewResolver.prototype._resolve=function(component){var compMeta,viewMeta;if(this._reflector.annotations(component).forEach(function(m){m instanceof view_1.ViewMetadata&&(viewMeta=m),m instanceof directives_1.ComponentMetadata&&(compMeta=m)}),!lang_1.isPresent(compMeta)){if(lang_1.isBlank(viewMeta))throw new exceptions_1.BaseException("Could not compile '"+lang_1.stringify(component)+"' because it is not a component.");return viewMeta}if(lang_1.isBlank(compMeta.template)&&lang_1.isBlank(compMeta.templateUrl)&&lang_1.isBlank(viewMeta))throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' must have either 'template' or 'templateUrl' set.");if(lang_1.isPresent(compMeta.template)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("template",component);else if(lang_1.isPresent(compMeta.templateUrl)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("templateUrl",component);else if(lang_1.isPresent(compMeta.directives)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("directives",component);else if(lang_1.isPresent(compMeta.pipes)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("pipes",component);else if(lang_1.isPresent(compMeta.encapsulation)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("encapsulation",component);else if(lang_1.isPresent(compMeta.styles)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("styles",component);else{if(!lang_1.isPresent(compMeta.styleUrls)||!lang_1.isPresent(viewMeta))return lang_1.isPresent(viewMeta)?viewMeta:new view_1.ViewMetadata({templateUrl:compMeta.templateUrl,template:compMeta.template,directives:compMeta.directives,pipes:compMeta.pipes,encapsulation:compMeta.encapsulation,styles:compMeta.styles,styleUrls:compMeta.styleUrls});this._throwMixingViewAndComponent("styleUrls",component)}return null},ViewResolver.prototype._throwMixingViewAndComponent=function(propertyName,component){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' cannot have both '"+propertyName+"' and '@View' set at the same time\"")},ViewResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[reflector_reader_1.ReflectorReader])],ViewResolver)}();exports.ViewResolver=ViewResolver},{"../metadata/directives":164,"../metadata/view":165,"angular2/src/core/di":135,"angular2/src/core/reflection/reflection":174,"angular2/src/core/reflection/reflector_reader":177,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],161:[function(require,module,exports){"use strict";!function(ViewType){ViewType[ViewType.HOST=0]="HOST",ViewType[ViewType.COMPONENT=1]="COMPONENT",ViewType[ViewType.EMBEDDED=2]="EMBEDDED"}(exports.ViewType||(exports.ViewType={}));exports.ViewType},{}],162:[function(require,module,exports){"use strict";var di_1=require("./metadata/di");exports.QueryMetadata=di_1.QueryMetadata,exports.ContentChildrenMetadata=di_1.ContentChildrenMetadata,exports.ContentChildMetadata=di_1.ContentChildMetadata,exports.ViewChildrenMetadata=di_1.ViewChildrenMetadata,exports.ViewQueryMetadata=di_1.ViewQueryMetadata,exports.ViewChildMetadata=di_1.ViewChildMetadata,exports.AttributeMetadata=di_1.AttributeMetadata;var directives_1=require("./metadata/directives");exports.ComponentMetadata=directives_1.ComponentMetadata,exports.DirectiveMetadata=directives_1.DirectiveMetadata,exports.PipeMetadata=directives_1.PipeMetadata,exports.InputMetadata=directives_1.InputMetadata,exports.OutputMetadata=directives_1.OutputMetadata,exports.HostBindingMetadata=directives_1.HostBindingMetadata,exports.HostListenerMetadata=directives_1.HostListenerMetadata;var view_1=require("./metadata/view");exports.ViewMetadata=view_1.ViewMetadata,exports.ViewEncapsulation=view_1.ViewEncapsulation;var di_2=require("./metadata/di"),directives_2=require("./metadata/directives"),view_2=require("./metadata/view"),decorators_1=require("./util/decorators");exports.Component=decorators_1.makeDecorator(directives_2.ComponentMetadata,function(fn){return fn.View=View}),exports.Directive=decorators_1.makeDecorator(directives_2.DirectiveMetadata);var View=decorators_1.makeDecorator(view_2.ViewMetadata,function(fn){return fn.View=View});exports.Attribute=decorators_1.makeParamDecorator(di_2.AttributeMetadata),exports.Query=decorators_1.makeParamDecorator(di_2.QueryMetadata),exports.ContentChildren=decorators_1.makePropDecorator(di_2.ContentChildrenMetadata),exports.ContentChild=decorators_1.makePropDecorator(di_2.ContentChildMetadata),exports.ViewChildren=decorators_1.makePropDecorator(di_2.ViewChildrenMetadata),exports.ViewChild=decorators_1.makePropDecorator(di_2.ViewChildMetadata),exports.ViewQuery=decorators_1.makeParamDecorator(di_2.ViewQueryMetadata),exports.Pipe=decorators_1.makeDecorator(directives_2.PipeMetadata),exports.Input=decorators_1.makePropDecorator(directives_2.InputMetadata),exports.Output=decorators_1.makePropDecorator(directives_2.OutputMetadata),exports.HostBinding=decorators_1.makePropDecorator(directives_2.HostBindingMetadata),exports.HostListener=decorators_1.makePropDecorator(directives_2.HostListenerMetadata)},{"./metadata/di":163,"./metadata/directives":164,"./metadata/view":165,"./util/decorators":183}],163:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),metadata_1=require("angular2/src/core/di/metadata"),AttributeMetadata=function(_super){function AttributeMetadata(attributeName){_super.call(this),this.attributeName=attributeName}return __extends(AttributeMetadata,_super),Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),AttributeMetadata.prototype.toString=function(){return"@Attribute("+lang_1.stringify(this.attributeName)+")"},AttributeMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],AttributeMetadata)}(metadata_1.DependencyMetadata);exports.AttributeMetadata=AttributeMetadata;var QueryMetadata=function(_super){function QueryMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0===_c?!1:_c,_d=_b.first,first=void 0===_d?!1:_d;_super.call(this),this._selector=_selector,this.descendants=descendants,this.first=first}return __extends(QueryMetadata,_super),Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return di_1.resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return lang_1.isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:!0,configurable:!0}),QueryMetadata.prototype.toString=function(){return"@Query("+lang_1.stringify(this.selector)+")"},QueryMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],QueryMetadata)}(metadata_1.DependencyMetadata);exports.QueryMetadata=QueryMetadata;var ContentChildrenMetadata=function(_super){function ContentChildrenMetadata(_selector,_a){var _b=(void 0===_a?{}:_a).descendants,descendants=void 0===_b?!1:_b;_super.call(this,_selector,{descendants:descendants})}return __extends(ContentChildrenMetadata,_super),ContentChildrenMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],ContentChildrenMetadata)}(QueryMetadata);exports.ContentChildrenMetadata=ContentChildrenMetadata;var ContentChildMetadata=function(_super){function ContentChildMetadata(_selector){_super.call(this,_selector,{descendants:!0,first:!0})}return __extends(ContentChildMetadata,_super),ContentChildMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ContentChildMetadata)}(QueryMetadata);exports.ContentChildMetadata=ContentChildMetadata;var ViewQueryMetadata=function(_super){function ViewQueryMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0===_c?!1:_c,_d=_b.first,first=void 0===_d?!1:_d;_super.call(this,_selector,{descendants:descendants,first:first})}return __extends(ViewQueryMetadata,_super),Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+lang_1.stringify(this.selector)+")"},ViewQueryMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],ViewQueryMetadata)}(QueryMetadata);exports.ViewQueryMetadata=ViewQueryMetadata;var ViewChildrenMetadata=function(_super){function ViewChildrenMetadata(_selector){_super.call(this,_selector,{descendants:!0})}return __extends(ViewChildrenMetadata,_super),ViewChildrenMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewChildrenMetadata)}(ViewQueryMetadata);exports.ViewChildrenMetadata=ViewChildrenMetadata;var ViewChildMetadata=function(_super){function ViewChildMetadata(_selector){_super.call(this,_selector,{descendants:!0,first:!0})}return __extends(ViewChildMetadata,_super),ViewChildMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewChildMetadata)}(ViewQueryMetadata);exports.ViewChildMetadata=ViewChildMetadata},{"angular2/src/core/di":135,"angular2/src/core/di/metadata":141,"angular2/src/facade/lang":195}],164:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),metadata_1=require("angular2/src/core/di/metadata"),change_detection_1=require("angular2/src/core/change_detection"),DirectiveMetadata=function(_super){function DirectiveMetadata(_a){var _b=void 0===_a?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,bindings=_b.bindings,providers=_b.providers,exportAs=_b.exportAs,queries=_b.queries;_super.call(this),this.selector=selector,this._inputs=inputs,this._properties=properties,this._outputs=outputs,this._events=events,this.host=host,this.exportAs=exportAs,this.queries=queries,this._providers=providers,this._bindings=bindings}return __extends(DirectiveMetadata,_super),Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return lang_1.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return lang_1.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return lang_1.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"bindings",{get:function(){return this.providers},enumerable:!0,configurable:!0}),DirectiveMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],DirectiveMetadata)}(metadata_1.InjectableMetadata);exports.DirectiveMetadata=DirectiveMetadata;var ComponentMetadata=function(_super){function ComponentMetadata(_a){var _b=void 0===_a?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,exportAs=_b.exportAs,moduleId=_b.moduleId,bindings=_b.bindings,providers=_b.providers,viewBindings=_b.viewBindings,viewProviders=_b.viewProviders,_c=_b.changeDetection,changeDetection=void 0===_c?change_detection_1.ChangeDetectionStrategy.Default:_c,queries=_b.queries,templateUrl=_b.templateUrl,template=_b.template,styleUrls=_b.styleUrls,styles=_b.styles,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation;_super.call(this,{selector:selector,inputs:inputs,outputs:outputs,properties:properties,events:events,host:host,exportAs:exportAs,bindings:bindings,providers:providers,queries:queries}),this.changeDetection=changeDetection,this._viewProviders=viewProviders,this._viewBindings=viewBindings,this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,
this.directives=directives,this.pipes=pipes,this.encapsulation=encapsulation,this.moduleId=moduleId}return __extends(ComponentMetadata,_super),Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return lang_1.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentMetadata.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:!0,configurable:!0}),ComponentMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ComponentMetadata)}(DirectiveMetadata);exports.ComponentMetadata=ComponentMetadata;var PipeMetadata=function(_super){function PipeMetadata(_a){var name=_a.name,pure=_a.pure;_super.call(this),this.name=name,this._pure=pure}return __extends(PipeMetadata,_super),Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return lang_1.isPresent(this._pure)?this._pure:!0},enumerable:!0,configurable:!0}),PipeMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],PipeMetadata)}(metadata_1.InjectableMetadata);exports.PipeMetadata=PipeMetadata;var InputMetadata=function(){function InputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}return InputMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],InputMetadata)}();exports.InputMetadata=InputMetadata;var OutputMetadata=function(){function OutputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}return OutputMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],OutputMetadata)}();exports.OutputMetadata=OutputMetadata;var HostBindingMetadata=function(){function HostBindingMetadata(hostPropertyName){this.hostPropertyName=hostPropertyName}return HostBindingMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],HostBindingMetadata)}();exports.HostBindingMetadata=HostBindingMetadata;var HostListenerMetadata=function(){function HostListenerMetadata(eventName,args){this.eventName=eventName,this.args=args}return HostListenerMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String,Array])],HostListenerMetadata)}();exports.HostListenerMetadata=HostListenerMetadata},{"angular2/src/core/change_detection":102,"angular2/src/core/di/metadata":141,"angular2/src/facade/lang":195}],165:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang");!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None"}(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewEncapsulation=exports.ViewEncapsulation;exports.VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None];var ViewMetadata=function(){function ViewMetadata(_a){var _b=void 0===_a?{}:_a,templateUrl=_b.templateUrl,template=_b.template,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls;this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,this.directives=directives,this.pipes=pipes,this.encapsulation=encapsulation}return ViewMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewMetadata)}();exports.ViewMetadata=ViewMetadata},{"angular2/src/facade/lang":195}],166:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},provider_1=require("angular2/src/core/di/provider"),di_1=require("angular2/src/core/di"),PipeProvider=function(_super){function PipeProvider(name,pure,key,resolvedFactories,multiBinding){_super.call(this,key,resolvedFactories,multiBinding),this.name=name,this.pure=pure}return __extends(PipeProvider,_super),PipeProvider.createFromType=function(type,metadata){var provider=new di_1.Provider(type,{useClass:type}),rb=provider_1.resolveProvider(provider);return new PipeProvider(metadata.name,metadata.pure,rb.key,rb.resolvedFactories,rb.multiProvider)},PipeProvider}(provider_1.ResolvedProvider_);exports.PipeProvider=PipeProvider},{"angular2/src/core/di":135,"angular2/src/core/di/provider":143}],167:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),cd=require("angular2/src/core/change_detection/pipes"),ProtoPipes=function(){function ProtoPipes(config){this.config=config,this.config=config}return ProtoPipes.fromProviders=function(providers){var config={};return providers.forEach(function(b){return config[b.name]=b}),new ProtoPipes(config)},ProtoPipes.prototype.get=function(name){var provider=this.config[name];if(lang_1.isBlank(provider))throw new exceptions_1.BaseException("Cannot find pipe '"+name+"'.");return provider},ProtoPipes}();exports.ProtoPipes=ProtoPipes;var Pipes=function(){function Pipes(proto,injector){this.proto=proto,this.injector=injector,this._config={}}return Pipes.prototype.get=function(name){var cached=collection_1.StringMapWrapper.get(this._config,name);if(lang_1.isPresent(cached))return cached;var p=this.proto.get(name),transform=this.injector.instantiateResolved(p),res=new cd.SelectedPipe(transform,p.pure);return p.pure&&collection_1.StringMapWrapper.set(this._config,name,res),res},Pipes}();exports.Pipes=Pipes},{"angular2/src/core/change_detection/pipes":129,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],168:[function(require,module,exports){"use strict";function _reflector(){return reflection_1.reflector}var lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),console_1=require("angular2/src/core/console"),reflection_1=require("./reflection/reflection"),reflector_reader_1=require("./reflection/reflector_reader"),testability_1=require("angular2/src/core/testability/testability");exports.PLATFORM_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(reflection_1.Reflector,{useFactory:_reflector,deps:[]}),new di_1.Provider(reflector_reader_1.ReflectorReader,{useExisting:reflection_1.Reflector}),testability_1.TestabilityRegistry,console_1.Console])},{"./reflection/reflection":174,"./reflection/reflector_reader":177,"angular2/src/core/console":132,"angular2/src/core/di":135,"angular2/src/core/testability/testability":181,"angular2/src/facade/lang":195}],169:[function(require,module,exports){"use strict";var di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang");exports.PLATFORM_DIRECTIVES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Directives")),exports.PLATFORM_PIPES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Pipes"))},{"angular2/src/core/di":135,"angular2/src/facade/lang":195}],170:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang");exports.enableProdMode=lang_1.enableProdMode},{"angular2/src/facade/lang":195}],171:[function(require,module,exports){"use strict";function noopScope(arg0,arg1){return null}var impl=require("./wtf_impl");exports.wtfEnabled=impl.detectWTF(),exports.wtfCreateScope=exports.wtfEnabled?impl.createScope:function(signature,flags){return noopScope},exports.wtfLeave=exports.wtfEnabled?impl.leave:function(s,r){return r},exports.wtfStartTimeRange=exports.wtfEnabled?impl.startTimeRange:function(rangeType,action){return null},exports.wtfEndTimeRange=exports.wtfEnabled?impl.endTimeRange:function(r){return null}},{"./wtf_impl":172}],172:[function(require,module,exports){"use strict";function detectWTF(){var wtf=lang_1.global.wtf;return wtf&&(trace=wtf.trace)?(events=trace.events,!0):!1}function createScope(signature,flags){return void 0===flags&&(flags=null),events.createScope(signature,flags)}function leave(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action)}function endTimeRange(range){trace.endTimeRange(range)}var trace,events,lang_1=require("angular2/src/facade/lang");exports.detectWTF=detectWTF,exports.createScope=createScope,exports.leave=leave,exports.startTimeRange=startTimeRange,exports.endTimeRange=endTimeRange},{"angular2/src/facade/lang":195}],173:[function(require,module,exports){"use strict";function wtfInit(){}exports.wtfInit=wtfInit},{}],174:[function(require,module,exports){"use strict";var reflector_1=require("./reflector"),reflector_2=require("./reflector");exports.Reflector=reflector_2.Reflector,exports.ReflectionInfo=reflector_2.ReflectionInfo;var reflection_capabilities_1=require("./reflection_capabilities");exports.reflector=new reflector_1.Reflector(new reflection_capabilities_1.ReflectionCapabilities)},{"./reflection_capabilities":175,"./reflector":176}],175:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=lang_1.isPresent(reflect)?reflect:lang_1.global.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t};case 1:return function(a1){return new t(a1)};case 2:return function(a1,a2){return new t(a1,a2)};case 3:return function(a1,a2,a3){return new t(a1,a2,a3)};case 4:return function(a1,a2,a3,a4){return new t(a1,a2,a3,a4)};case 5:return function(a1,a2,a3,a4,a5){return new t(a1,a2,a3,a4,a5)};case 6:return function(a1,a2,a3,a4,a5,a6){return new t(a1,a2,a3,a4,a5,a6)};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return new t(a1,a2,a3,a4,a5,a6,a7)};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return new t(a1,a2,a3,a4,a5,a6,a7,a8)};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9)};case 10:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)};case 11:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)};case 12:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)};case 13:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)};case 14:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14)};case 15:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)};case 16:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16)};case 17:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17)};case 18:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18)};case 19:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19)};case 20:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20)}}throw new Error("Cannot create a factory for '"+lang_1.stringify(t)+"' because its constructor has more than 20 arguments")},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;result="undefined"==typeof paramTypes?new Array(paramAnnotations.length):new Array(paramTypes.length);for(var i=0;i<result.length;i++)"undefined"==typeof paramTypes?result[i]=[]:paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],lang_1.isPresent(paramAnnotations)&&lang_1.isPresent(paramAnnotations[i])&&(result[i]=result[i].concat(paramAnnotations[i]));return result},ReflectionCapabilities.prototype.parameters=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.parameters))return typeOrFunc.parameters;if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var paramAnnotations=this._reflect.getMetadata("parameters",typeOrFunc),paramTypes=this._reflect.getMetadata("design:paramtypes",typeOrFunc);if(lang_1.isPresent(paramTypes)||lang_1.isPresent(paramAnnotations))return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}var parameters=new Array(typeOrFunc.length);return parameters.fill(void 0),parameters},ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.annotations)){var annotations=typeOrFunc.annotations;return lang_1.isFunction(annotations)&&annotations.annotations&&(annotations=annotations.annotations),annotations}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var annotations=this._reflect.getMetadata("annotations",typeOrFunc);if(lang_1.isPresent(annotations))return annotations}return[]},ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.propMetadata)){var propMetadata=typeOrFunc.propMetadata;return lang_1.isFunction(propMetadata)&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var propMetadata=this._reflect.getMetadata("propMetadata",typeOrFunc);if(lang_1.isPresent(propMetadata))return propMetadata}return{}},ReflectionCapabilities.prototype.interfaces=function(type){throw new exceptions_1.BaseException("JavaScript does not support interfaces")},ReflectionCapabilities.prototype.getter=function(name){return new Function("o","return o."+name+";")},ReflectionCapabilities.prototype.setter=function(name){return new Function("o","v","return o."+name+" = v;")},ReflectionCapabilities.prototype.method=function(name){var functionBody="if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);";return new Function("o","args",functionBody)},ReflectionCapabilities.prototype.importUri=function(type){return"./"},ReflectionCapabilities}();exports.ReflectionCapabilities=ReflectionCapabilities},{"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],176:[function(require,module,exports){"use strict";function _mergeMaps(target,config){collection_1.StringMapWrapper.forEach(config,function(v,k){return target.set(k,v)})}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),reflector_reader_1=require("./reflector_reader"),ReflectionInfo=function(){function ReflectionInfo(annotations,parameters,factory,interfaces,propMetadata){this.annotations=annotations,this.parameters=parameters,this.factory=factory,this.interfaces=interfaces,this.propMetadata=propMetadata}return ReflectionInfo}();exports.ReflectionInfo=ReflectionInfo;var Reflector=function(_super){function Reflector(reflectionCapabilities){_super.call(this),this._injectableInfo=new collection_1.Map,this._getters=new collection_1.Map,this._setters=new collection_1.Map,this._methods=new collection_1.Map,this._usedKeys=null,this.reflectionCapabilities=reflectionCapabilities}return __extends(Reflector,_super),Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},Reflector.prototype.trackUsage=function(){this._usedKeys=new collection_1.Set},Reflector.prototype.listUnusedKeys=function(){var _this=this;if(null==this._usedKeys)throw new exceptions_1.BaseException("Usage tracking is disabled");var allTypes=collection_1.MapWrapper.keys(this._injectableInfo);return allTypes.filter(function(key){return!collection_1.SetWrapper.has(_this._usedKeys,key)})},Reflector.prototype.registerFunction=function(func,funcInfo){this._injectableInfo.set(func,funcInfo)},Reflector.prototype.registerType=function(type,typeInfo){this._injectableInfo.set(type,typeInfo)},Reflector.prototype.registerGetters=function(getters){_mergeMaps(this._getters,getters)},Reflector.prototype.registerSetters=function(setters){_mergeMaps(this._setters,setters)},Reflector.prototype.registerMethods=function(methods){_mergeMaps(this._methods,methods)},Reflector.prototype.factory=function(type){if(this._containsReflectionInfo(type)){var res=this._getReflectionInfo(type).factory;return lang_1.isPresent(res)?res:null}return this.reflectionCapabilities.factory(type)},Reflector.prototype.parameters=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).parameters;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.parameters(typeOrFunc)},Reflector.prototype.annotations=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).annotations;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.annotations(typeOrFunc)},Reflector.prototype.propMetadata=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).propMetadata;return lang_1.isPresent(res)?res:{}}return this.reflectionCapabilities.propMetadata(typeOrFunc)},Reflector.prototype.interfaces=function(type){if(this._injectableInfo.has(type)){var res=this._getReflectionInfo(type).interfaces;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.interfaces(type)},Reflector.prototype.getter=function(name){return this._getters.has(name)?this._getters.get(name):this.reflectionCapabilities.getter(name)},Reflector.prototype.setter=function(name){return this._setters.has(name)?this._setters.get(name):this.reflectionCapabilities.setter(name)},Reflector.prototype.method=function(name){return this._methods.has(name)?this._methods.get(name):this.reflectionCapabilities.method(name)},Reflector.prototype._getReflectionInfo=function(typeOrFunc){return lang_1.isPresent(this._usedKeys)&&this._usedKeys.add(typeOrFunc),this._injectableInfo.get(typeOrFunc)},Reflector.prototype._containsReflectionInfo=function(typeOrFunc){return this._injectableInfo.has(typeOrFunc)},Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)},Reflector}(reflector_reader_1.ReflectorReader);exports.Reflector=Reflector},{"./reflector_reader":177,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],177:[function(require,module,exports){"use strict";var ReflectorReader=function(){function ReflectorReader(){}return ReflectorReader}();exports.ReflectorReader=ReflectorReader},{}],178:[function(require,module,exports){"use strict";var api_1=require("./render/api");exports.RootRenderer=api_1.RootRenderer,exports.Renderer=api_1.Renderer,exports.RenderComponentType=api_1.RenderComponentType},{"./render/api":179}],179:[function(require,module,exports){"use strict";var RenderComponentType=function(){function RenderComponentType(id,encapsulation,styles){this.id=id,this.encapsulation=encapsulation,this.styles=styles}return RenderComponentType}();exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=function(){function RenderDebugInfo(injector,component,providerTokens,locals){this.injector=injector,this.component=component,this.providerTokens=providerTokens,this.locals=locals}return RenderDebugInfo}();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=function(){function Renderer(){}return Renderer}();exports.Renderer=Renderer;var RootRenderer=function(){function RootRenderer(){}return RootRenderer}();exports.RootRenderer=RootRenderer},{}],180:[function(require,module,exports){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}var lang_1=require("angular2/src/facade/lang"),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase},{"angular2/src/facade/lang":195}],181:[function(require,module,exports){"use strict";function setTestabilityGetter(getter){_testabilityGetter=getter}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=require("angular2/src/core/di"),collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),ng_zone_1=require("../zone/ng_zone"),async_1=require("angular2/src/facade/async"),Testability=function(){function Testability(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return Testability.prototype._watchAngularEvents=function(){var _this=this;async_1.ObservableWrapper.subscribe(this._ngZone.onUnstable,function(_){_this._didWork=!0,_this._isZoneStable=!1}),this._ngZone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(_this._ngZone.onStable,function(_){ng_zone_1.NgZone.assertNotInAngularZone(),lang_1.scheduleMicroTask(function(){_this._isZoneStable=!0,_this._runCallbacksIfReady()})})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new exceptions_1.BaseException("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var _this=this;this.isStable()?lang_1.scheduleMicroTask(function(){for(;0!==_this._callbacks.length;)_this._callbacks.pop()(_this._didWork);_this._didWork=!1}):this._didWork=!0},Testability.prototype.whenStable=function(callback){this._callbacks.push(callback),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findBindings=function(using,provider,exactMatch){return[]},Testability.prototype.findProviders=function(using,provider,exactMatch){return[]},Testability=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[ng_zone_1.NgZone])],Testability)}();exports.Testability=Testability;var TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new collection_1.Map,_testabilityGetter.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability)},TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)},TestabilityRegistry.prototype.getAllTestabilities=function(){return collection_1.MapWrapper.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return collection_1.MapWrapper.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){return void 0===findInAncestors&&(findInAncestors=!0),_testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)},TestabilityRegistry=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],TestabilityRegistry)}();exports.TestabilityRegistry=TestabilityRegistry;var _NoopGetTestability=function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(registry){},_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null},_NoopGetTestability=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],_NoopGetTestability)}();exports.setTestabilityGetter=setTestabilityGetter;var _testabilityGetter=lang_1.CONST_EXPR(new _NoopGetTestability)},{"../zone/ng_zone":185,"angular2/src/core/di":135,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],182:[function(require,module,exports){"use strict";var decorators_1=require("./util/decorators");exports.Class=decorators_1.Class},{"./util/decorators":183}],183:[function(require,module,exports){"use strict";function extractAnnotation(annotation){return lang_1.isFunction(annotation)&&annotation.hasOwnProperty("annotation")&&(annotation=annotation.annotation),annotation}function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array)throw new Error("Can not use native "+lang_1.stringify(fnOrArray)+" as constructor");if(lang_1.isFunction(fnOrArray))return fnOrArray;if(fnOrArray instanceof Array){var annotations=fnOrArray,fn=fnOrArray[fnOrArray.length-1];if(!lang_1.isFunction(fn))throw new Error("Last position of Class method array must be Function in key "+key+" was '"+lang_1.stringify(fn)+"'");var annoLength=annotations.length-1;if(annoLength!=fn.length)throw new Error("Number of annotations ("+annoLength+") does not match number of arguments ("+fn.length+") in the function: "+lang_1.stringify(fn));for(var paramsAnnotations=[],i=0,ii=annotations.length-1;ii>i;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(annotation instanceof Array)for(var j=0;j<annotation.length;j++)paramAnnotations.push(extractAnnotation(annotation[j]));else lang_1.isFunction(annotation)?paramAnnotations.push(extractAnnotation(annotation)):paramAnnotations.push(annotation)}return Reflect.defineMetadata("parameters",paramsAnnotations,fn),fn}throw new Error("Only Function or Array is supported in Class definition for key '"+key+"' is '"+lang_1.stringify(fnOrArray)+"'")}function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty("constructor")?clsDef.constructor:void 0,"constructor"),proto=constructor.prototype;if(clsDef.hasOwnProperty("extends")){if(!lang_1.isFunction(clsDef["extends"]))throw new Error("Class definition 'extends' property must be a constructor function was: "+lang_1.stringify(clsDef["extends"]));constructor.prototype=proto=Object.create(clsDef["extends"].prototype)}for(var key in clsDef)"extends"!=key&&"prototype"!=key&&clsDef.hasOwnProperty(key)&&(proto[key]=applyParams(clsDef[key],key));return this&&this.annotations instanceof Array&&Reflect.defineMetadata("annotations",this.annotations,constructor),constructor.name||(constructor.overriddenName="class"+_nextClassId++),constructor}function makeDecorator(annotationCls,chainFn){function DecoratorFactory(objOrType){var annotationInstance=new annotationCls(objOrType);if(this instanceof annotationCls)return annotationInstance;var chainAnnotation=lang_1.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function(cls){var annotations=Reflect.getOwnMetadata("annotations",cls);return annotations=annotations||[],annotations.push(annotationInstance),Reflect.defineMetadata("annotations",annotations,cls),cls};return TypeDecorator.annotations=chainAnnotation,TypeDecorator.Class=Class,chainFn&&chainFn(TypeDecorator),TypeDecorator}return void 0===chainFn&&(chainFn=null),DecoratorFactory.prototype=Object.create(annotationCls.prototype),DecoratorFactory}function makeParamDecorator(annotationCls){function ParamDecoratorFactory(){function ParamDecorator(cls,unusedKey,index){var parameters=Reflect.getMetadata("parameters",cls);for(parameters=parameters||[];parameters.length<=index;)parameters.push(null);parameters[index]=parameters[index]||[];var annotationsForParam=parameters[index];return annotationsForParam.push(annotationInstance),Reflect.defineMetadata("parameters",parameters,cls),cls}for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var annotationInstance=Object.create(annotationCls.prototype);return annotationCls.apply(annotationInstance,args),this instanceof annotationCls?annotationInstance:(ParamDecorator.annotation=annotationInstance,ParamDecorator)}return ParamDecoratorFactory.prototype=Object.create(annotationCls.prototype),ParamDecoratorFactory}function makePropDecorator(decoratorCls){function PropDecoratorFactory(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var decoratorInstance=Object.create(decoratorCls.prototype);return decoratorCls.apply(decoratorInstance,args),this instanceof decoratorCls?decoratorInstance:function(target,name){var meta=Reflect.getOwnMetadata("propMetadata",target.constructor);meta=meta||{},meta[name]=meta[name]||[],meta[name].unshift(decoratorInstance),Reflect.defineMetadata("propMetadata",meta,target.constructor)}}return PropDecoratorFactory.prototype=Object.create(decoratorCls.prototype),PropDecoratorFactory}var lang_1=require("angular2/src/facade/lang"),_nextClassId=0;exports.Class=Class;var Reflect=lang_1.global.Reflect;!function(){if(!Reflect||!Reflect.getMetadata)throw"reflect-metadata shim is required when using class decorators"}(),exports.makeDecorator=makeDecorator,exports.makeParamDecorator=makeParamDecorator,exports.makePropDecorator=makePropDecorator},{"angular2/src/facade/lang":195}],184:[function(require,module,exports){"use strict";var ng_zone_1=require("./zone/ng_zone");exports.NgZone=ng_zone_1.NgZone,exports.NgZoneError=ng_zone_1.NgZoneError},{"./zone/ng_zone":185}],185:[function(require,module,exports){"use strict";var async_1=require("angular2/src/facade/async"),ng_zone_impl_1=require("./ng_zone_impl"),exceptions_1=require("../../facade/exceptions"),ng_zone_impl_2=require("./ng_zone_impl");exports.NgZoneError=ng_zone_impl_2.NgZoneError;var NgZone=function(){function NgZone(_a){var _this=this,_b=_a.enableLongStackTrace,enableLongStackTrace=void 0===_b?!1:_b;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new async_1.EventEmitter(!1),this._onMicrotaskEmpty=new async_1.EventEmitter(!1),this._onStable=new async_1.EventEmitter(!1),this._onErrorEvents=new async_1.EventEmitter(!1),this._zoneImpl=new ng_zone_impl_1.NgZoneImpl({trace:enableLongStackTrace,onEnter:function(){_this._nesting++,_this._isStable&&(_this._isStable=!1,
_this._onUnstable.emit(null))},onLeave:function(){_this._nesting--,_this._checkStable()},setMicrotask:function(hasMicrotasks){_this._hasPendingMicrotasks=hasMicrotasks,_this._checkStable()},setMacrotask:function(hasMacrotasks){_this._hasPendingMacrotasks=hasMacrotasks},onError:function(error){return _this._onErrorEvents.emit(error)}})}return NgZone.isInAngularZone=function(){return ng_zone_impl_1.NgZoneImpl.isInAngularZone()},NgZone.assertInAngularZone=function(){if(!ng_zone_impl_1.NgZoneImpl.isInAngularZone())throw new exceptions_1.BaseException("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(ng_zone_impl_1.NgZoneImpl.isInAngularZone())throw new exceptions_1.BaseException("Expected to not be in Angular Zone, but it is!")},NgZone.prototype._checkStable=function(){var _this=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return _this._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),NgZone.prototype.run=function(fn){return this._zoneImpl.runInner(fn)},NgZone.prototype.runOutsideAngular=function(fn){return this._zoneImpl.runOuter(fn)},NgZone}();exports.NgZone=NgZone},{"../../facade/exceptions":192,"./ng_zone_impl":186,"angular2/src/facade/async":187}],186:[function(require,module,exports){"use strict";var NgZoneError=function(){function NgZoneError(error,stackTrace){this.error=error,this.stackTrace=stackTrace}return NgZoneError}();exports.NgZoneError=NgZoneError;var NgZoneImpl=function(){function NgZoneImpl(_a){var _this=this,trace=_a.trace,onEnter=_a.onEnter,onLeave=_a.onLeave,setMicrotask=_a.setMicrotask,setMacrotask=_a.setMacrotask,onError=_a.onError;if(this.onEnter=onEnter,this.onLeave=onLeave,this.setMicrotask=setMicrotask,this.setMacrotask=setMacrotask,this.onError=onError,!Zone)throw new Error("Angular2 needs to be run with Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),trace&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(delegate,current,target,task,applyThis,applyArgs){try{return _this.onEnter(),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{_this.onLeave()}},onInvoke:function(delegate,current,target,callback,applyThis,applyArgs,source){try{return _this.onEnter(),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{_this.onLeave()}},onHasTask:function(delegate,current,target,hasTaskState){delegate.hasTask(target,hasTaskState),current==target&&("microTask"==hasTaskState.change?_this.setMicrotask(hasTaskState.microTask):"macroTask"==hasTaskState.change&&_this.setMacrotask(hasTaskState.macroTask))},onHandleError:function(delegate,current,target,error){return delegate.handleError(target,error),_this.onError(new NgZoneError(error,error.stack)),!1}})}return NgZoneImpl.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},NgZoneImpl.prototype.runInner=function(fn){return this.inner.runGuarded(fn)},NgZoneImpl.prototype.runOuter=function(fn){return this.outer.run(fn)},NgZoneImpl}();exports.NgZoneImpl=NgZoneImpl},{}],187:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),promise_1=require("angular2/src/facade/promise");exports.PromiseWrapper=promise_1.PromiseWrapper,exports.PromiseCompleter=promise_1.PromiseCompleter;var Subject_1=require("rxjs/Subject"),PromiseObservable_1=require("rxjs/observable/PromiseObservable"),toPromise_1=require("rxjs/operator/toPromise"),Observable_1=require("rxjs/Observable");exports.Observable=Observable_1.Observable;var Subject_2=require("rxjs/Subject");exports.Subject=Subject_2.Subject;var TimerWrapper=function(){function TimerWrapper(){}return TimerWrapper.setTimeout=function(fn,millis){return lang_1.global.setTimeout(fn,millis)},TimerWrapper.clearTimeout=function(id){lang_1.global.clearTimeout(id)},TimerWrapper.setInterval=function(fn,millis){return lang_1.global.setInterval(fn,millis)},TimerWrapper.clearInterval=function(id){lang_1.global.clearInterval(id)},TimerWrapper}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function ObservableWrapper(){}return ObservableWrapper.subscribe=function(emitter,onNext,onError,onComplete){return void 0===onComplete&&(onComplete=function(){}),onError="function"==typeof onError&&onError||lang_1.noop,onComplete="function"==typeof onComplete&&onComplete||lang_1.noop,emitter.subscribe({next:onNext,error:onError,complete:onComplete})},ObservableWrapper.isObservable=function(obs){return!!obs.subscribe},ObservableWrapper.hasSubscribers=function(obs){return obs.observers.length>0},ObservableWrapper.dispose=function(subscription){subscription.unsubscribe()},ObservableWrapper.callNext=function(emitter,value){emitter.next(value)},ObservableWrapper.callEmit=function(emitter,value){emitter.emit(value)},ObservableWrapper.callError=function(emitter,error){emitter.error(error)},ObservableWrapper.callComplete=function(emitter){emitter.complete()},ObservableWrapper.fromPromise=function(promise){return PromiseObservable_1.PromiseObservable.create(promise)},ObservableWrapper.toPromise=function(obj){return toPromise_1.toPromise.call(obj)},ObservableWrapper}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(_super){function EventEmitter(isAsync){void 0===isAsync&&(isAsync=!0),_super.call(this),this._isAsync=isAsync}return __extends(EventEmitter,_super),EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.next=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn,errorFn=function(err){return null},completeFn=function(){return null};return generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this._isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this._isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()})):(schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)},error&&(errorFn=this._isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}),complete&&(completeFn=this._isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()})),_super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)},EventEmitter}(Subject_1.Subject);exports.EventEmitter=EventEmitter},{"angular2/src/facade/lang":195,"angular2/src/facade/promise":197,"rxjs/Observable":419,"rxjs/Subject":421,"rxjs/observable/PromiseObservable":424,"rxjs/operator/toPromise":425}],188:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BaseWrappedException=function(_super){function BaseWrappedException(message){_super.call(this,message)}return __extends(BaseWrappedException,_super),Object.defineProperty(BaseWrappedException.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),BaseWrappedException}(Error);exports.BaseWrappedException=BaseWrappedException},{}],189:[function(require,module,exports){"use strict";var win=window;exports.window=win,exports.document=window.document,exports.location=window.location,exports.gc=window.gc?function(){return window.gc()}:function(){return null},exports.performance=window.performance?window.performance:null,exports.Event=window.Event,exports.MouseEvent=window.MouseEvent,exports.KeyboardEvent=window.KeyboardEvent,exports.EventTarget=window.EventTarget,exports.History=window.History,exports.Location=window.Location,exports.EventListener=window.EventListener},{}],190:[function(require,module,exports){"use strict";function isListLikeIterable(obj){return lang_1.isJsObject(obj)?lang_1.isArray(obj)||!(obj instanceof exports.Map)&&lang_1.getSymbolIterator()in obj:!1}function areIterablesEqual(a,b,comparator){for(var iterator1=a[lang_1.getSymbolIterator()](),iterator2=b[lang_1.getSymbolIterator()]();;){var item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}function iterateListLike(obj,fn){if(lang_1.isArray(obj))for(var i=0;i<obj.length;i++)fn(obj[i]);else for(var item,iterator=obj[lang_1.getSymbolIterator()]();!(item=iterator.next()).done;)fn(item.value)}var lang_1=require("angular2/src/facade/lang");exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(pairs){return new exports.Map(pairs)}}catch(e){}return function(pairs){for(var map=new exports.Map,i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1])}return map}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(m){return new exports.Map(m)}}catch(e){}return function(m){var map=new exports.Map;return m.forEach(function(v,k){map.set(k,v)}),map}}(),_clearValues=function(){return(new exports.Map).keys().next?function(m){for(var k,keyIterator=m.keys();!(k=keyIterator.next()).done;)m.set(k.value,null)}:function(m){m.forEach(function(v,k){m.set(k,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),MapWrapper=function(){function MapWrapper(){}return MapWrapper.clone=function(m){return createMapFromMap(m)},MapWrapper.createFromStringMap=function(stringMap){var result=new exports.Map;for(var prop in stringMap)result.set(prop,stringMap[prop]);return result},MapWrapper.toStringMap=function(m){var r={};return m.forEach(function(v,k){return r[k]=v}),r},MapWrapper.createFromPairs=function(pairs){return createMapFromPairs(pairs)},MapWrapper.clearValues=function(m){_clearValues(m)},MapWrapper.iterable=function(m){return m},MapWrapper.keys=function(m){return _arrayFromMap(m,!1)},MapWrapper.values=function(m){return _arrayFromMap(m,!0)},MapWrapper}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function StringMapWrapper(){}return StringMapWrapper.create=function(){return{}},StringMapWrapper.contains=function(map,key){return map.hasOwnProperty(key)},StringMapWrapper.get=function(map,key){return map.hasOwnProperty(key)?map[key]:void 0},StringMapWrapper.set=function(map,key,value){map[key]=value},StringMapWrapper.keys=function(map){return Object.keys(map)},StringMapWrapper.values=function(map){return Object.keys(map).reduce(function(r,a){return r.push(map[a]),r},[])},StringMapWrapper.isEmpty=function(map){for(var prop in map)return!1;return!0},StringMapWrapper["delete"]=function(map,key){delete map[key]},StringMapWrapper.forEach=function(map,callback){for(var prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)},StringMapWrapper.merge=function(m1,m2){var m={};for(var attr in m1)m1.hasOwnProperty(attr)&&(m[attr]=m1[attr]);for(var attr in m2)m2.hasOwnProperty(attr)&&(m[attr]=m2[attr]);return m},StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1),k2=Object.keys(m2);if(k1.length!=k2.length)return!1;for(var key,i=0;i<k1.length;i++)if(key=k1[i],m1[key]!==m2[key])return!1;return!0},StringMapWrapper}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return-1!==list.indexOf(el)},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1?(list.splice(index,1),!0):!1},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){lang_1.isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!lang_1.isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.flatten=function(array){var res=[];return array.forEach(function(a){return res=res.concat(a)}),res},ListWrapper}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var test=new exports.Set([1,2,3]);return 3===test.size?function(lst){return new exports.Set(lst)}:function(lst){var res=new exports.Set(lst);if(res.size!==lst.length)for(var i=0;i<lst.length;i++)res.add(lst[i]);return res}}(),SetWrapper=function(){function SetWrapper(){}return SetWrapper.createFromList=function(lst){return createSetFromList(lst)},SetWrapper.has=function(s,key){return s.has(key)},SetWrapper["delete"]=function(m,k){m["delete"](k)},SetWrapper}();exports.SetWrapper=SetWrapper},{"angular2/src/facade/lang":195}],191:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),base_wrapped_exception_1=require("angular2/src/facade/base_wrapped_exception"),collection_1=require("angular2/src/facade/collection"),_ArrayLogger=function(){function _ArrayLogger(){this.res=[]}return _ArrayLogger.prototype.log=function(s){this.res.push(s)},_ArrayLogger.prototype.logError=function(s){this.res.push(s)},_ArrayLogger.prototype.logGroup=function(s){this.res.push(s)},_ArrayLogger.prototype.logGroupEnd=function(){},_ArrayLogger}(),ExceptionHandler=function(){function ExceptionHandler(_logger,_rethrowException){void 0===_rethrowException&&(_rethrowException=!0),this._logger=_logger,this._rethrowException=_rethrowException}return ExceptionHandler.exceptionToString=function(exception,stackTrace,reason){void 0===stackTrace&&(stackTrace=null),void 0===reason&&(reason=null);var l=new _ArrayLogger,e=new ExceptionHandler(l,!1);return e.call(exception,stackTrace,reason),l.res.join("\n")},ExceptionHandler.prototype.call=function(exception,stackTrace,reason){void 0===stackTrace&&(stackTrace=null),void 0===reason&&(reason=null);var originalException=this._findOriginalException(exception),originalStack=this._findOriginalStack(exception),context=this._findContext(exception);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(exception)),lang_1.isPresent(stackTrace)&&lang_1.isBlank(originalStack)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(stackTrace))),lang_1.isPresent(reason)&&this._logger.logError("REASON: "+reason),lang_1.isPresent(originalException)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(originalException)),lang_1.isPresent(originalStack)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(originalStack))),lang_1.isPresent(context)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(context)),this._logger.logGroupEnd(),this._rethrowException)throw exception},ExceptionHandler.prototype._extractMessage=function(exception){return exception instanceof base_wrapped_exception_1.BaseWrappedException?exception.wrapperMessage:exception.toString()},ExceptionHandler.prototype._longStackTrace=function(stackTrace){return collection_1.isListLikeIterable(stackTrace)?stackTrace.join("\n\n-----async gap-----\n"):stackTrace.toString()},ExceptionHandler.prototype._findContext=function(exception){try{return exception instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(exception.context)?exception.context:this._findContext(exception.originalException):null}catch(e){return null}},ExceptionHandler.prototype._findOriginalException=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var e=exception.originalException;e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException);)e=e.originalException;return e},ExceptionHandler.prototype._findOriginalStack=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var e=exception,stack=exception.originalStack;e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException);)e=e.originalException,e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException)&&(stack=e.originalStack);return stack},ExceptionHandler}();exports.ExceptionHandler=ExceptionHandler},{"angular2/src/facade/base_wrapped_exception":188,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],192:[function(require,module,exports){"use strict";function makeTypeError(message){return new TypeError(message)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},base_wrapped_exception_1=require("./base_wrapped_exception"),exception_handler_1=require("./exception_handler"),exception_handler_2=require("./exception_handler");exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(_super){function BaseException(message){void 0===message&&(message="--"),_super.call(this,message),this.message=message,this.stack=new Error(message).stack}return __extends(BaseException,_super),BaseException.prototype.toString=function(){return this.message},BaseException}(Error);exports.BaseException=BaseException;var WrappedException=function(_super){function WrappedException(_wrapperMessage,_originalException,_originalStack,_context){_super.call(this,_wrapperMessage),this._wrapperMessage=_wrapperMessage,this._originalException=_originalException,this._originalStack=_originalStack,this._context=_context,this._wrapperStack=new Error(_wrapperMessage).stack}return __extends(WrappedException,_super),Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),WrappedException.prototype.toString=function(){return this.message},WrappedException}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented},{"./base_wrapped_exception":188,"./exception_handler":191}],193:[function(require,module,exports){"use strict";var lang_1=require("./lang");exports.Type=lang_1.Type;var async_1=require("./async");exports.EventEmitter=async_1.EventEmitter;var exceptions_1=require("./exceptions");exports.WrappedException=exceptions_1.WrappedException;var exception_handler_1=require("./exception_handler");exports.ExceptionHandler=exception_handler_1.ExceptionHandler},{"./async":187,"./exception_handler":191,"./exceptions":192,"./lang":195}],194:[function(require,module,exports){"use strict";function digitCondition(len){return 2==len?"2-digit":"numeric"}function nameCondition(len){return 4>len?"short":"long"}function extractComponents(pattern){for(var j,ret={},i=0;i<pattern.length;){for(j=i;j<pattern.length&&pattern[j]==pattern[i];)j++;var len=j-i;switch(pattern[i]){case"G":ret.era=nameCondition(len);break;case"y":ret.year=digitCondition(len);break;case"M":len>=3?ret.month=nameCondition(len):ret.month=digitCondition(len);break;case"d":ret.day=digitCondition(len);break;case"E":ret.weekday=nameCondition(len);break;case"j":ret.hour=digitCondition(len);break;case"h":ret.hour=digitCondition(len),ret.hour12=!0;break;case"H":ret.hour=digitCondition(len),ret.hour12=!1;break;case"m":ret.minute=digitCondition(len);break;case"s":ret.second=digitCondition(len);break;case"z":ret.timeZoneName="long";break;case"Z":ret.timeZoneName="short"}i=j}return ret}!function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle.Decimal=0]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent=1]="Percent",NumberFormatStyle[NumberFormatStyle.Currency=2]="Currency"}(exports.NumberFormatStyle||(exports.NumberFormatStyle={}));var NumberFormatStyle=exports.NumberFormatStyle,NumberFormatter=function(){function NumberFormatter(){}return NumberFormatter.format=function(num,locale,style,_a){var _b=void 0===_a?{}:_a,_c=_b.minimumIntegerDigits,minimumIntegerDigits=void 0===_c?1:_c,_d=_b.minimumFractionDigits,minimumFractionDigits=void 0===_d?0:_d,_e=_b.maximumFractionDigits,maximumFractionDigits=void 0===_e?3:_e,currency=_b.currency,_f=_b.currencyAsSymbol,currencyAsSymbol=void 0===_f?!1:_f,intlOptions={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits};return intlOptions.style=NumberFormatStyle[style].toLowerCase(),style==NumberFormatStyle.Currency&&(intlOptions.currency=currency,intlOptions.currencyDisplay=currencyAsSymbol?"symbol":"code"),new Intl.NumberFormat(locale,intlOptions).format(num)},NumberFormatter}();exports.NumberFormatter=NumberFormatter;var dateFormatterCache=new Map,DateFormatter=function(){function DateFormatter(){}return DateFormatter.format=function(date,locale,pattern){var key=locale+pattern;if(dateFormatterCache.has(key))return dateFormatterCache.get(key).format(date);var formatter=new Intl.DateTimeFormat(locale,extractComponents(pattern));return dateFormatterCache.set(key,formatter),formatter.format(date)},DateFormatter}();exports.DateFormatter=DateFormatter},{}],195:[function(require,module,exports){(function(global){"use strict";function scheduleMicroTask(fn){Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}function getTypeNameForDebugging(type){return type.name?type.name:typeof type}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function CONST_EXPR(expr){return expr}function CONST(){return function(target){return target}}function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function isBoolean(obj){return"boolean"==typeof obj}function isNumber(obj){return"number"==typeof obj}function isString(obj){return"string"==typeof obj}function isFunction(obj){return"function"==typeof obj}function isType(obj){return isFunction(obj)}function isStringMap(obj){return"object"==typeof obj&&null!==obj}function isPromise(obj){return obj instanceof _global.Promise}function isArray(obj){return Array.isArray(obj)}function isDate(obj){return obj instanceof exports.Date&&!isNaN(obj.valueOf())}function noop(){}function stringify(token){if("string"==typeof token)return token;if(void 0===token||null===token)return""+token;if(token.name)return token.name;if(token.overriddenName)return token.overriddenName;var res=token.toString(),newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function serializeEnum(val){return val}function deserializeEnum(val,values){return val}function resolveEnumToken(enumValue,val){return enumValue[val]}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function getMapKey(value){return value}function normalizeBlank(obj){return isBlank(obj)?null:obj}function normalizeBool(obj){return isBlank(obj)?!1:obj}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function print(obj){console.log(obj)}function setValueOnPath(global,path,value){for(var parts=path.split("."),obj=global;parts.length>1;){var name=parts.shift();obj=obj.hasOwnProperty(name)&&isPresent(obj[name])?obj[name]:obj[name]={}}void 0!==obj&&null!==obj||(obj={}),obj[parts.shift()]=value}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var keys=Object.getOwnPropertyNames(Map.prototype),i=0;i<keys.length;++i){var key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}return _symbolIterator}function evalExpression(sourceUrl,expr,declarations,vars){var fnBody=declarations+"\nreturn "+expr+"\n//# sourceURL="+sourceUrl,fnArgNames=[],fnArgValues=[];for(var argName in vars)fnArgNames.push(argName),fnArgValues.push(vars[argName]);return(new(Function.bind.apply(Function,[void 0].concat(fnArgNames.concat(fnBody))))).apply(void 0,fnArgValues)}function isPrimitive(obj){return!isJsObject(obj)}function hasConstructor(value,type){return value.constructor===type}function bitWiseOr(values){return values.reduce(function(a,b){return a|b})}function bitWiseAnd(values){return values.reduce(function(a,b){return a&b})}function escape(s){return _global.encodeURI(s)}var globalScope,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(condition){},exports.CONST_EXPR=CONST_EXPR,exports.CONST=CONST,exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function StringWrapper(){}return StringWrapper.fromCharCode=function(code){return String.fromCharCode(code)},StringWrapper.charCodeAt=function(s,index){return s.charCodeAt(index)},StringWrapper.split=function(s,regExp){return s.split(regExp)},StringWrapper.equals=function(s,s2){return s===s2},StringWrapper.stripLeft=function(s,charVal){if(s&&s.length){for(var pos=0,i=0;i<s.length&&s[i]==charVal;i++)pos++;s=s.substring(pos)}return s},StringWrapper.stripRight=function(s,charVal){if(s&&s.length){for(var pos=s.length,i=s.length-1;i>=0&&s[i]==charVal;i--)pos--;s=s.substring(0,pos)}return s},StringWrapper.replace=function(s,from,replace){return s.replace(from,replace)},StringWrapper.replaceAll=function(s,from,replace){return s.replace(from,replace)},StringWrapper.slice=function(s,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),s.slice(from,null===to?void 0:to)},StringWrapper.replaceAllMapped=function(s,from,cb){return s.replace(from,function(){for(var matches=[],_i=0;_i<arguments.length;_i++)matches[_i-0]=arguments[_i];return matches.splice(-2,2),cb(matches)})},StringWrapper.contains=function(s,substr){return-1!=s.indexOf(substr)},StringWrapper.compare=function(a,b){return b>a?-1:a>b?1:0},StringWrapper}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function StringJoiner(parts){void 0===parts&&(parts=[]),this.parts=parts;
}return StringJoiner.prototype.add=function(part){this.parts.push(part)},StringJoiner.prototype.toString=function(){return this.parts.join("")},StringJoiner}();exports.StringJoiner=StringJoiner;var NumberParseError=function(_super){function NumberParseError(message){_super.call(this),this.message=message}return __extends(NumberParseError,_super),NumberParseError.prototype.toString=function(){return this.message},NumberParseError}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(n,fractionDigits){return n.toFixed(fractionDigits)},NumberWrapper.equal=function(a,b){return a===b},NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result))throw new NumberParseError("Invalid integer literal when parsing "+text);return result},NumberWrapper.parseInt=function(text,radix){if(10==radix){if(/^(\-|\+)?[0-9]+$/.test(text))return parseInt(text,radix)}else if(16==radix){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text))return parseInt(text,radix)}else{var result=parseInt(text,radix);if(!isNaN(result))return result}throw new NumberParseError("Invalid integer literal when parsing "+text+" in base "+radix)},NumberWrapper.parseFloat=function(text){return parseFloat(text)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNaN=function(value){return isNaN(value)},NumberWrapper.isInteger=function(value){return Number.isInteger(value)},NumberWrapper}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function RegExpWrapper(){}return RegExpWrapper.create=function(regExpStr,flags){return void 0===flags&&(flags=""),flags=flags.replace(/g/g,""),new _global.RegExp(regExpStr,flags+"g")},RegExpWrapper.firstMatch=function(regExp,input){return regExp.lastIndex=0,regExp.exec(input)},RegExpWrapper.test=function(regExp,input){return regExp.lastIndex=0,regExp.test(input)},RegExpWrapper.matcher=function(regExp,input){return regExp.lastIndex=0,{re:regExp,input:input}},RegExpWrapper.replaceAll=function(regExp,input,replace){var c=regExp.exec(input),res="";regExp.lastIndex=0;for(var prev=0;c;)res+=input.substring(prev,c.index),res+=replace(c),prev=c.index+c[0].length,regExp.lastIndex=prev,c=regExp.exec(input);return res+=input.substring(prev)},RegExpWrapper}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function RegExpMatcherWrapper(){}return RegExpMatcherWrapper.next=function(matcher){return matcher.re.exec(matcher.input)},RegExpMatcherWrapper}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function FunctionWrapper(){}return FunctionWrapper.apply=function(fn,posArgs){return fn.apply(null,posArgs)},FunctionWrapper}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print;var Json=function(){function Json(){}return Json.parse=function(s){return _global.JSON.parse(s)},Json.stringify=function(data){return _global.JSON.stringify(data,null,2)},Json}();exports.Json=Json;var DateWrapper=function(){function DateWrapper(){}return DateWrapper.create=function(year,month,day,hour,minutes,seconds,milliseconds){return void 0===month&&(month=1),void 0===day&&(day=1),void 0===hour&&(hour=0),void 0===minutes&&(minutes=0),void 0===seconds&&(seconds=0),void 0===milliseconds&&(milliseconds=0),new exports.Date(year,month-1,day,hour,minutes,seconds,milliseconds)},DateWrapper.fromISOString=function(str){return new exports.Date(str)},DateWrapper.fromMillis=function(ms){return new exports.Date(ms)},DateWrapper.toMillis=function(date){return date.getTime()},DateWrapper.now=function(){return new exports.Date},DateWrapper.toJson=function(date){return date.toJSON()},DateWrapper}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],196:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang");exports.Math=lang_1.global.Math,exports.NaN=typeof exports.NaN},{"angular2/src/facade/lang":195}],197:[function(require,module,exports){"use strict";var PromiseCompleter=function(){function PromiseCompleter(){var _this=this;this.promise=new Promise(function(res,rej){_this.resolve=res,_this.reject=rej})}return PromiseCompleter}();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(obj){return Promise.resolve(obj)},PromiseWrapper.reject=function(obj,_){return Promise.reject(obj)},PromiseWrapper.catchError=function(promise,onError){return promise["catch"](onError)},PromiseWrapper.all=function(promises){return 0==promises.length?Promise.resolve([]):Promise.all(promises)},PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection)},PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation())}catch(e){rej(e)}})},PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){})},PromiseWrapper.isPromise=function(obj){return obj instanceof Promise},PromiseWrapper.completer=function(){return new PromiseCompleter},PromiseWrapper}();exports.PromiseWrapper=PromiseWrapper},{}],198:[function(require,module,exports){"use strict";function _getJsonpConnections(){return null===_jsonpConnections&&(_jsonpConnections=lang_1.global[exports.JSONP_HOME]={}),_jsonpConnections}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),_nextRequestId=0;exports.JSONP_HOME="__ng_jsonp__";var _jsonpConnections=null,BrowserJsonp=function(){function BrowserJsonp(){}return BrowserJsonp.prototype.build=function(url){var node=document.createElement("script");return node.src=url,node},BrowserJsonp.prototype.nextRequestID=function(){return"__req"+_nextRequestId++},BrowserJsonp.prototype.requestCallback=function(id){return exports.JSONP_HOME+"."+id+".finished"},BrowserJsonp.prototype.exposeConnection=function(id,connection){var connections=_getJsonpConnections();connections[id]=connection},BrowserJsonp.prototype.removeConnection=function(id){var connections=_getJsonpConnections();connections[id]=null},BrowserJsonp.prototype.send=function(node){document.body.appendChild(node)},BrowserJsonp.prototype.cleanup=function(node){node.parentNode&&node.parentNode.removeChild(node)},BrowserJsonp=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BrowserJsonp)}();exports.BrowserJsonp=BrowserJsonp},{"angular2/core":11,"angular2/src/facade/lang":195}],199:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),BrowserXhr=function(){function BrowserXhr(){}return BrowserXhr.prototype.build=function(){return new XMLHttpRequest},BrowserXhr=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BrowserXhr)}();exports.BrowserXhr=BrowserXhr},{"angular2/core":11}],200:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},interfaces_1=require("../interfaces"),enums_1=require("../enums"),static_response_1=require("../static_response"),base_response_options_1=require("../base_response_options"),core_1=require("angular2/core"),browser_jsonp_1=require("./browser_jsonp"),exceptions_1=require("angular2/src/facade/exceptions"),lang_1=require("angular2/src/facade/lang"),Observable_1=require("rxjs/Observable"),JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function JSONPConnection(){}return JSONPConnection}();exports.JSONPConnection=JSONPConnection;var JSONPConnection_=function(_super){function JSONPConnection_(req,_dom,baseResponseOptions){var _this=this;if(_super.call(this),this._dom=_dom,this.baseResponseOptions=baseResponseOptions,this._finished=!1,req.method!==enums_1.RequestMethod.Get)throw exceptions_1.makeTypeError(JSONP_ERR_WRONG_METHOD);this.request=req,this.response=new Observable_1.Observable(function(responseObserver){_this.readyState=enums_1.ReadyState.Loading;var id=_this._id=_dom.nextRequestID();_dom.exposeConnection(id,_this);var callback=_dom.requestCallback(_this._id),url=req.url;url.indexOf("=JSONP_CALLBACK&")>-1?url=lang_1.StringWrapper.replace(url,"=JSONP_CALLBACK&","="+callback+"&"):url.lastIndexOf("=JSONP_CALLBACK")===url.length-"=JSONP_CALLBACK".length&&(url=url.substring(0,url.length-"=JSONP_CALLBACK".length)+("="+callback));var script=_this._script=_dom.build(url),onLoad=function(event){if(_this.readyState!==enums_1.ReadyState.Cancelled){if(_this.readyState=enums_1.ReadyState.Done,_dom.cleanup(script),!_this._finished){var responseOptions_1=new base_response_options_1.ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:enums_1.ResponseType.Error,url:url});return lang_1.isPresent(baseResponseOptions)&&(responseOptions_1=baseResponseOptions.merge(responseOptions_1)),void responseObserver.error(new static_response_1.Response(responseOptions_1))}var responseOptions=new base_response_options_1.ResponseOptions({body:_this._responseData,url:url});lang_1.isPresent(_this.baseResponseOptions)&&(responseOptions=_this.baseResponseOptions.merge(responseOptions)),responseObserver.next(new static_response_1.Response(responseOptions)),responseObserver.complete()}},onError=function(error){if(_this.readyState!==enums_1.ReadyState.Cancelled){_this.readyState=enums_1.ReadyState.Done,_dom.cleanup(script);var responseOptions=new base_response_options_1.ResponseOptions({body:error.message,type:enums_1.ResponseType.Error});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new static_response_1.Response(responseOptions))}};return script.addEventListener("load",onLoad),script.addEventListener("error",onError),_dom.send(script),function(){_this.readyState=enums_1.ReadyState.Cancelled,script.removeEventListener("load",onLoad),script.removeEventListener("error",onError),lang_1.isPresent(script)&&_this._dom.cleanup(script)}})}return __extends(JSONPConnection_,_super),JSONPConnection_.prototype.finished=function(data){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==enums_1.ReadyState.Cancelled&&(this._responseData=data)},JSONPConnection_}(JSONPConnection);exports.JSONPConnection_=JSONPConnection_;var JSONPBackend=function(_super){function JSONPBackend(){_super.apply(this,arguments)}return __extends(JSONPBackend,_super),JSONPBackend}(interfaces_1.ConnectionBackend);exports.JSONPBackend=JSONPBackend;var JSONPBackend_=function(_super){function JSONPBackend_(_browserJSONP,_baseResponseOptions){_super.call(this),this._browserJSONP=_browserJSONP,this._baseResponseOptions=_baseResponseOptions}return __extends(JSONPBackend_,_super),JSONPBackend_.prototype.createConnection=function(request){return new JSONPConnection_(request,this._browserJSONP,this._baseResponseOptions)},JSONPBackend_=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[browser_jsonp_1.BrowserJsonp,base_response_options_1.ResponseOptions])],JSONPBackend_)}(JSONPBackend);exports.JSONPBackend_=JSONPBackend_},{"../base_response_options":203,"../enums":204,"../interfaces":208,"../static_response":210,"./browser_jsonp":198,"angular2/core":11,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195,"rxjs/Observable":419}],201:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},enums_1=require("../enums"),static_response_1=require("../static_response"),headers_1=require("../headers"),base_response_options_1=require("../base_response_options"),core_1=require("angular2/core"),browser_xhr_1=require("./browser_xhr"),lang_1=require("angular2/src/facade/lang"),Observable_1=require("rxjs/Observable"),http_utils_1=require("../http_utils"),XHRConnection=function(){function XHRConnection(req,browserXHR,baseResponseOptions){var _this=this;this.request=req,this.response=new Observable_1.Observable(function(responseObserver){var _xhr=browserXHR.build();_xhr.open(enums_1.RequestMethod[req.method].toUpperCase(),req.url);var onLoad=function(){var body=lang_1.isPresent(_xhr.response)?_xhr.response:_xhr.responseText,headers=headers_1.Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders()),url=http_utils_1.getResponseURL(_xhr),status=1223===_xhr.status?204:_xhr.status;0===status&&(status=body?200:0);var responseOptions=new base_response_options_1.ResponseOptions({body:body,status:status,headers:headers,url:url});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions));var response=new static_response_1.Response(responseOptions);return http_utils_1.isSuccess(status)?(responseObserver.next(response),void responseObserver.complete()):void responseObserver.error(response)},onError=function(err){var responseOptions=new base_response_options_1.ResponseOptions({body:err,type:enums_1.ResponseType.Error});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new static_response_1.Response(responseOptions))};return lang_1.isPresent(req.headers)&&req.headers.forEach(function(values,name){return _xhr.setRequestHeader(name,values.join(","))}),_xhr.addEventListener("load",onLoad),_xhr.addEventListener("error",onError),_xhr.send(_this.request.text()),function(){_xhr.removeEventListener("load",onLoad),_xhr.removeEventListener("error",onError),_xhr.abort()}})}return XHRConnection}();exports.XHRConnection=XHRConnection;var XHRBackend=function(){function XHRBackend(_browserXHR,_baseResponseOptions){this._browserXHR=_browserXHR,this._baseResponseOptions=_baseResponseOptions}return XHRBackend.prototype.createConnection=function(request){return new XHRConnection(request,this._browserXHR,this._baseResponseOptions)},XHRBackend=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[browser_xhr_1.BrowserXhr,base_response_options_1.ResponseOptions])],XHRBackend)}();exports.XHRBackend=XHRBackend},{"../base_response_options":203,"../enums":204,"../headers":205,"../http_utils":207,"../static_response":210,"./browser_xhr":199,"angular2/core":11,"angular2/src/facade/lang":195,"rxjs/Observable":419}],202:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),headers_1=require("./headers"),enums_1=require("./enums"),core_1=require("angular2/core"),url_search_params_1=require("./url_search_params"),http_utils_1=require("./http_utils"),RequestOptions=function(){function RequestOptions(_a){var _b=void 0===_a?{}:_a,method=_b.method,headers=_b.headers,body=_b.body,url=_b.url,search=_b.search;this.method=lang_1.isPresent(method)?http_utils_1.normalizeMethodName(method):null,this.headers=lang_1.isPresent(headers)?headers:null,this.body=lang_1.isPresent(body)?body:null,this.url=lang_1.isPresent(url)?url:null,this.search=lang_1.isPresent(search)?lang_1.isString(search)?new url_search_params_1.URLSearchParams(search):search:null}return RequestOptions.prototype.merge=function(options){return new RequestOptions({method:lang_1.isPresent(options)&&lang_1.isPresent(options.method)?options.method:this.method,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url,search:lang_1.isPresent(options)&&lang_1.isPresent(options.search)?lang_1.isString(options.search)?new url_search_params_1.URLSearchParams(options.search):options.search.clone():this.search})},RequestOptions}();exports.RequestOptions=RequestOptions;var BaseRequestOptions=function(_super){function BaseRequestOptions(){_super.call(this,{method:enums_1.RequestMethod.Get,headers:new headers_1.Headers})}return __extends(BaseRequestOptions,_super),BaseRequestOptions=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BaseRequestOptions)}(RequestOptions);exports.BaseRequestOptions=BaseRequestOptions},{"./enums":204,"./headers":205,"./http_utils":207,"./url_search_params":211,"angular2/core":11,"angular2/src/facade/lang":195}],203:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),headers_1=require("./headers"),enums_1=require("./enums"),ResponseOptions=function(){function ResponseOptions(_a){var _b=void 0===_a?{}:_a,body=_b.body,status=_b.status,headers=_b.headers,statusText=_b.statusText,type=_b.type,url=_b.url;this.body=lang_1.isPresent(body)?body:null,this.status=lang_1.isPresent(status)?status:null,this.headers=lang_1.isPresent(headers)?headers:null,this.statusText=lang_1.isPresent(statusText)?statusText:null,this.type=lang_1.isPresent(type)?type:null,this.url=lang_1.isPresent(url)?url:null}return ResponseOptions.prototype.merge=function(options){return new ResponseOptions({body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,status:lang_1.isPresent(options)&&lang_1.isPresent(options.status)?options.status:this.status,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,statusText:lang_1.isPresent(options)&&lang_1.isPresent(options.statusText)?options.statusText:this.statusText,type:lang_1.isPresent(options)&&lang_1.isPresent(options.type)?options.type:this.type,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url})},ResponseOptions}();exports.ResponseOptions=ResponseOptions;var BaseResponseOptions=function(_super){function BaseResponseOptions(){_super.call(this,{status:200,statusText:"Ok",type:enums_1.ResponseType.Default,headers:new headers_1.Headers})}return __extends(BaseResponseOptions,_super),BaseResponseOptions=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BaseResponseOptions)}(ResponseOptions);exports.BaseResponseOptions=BaseResponseOptions},{"./enums":204,"./headers":205,"angular2/core":11,"angular2/src/facade/lang":195}],204:[function(require,module,exports){"use strict";!function(RequestMethod){RequestMethod[RequestMethod.Get=0]="Get",RequestMethod[RequestMethod.Post=1]="Post",RequestMethod[RequestMethod.Put=2]="Put",RequestMethod[RequestMethod.Delete=3]="Delete",RequestMethod[RequestMethod.Options=4]="Options",RequestMethod[RequestMethod.Head=5]="Head",RequestMethod[RequestMethod.Patch=6]="Patch"}(exports.RequestMethod||(exports.RequestMethod={}));exports.RequestMethod;!function(ReadyState){ReadyState[ReadyState.Unsent=0]="Unsent",ReadyState[ReadyState.Open=1]="Open",ReadyState[ReadyState.HeadersReceived=2]="HeadersReceived",ReadyState[ReadyState.Loading=3]="Loading",ReadyState[ReadyState.Done=4]="Done",ReadyState[ReadyState.Cancelled=5]="Cancelled"}(exports.ReadyState||(exports.ReadyState={}));exports.ReadyState;!function(ResponseType){ResponseType[ResponseType.Basic=0]="Basic",ResponseType[ResponseType.Cors=1]="Cors",ResponseType[ResponseType.Default=2]="Default",ResponseType[ResponseType.Error=3]="Error",ResponseType[ResponseType.Opaque=4]="Opaque"}(exports.ResponseType||(exports.ResponseType={}));exports.ResponseType},{}],205:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),Headers=function(){function Headers(headers){var _this=this;return headers instanceof Headers?void(this._headersMap=headers._headersMap):(this._headersMap=new collection_1.Map,void(lang_1.isBlank(headers)||collection_1.StringMapWrapper.forEach(headers,function(v,k){_this._headersMap.set(k,collection_1.isListLikeIterable(v)?v:[v])})))}return Headers.fromResponseHeaderString=function(headersString){return headersString.trim().split("\n").map(function(val){return val.split(":")}).map(function(_a){var key=_a[0],parts=_a.slice(1);return[key.trim(),parts.join(":").trim()]}).reduce(function(headers,_a){var key=_a[0],value=_a[1];return!headers.set(key,value)&&headers},new Headers)},Headers.prototype.append=function(name,value){var mapName=this._headersMap.get(name),list=collection_1.isListLikeIterable(mapName)?mapName:[];list.push(value),this._headersMap.set(name,list)},Headers.prototype["delete"]=function(name){this._headersMap["delete"](name)},Headers.prototype.forEach=function(fn){this._headersMap.forEach(fn)},Headers.prototype.get=function(header){return collection_1.ListWrapper.first(this._headersMap.get(header))},Headers.prototype.has=function(header){return this._headersMap.has(header)},Headers.prototype.keys=function(){return collection_1.MapWrapper.keys(this._headersMap)},Headers.prototype.set=function(header,value){var list=[];if(collection_1.isListLikeIterable(value)){var pushValue=value.join(",");list.push(pushValue)}else list.push(value);this._headersMap.set(header,list)},Headers.prototype.values=function(){return collection_1.MapWrapper.values(this._headersMap)},Headers.prototype.toJSON=function(){var serializableHeaders={};return this._headersMap.forEach(function(values,name){var list=[];collection_1.iterateListLike(values,function(val){return list=collection_1.ListWrapper.concat(list,val.split(","))}),serializableHeaders[name]=list}),serializableHeaders},Headers.prototype.getAll=function(header){var headers=this._headersMap.get(header);return collection_1.isListLikeIterable(headers)?headers:[]},Headers.prototype.entries=function(){throw new exceptions_1.BaseException('"entries" method is not implemented on Headers class')},Headers}();exports.Headers=Headers},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],206:[function(require,module,exports){"use strict";function httpRequest(backend,request){return backend.createConnection(request).response}function mergeOptions(defaultOpts,providedOpts,method,url){var newOptions=defaultOpts;return lang_1.isPresent(providedOpts)?newOptions.merge(new base_request_options_1.RequestOptions({method:providedOpts.method||method,url:providedOpts.url||url,search:providedOpts.search,headers:providedOpts.headers,body:providedOpts.body})):lang_1.isPresent(method)?newOptions.merge(new base_request_options_1.RequestOptions({method:method,url:url})):newOptions.merge(new base_request_options_1.RequestOptions({url:url}))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),core_1=require("angular2/core"),interfaces_1=require("./interfaces"),static_request_1=require("./static_request"),base_request_options_1=require("./base_request_options"),enums_1=require("./enums"),Http=function(){function Http(_backend,_defaultOptions){this._backend=_backend,this._defaultOptions=_defaultOptions}return Http.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url))responseObservable=httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)));else{if(!(url instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");responseObservable=httpRequest(this._backend,url)}return responseObservable},Http.prototype.get=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)))},Http.prototype.post=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Post,url)))},Http.prototype.put=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Put,url)))},Http.prototype["delete"]=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Delete,url)))},Http.prototype.patch=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Patch,url)))},Http.prototype.head=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Head,url)))},Http=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[interfaces_1.ConnectionBackend,base_request_options_1.RequestOptions])],Http)}();exports.Http=Http;var Jsonp=function(_super){function Jsonp(backend,defaultOptions){_super.call(this,backend,defaultOptions)}return __extends(Jsonp,_super),Jsonp.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url)&&(url=new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url))),!(url instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");return url.method!==enums_1.RequestMethod.Get&&exceptions_1.makeTypeError("JSONP requests must use GET request method."),responseObservable=httpRequest(this._backend,url)},Jsonp=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[interfaces_1.ConnectionBackend,base_request_options_1.RequestOptions])],Jsonp)}(Http);exports.Jsonp=Jsonp},{"./base_request_options":202,"./enums":204,"./interfaces":208,"./static_request":209,"angular2/core":11,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],207:[function(require,module,exports){"use strict";function normalizeMethodName(method){if(lang_1.isString(method)){var originalMethod=method;if(method=method.replace(/(\w)(\w*)/g,function(g0,g1,g2){return g1.toUpperCase()+g2.toLowerCase()}),method=enums_1.RequestMethod[method],"number"!=typeof method)throw exceptions_1.makeTypeError('Invalid request method. The method "'+originalMethod+'" is not supported.')}return method}function getResponseURL(xhr){return"responseURL"in xhr?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):void 0}var lang_1=require("angular2/src/facade/lang"),enums_1=require("./enums"),exceptions_1=require("angular2/src/facade/exceptions");exports.normalizeMethodName=normalizeMethodName,exports.isSuccess=function(status){return status>=200&&300>status},exports.getResponseURL=getResponseURL;
var lang_2=require("angular2/src/facade/lang");exports.isJsObject=lang_2.isJsObject},{"./enums":204,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],208:[function(require,module,exports){"use strict";var ConnectionBackend=function(){function ConnectionBackend(){}return ConnectionBackend}();exports.ConnectionBackend=ConnectionBackend;var Connection=function(){function Connection(){}return Connection}();exports.Connection=Connection},{}],209:[function(require,module,exports){"use strict";var headers_1=require("./headers"),http_utils_1=require("./http_utils"),lang_1=require("angular2/src/facade/lang"),Request=function(){function Request(requestOptions){var url=requestOptions.url;if(this.url=requestOptions.url,lang_1.isPresent(requestOptions.search)){var search=requestOptions.search.toString();if(search.length>0){var prefix="?";lang_1.StringWrapper.contains(this.url,"?")&&(prefix="&"==this.url[this.url.length-1]?"":"&"),this.url=url+prefix+search}}this._body=requestOptions.body,this.method=http_utils_1.normalizeMethodName(requestOptions.method),this.headers=new headers_1.Headers(requestOptions.headers)}return Request.prototype.text=function(){return lang_1.isPresent(this._body)?this._body.toString():""},Request}();exports.Request=Request},{"./headers":205,"./http_utils":207,"angular2/src/facade/lang":195}],210:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),http_utils_1=require("./http_utils"),Response=function(){function Response(responseOptions){this._body=responseOptions.body,this.status=responseOptions.status,this.statusText=responseOptions.statusText,this.headers=responseOptions.headers,this.type=responseOptions.type,this.url=responseOptions.url}return Response.prototype.blob=function(){throw new exceptions_1.BaseException('"blob()" method not implemented on Response superclass')},Response.prototype.json=function(){var jsonResponse;return http_utils_1.isJsObject(this._body)?jsonResponse=this._body:lang_1.isString(this._body)&&(jsonResponse=lang_1.Json.parse(this._body)),jsonResponse},Response.prototype.text=function(){return this._body.toString()},Response.prototype.arrayBuffer=function(){throw new exceptions_1.BaseException('"arrayBuffer()" method not implemented on Response superclass')},Response}();exports.Response=Response},{"./http_utils":207,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],211:[function(require,module,exports){"use strict";function paramParser(rawParams){void 0===rawParams&&(rawParams="");var map=new collection_1.Map;if(rawParams.length>0){var params=rawParams.split("&");params.forEach(function(param){var split=param.split("="),key=split[0],val=split[1],list=lang_1.isPresent(map.get(key))?map.get(key):[];list.push(val),map.set(key,list)})}return map}var lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),URLSearchParams=function(){function URLSearchParams(rawParams){void 0===rawParams&&(rawParams=""),this.rawParams=rawParams,this.paramsMap=paramParser(rawParams)}return URLSearchParams.prototype.clone=function(){var clone=new URLSearchParams;return clone.appendAll(this),clone},URLSearchParams.prototype.has=function(param){return this.paramsMap.has(param)},URLSearchParams.prototype.get=function(param){var storedParam=this.paramsMap.get(param);return collection_1.isListLikeIterable(storedParam)?collection_1.ListWrapper.first(storedParam):null},URLSearchParams.prototype.getAll=function(param){var mapParam=this.paramsMap.get(param);return lang_1.isPresent(mapParam)?mapParam:[]},URLSearchParams.prototype.set=function(param,val){var mapParam=this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list),list.push(val),this.paramsMap.set(param,list)},URLSearchParams.prototype.setAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list),list.push(value[0]),_this.paramsMap.set(param,list)})},URLSearchParams.prototype.append=function(param,val){var mapParam=this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];list.push(val),this.paramsMap.set(param,list)},URLSearchParams.prototype.appendAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){for(var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[],i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.replaceAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list);for(var i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.toString=function(){var paramsList=[];return this.paramsMap.forEach(function(values,k){values.forEach(function(v){return paramsList.push(k+"="+v)})}),paramsList.join("&")},URLSearchParams.prototype["delete"]=function(param){this.paramsMap["delete"](param)},URLSearchParams}();exports.URLSearchParams=URLSearchParams},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],212:[function(require,module,exports){"use strict";function getBaseElementHref(){return lang_1.isBlank(baseElement)&&(baseElement=document.querySelector("base"),lang_1.isBlank(baseElement))?null:baseElement.getAttribute("href")}function relativePath(url){return lang_1.isBlank(urlParsingNode)&&(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),generic_browser_adapter_1=require("./generic_browser_adapter"),_attrToPropMap={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},BrowserDomAdapter=function(_super){function BrowserDomAdapter(){_super.apply(this,arguments)}return __extends(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,args)},BrowserDomAdapter.prototype.logError=function(error){window.console.error?window.console.error(error):window.console.log(error)},BrowserDomAdapter.prototype.log=function(error){window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console.group?(window.console.group(error),this.logError(error)):window.console.log(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.query=function(selector){return document.querySelector(selector)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=document.createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=document.createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||lang_1.isPresent(evt.returnValue)&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){for(var childNodes=el.childNodes,res=collection_1.ListWrapper.createFixedSize(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(el,node){el.parentNode.insertBefore(node,el)},BrowserDomAdapter.prototype.insertAllBefore=function(el,nodes){nodes.forEach(function(n){return el.parentNode.insertBefore(n,el)})},BrowserDomAdapter.prototype.insertAfter=function(el,node){el.parentNode.insertBefore(node,el.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return document.createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=document.createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return void 0===doc&&(doc=document),doc.createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return void 0===doc&&(doc=document),doc.createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return void 0===doc&&(doc=document),doc.createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){void 0===doc&&(doc=document);var el=doc.createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){void 0===doc&&(doc=document);var style=doc.createElement("style");return this.appendChild(style,this.createTextNode(css)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=null},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){void 0===styleValue&&(styleValue=null);var value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:value.length>0},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs[i];res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.defaultDoc=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(){return document.title},BrowserDomAdapter.prototype.setTitle=function(newTitle){document.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){var matches=!1;return n instanceof HTMLElement&&(n.matches?matches=n.matches(selector):n.msMatchesSelector?matches=n.msMatchesSelector(selector):n.webkitMatchesSelector&&(matches=n.webkitMatchesSelector(selector))),matches},BrowserDomAdapter.prototype.isTemplateElement=function(el){return el instanceof HTMLElement&&"TEMPLATE"==el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return node instanceof HTMLElement&&lang_1.isPresent(node.shadowRoot)},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){var toImport=node;return this.isTemplateElement(node)&&(toImport=this.content(node)),document.importNode(toImport,!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.href},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(lang_1.isBlank(key)){if(key=event.keyIdentifier,lang_1.isBlank(key))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap.hasOwnProperty(key)&&(key=_keyMap[key]),key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(target){return"window"==target?window:"document"==target?document:"body"==target?document.body:void 0},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(){var href=getBaseElementHref();return lang_1.isBlank(href)?null:relativePath(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.setGlobalVar=function(path,value){lang_1.setValueOnPath(lang_1.global,path,value)},BrowserDomAdapter.prototype.requestAnimationFrame=function(callback){return window.requestAnimationFrame(callback)},BrowserDomAdapter.prototype.cancelAnimationFrame=function(id){window.cancelAnimationFrame(id)},BrowserDomAdapter.prototype.performanceNow=function(){return lang_1.isPresent(window.performance)&&lang_1.isPresent(window.performance.now)?window.performance.now():lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now())},BrowserDomAdapter}(generic_browser_adapter_1.GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var baseElement=null,urlParsingNode=null},{"./generic_browser_adapter":213,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],213:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),xhr_impl_1=require("angular2/src/platform/browser/xhr_impl"),GenericBrowserDomAdapter=function(_super){function GenericBrowserDomAdapter(){var _this=this;_super.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var element=this.createElement("div",this.defaultDoc());if(lang_1.isPresent(this.getStyle(element,"animationName")))this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(lang_1.isPresent(this.getStyle(element,domPrefixes[i]+"AnimationName"))){this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};collection_1.StringMapWrapper.forEach(transEndEventNames,function(value,key){lang_1.isPresent(_this.getStyle(element,key))&&(_this._transitionEnd=value)})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}return __extends(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getXHR=function(){return xhr_impl_1.XHRImpl},GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return lang_1.isFunction(this.defaultDoc().body.createShadowRoot)},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return lang_1.isPresent(this._animationPrefix)?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return lang_1.isPresent(this._transitionEnd)?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return lang_1.isPresent(this._animationPrefix)&&lang_1.isPresent(this._transitionEnd)},GenericBrowserDomAdapter}(dom_adapter_1.DomAdapter);exports.GenericBrowserDomAdapter=GenericBrowserDomAdapter},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/platform/browser/xhr_impl":219,"angular2/src/platform/dom/dom_adapter":223}],214:[function(require,module,exports){"use strict";var collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),core_1=require("angular2/core"),PublicTestability=function(){function PublicTestability(testability){this._testability=testability}return PublicTestability.prototype.isStable=function(){return this._testability.isStable()},PublicTestability.prototype.whenStable=function(callback){this._testability.whenStable(callback)},PublicTestability.prototype.findBindings=function(using,provider,exactMatch){return this.findProviders(using,provider,exactMatch)},PublicTestability.prototype.findProviders=function(using,provider,exactMatch){return this._testability.findBindings(using,provider,exactMatch)},PublicTestability}(),BrowserGetTestability=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){core_1.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){lang_1.global.getAngularTestability=function(elem,findInAncestors){void 0===findInAncestors&&(findInAncestors=!0);var testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return new PublicTestability(testability)},lang_1.global.getAllAngularTestabilities=function(){var testabilities=registry.getAllTestabilities();return testabilities.map(function(testability){return new PublicTestability(testability)})},lang_1.global.getAllAngularRootElements=function(){return registry.getAllRootElements()};var whenAllStable=function(callback){var testabilities=lang_1.global.getAllAngularTestabilities(),count=testabilities.length,didWork=!1,decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})};lang_1.global.frameworkStabilizers||(lang_1.global.frameworkStabilizers=collection_1.ListWrapper.createGrowableSize(0)),lang_1.global.frameworkStabilizers.push(whenAllStable)},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return lang_1.isPresent(t)?t:findInAncestors?dom_adapter_1.DOM.isShadowRoot(elem)?this.findTestabilityInTree(registry,dom_adapter_1.DOM.getHost(elem),!0):this.findTestabilityInTree(registry,dom_adapter_1.DOM.parentElement(elem),!0):null},BrowserGetTestability}();exports.BrowserGetTestability=BrowserGetTestability},{"angular2/core":11,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],215:[function(require,module,exports){"use strict";var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),Title=function(){function Title(){}return Title.prototype.getTitle=function(){return dom_adapter_1.DOM.getTitle()},Title.prototype.setTitle=function(newTitle){dom_adapter_1.DOM.setTitle(newTitle)},Title}();exports.Title=Title},{"angular2/src/platform/dom/dom_adapter":223}],216:[function(require,module,exports){"use strict";var application_ref_1=require("angular2/src/core/application_ref"),lang_1=require("angular2/src/facade/lang"),browser_1=require("angular2/src/facade/browser"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),AngularTools=function(){function AngularTools(ref){this.profiler=new AngularProfiler(ref)}return AngularTools}();exports.AngularTools=AngularTools;var AngularProfiler=function(){function AngularProfiler(ref){this.appRef=ref.injector.get(application_ref_1.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(config){var record=lang_1.isPresent(config)&&config.record,profileName="Change Detection",isProfilerAvailable=lang_1.isPresent(browser_1.window.console.profile);record&&isProfilerAvailable&&browser_1.window.console.profile(profileName);for(var start=dom_adapter_1.DOM.performanceNow(),numTicks=0;5>numTicks||dom_adapter_1.DOM.performanceNow()-start<500;)this.appRef.tick(),numTicks++;var end=dom_adapter_1.DOM.performanceNow();record&&isProfilerAvailable&&browser_1.window.console.profileEnd(profileName);var msPerTick=(end-start)/numTicks;browser_1.window.console.log("ran "+numTicks+" change detection cycles"),browser_1.window.console.log(lang_1.NumberWrapper.toFixed(msPerTick,2)+" ms per check")},AngularProfiler}();exports.AngularProfiler=AngularProfiler},{"angular2/src/core/application_ref":100,"angular2/src/facade/browser":189,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],217:[function(require,module,exports){"use strict";function enableDebugTools(ref){context.ng=new common_tools_1.AngularTools(ref)}function disableDebugTools(){delete context.ng}var lang_1=require("angular2/src/facade/lang"),common_tools_1=require("./common_tools"),context=lang_1.global;exports.enableDebugTools=enableDebugTools,exports.disableDebugTools=disableDebugTools},{"./common_tools":216,"angular2/src/facade/lang":195}],218:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},xhr_1=require("angular2/src/compiler/xhr"),exceptions_1=require("angular2/src/facade/exceptions"),lang_1=require("angular2/src/facade/lang"),promise_1=require("angular2/src/facade/promise"),CachedXHR=function(_super){function CachedXHR(){if(_super.call(this),this._cache=lang_1.global.$templateCache,null==this._cache)throw new exceptions_1.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return __extends(CachedXHR,_super),CachedXHR.prototype.get=function(url){return this._cache.hasOwnProperty(url)?promise_1.PromiseWrapper.resolve(this._cache[url]):promise_1.PromiseWrapper.reject("CachedXHR: Did not find cached template for "+url,null)},CachedXHR}(xhr_1.XHR);exports.CachedXHR=CachedXHR},{"angular2/src/compiler/xhr":97,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195,"angular2/src/facade/promise":197}],219:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},promise_1=require("angular2/src/facade/promise"),lang_1=require("angular2/src/facade/lang"),xhr_1=require("angular2/src/compiler/xhr"),XHRImpl=function(_super){function XHRImpl(){_super.apply(this,arguments)}return __extends(XHRImpl,_super),XHRImpl.prototype.get=function(url){var completer=promise_1.PromiseWrapper.completer(),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=lang_1.isPresent(xhr.response)?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),status>=200&&300>=status?completer.resolve(response):completer.reject("Failed to load "+url,null)},xhr.onerror=function(){completer.reject("Failed to load "+url,null)},xhr.send(),completer.promise},XHRImpl}(xhr_1.XHR);exports.XHRImpl=XHRImpl},{"angular2/src/compiler/xhr":97,"angular2/src/facade/lang":195,"angular2/src/facade/promise":197}],220:[function(require,module,exports){"use strict";function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.DOM,!lang_1.IS_DART)}function _document(){return dom_adapter_1.DOM.defaultDoc()}function initDomAdapter(){browser_adapter_1.BrowserDomAdapter.makeCurrent(),wtf_init_1.wtfInit(),testability_2.BrowserGetTestability.init()}var lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),xhr_1=require("angular2/src/compiler/xhr"),core_1=require("angular2/core"),common_1=require("angular2/common"),testability_1=require("angular2/src/core/testability/testability"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),dom_events_1=require("angular2/src/platform/dom/events/dom_events"),key_events_1=require("angular2/src/platform/dom/events/key_events"),hammer_gestures_1=require("angular2/src/platform/dom/events/hammer_gestures"),dom_tokens_1=require("angular2/src/platform/dom/dom_tokens"),dom_renderer_1=require("angular2/src/platform/dom/dom_renderer"),shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host"),shared_styles_host_2=require("angular2/src/platform/dom/shared_styles_host"),browser_details_1=require("angular2/src/animate/browser_details"),animation_builder_1=require("angular2/src/animate/animation_builder"),browser_adapter_1=require("./browser/browser_adapter"),testability_2=require("angular2/src/platform/browser/testability"),xhr_cache_1=require("angular2/src/platform/browser/xhr_cache"),wtf_init_1=require("angular2/src/core/profile/wtf_init"),event_manager_1=require("angular2/src/platform/dom/events/event_manager"),hammer_gestures_2=require("angular2/src/platform/dom/events/hammer_gestures"),common_dom_1=require("angular2/platform/common_dom"),dom_tokens_2=require("angular2/src/platform/dom/dom_tokens");exports.DOCUMENT=dom_tokens_2.DOCUMENT;var title_1=require("angular2/src/platform/browser/title");exports.Title=title_1.Title;var common_dom_2=require("angular2/platform/common_dom");exports.ELEMENT_PROBE_PROVIDERS=common_dom_2.ELEMENT_PROBE_PROVIDERS,exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=common_dom_2.ELEMENT_PROBE_PROVIDERS_PROD_MODE,exports.inspectNativeElement=common_dom_2.inspectNativeElement,exports.By=common_dom_2.By;var browser_adapter_2=require("./browser/browser_adapter");exports.BrowserDomAdapter=browser_adapter_2.BrowserDomAdapter;var tools_1=require("angular2/src/platform/browser/tools/tools");exports.enableDebugTools=tools_1.enableDebugTools,exports.disableDebugTools=tools_1.disableDebugTools;var hammer_gestures_3=require("./dom/events/hammer_gestures");exports.HAMMER_GESTURE_CONFIG=hammer_gestures_3.HAMMER_GESTURE_CONFIG,exports.HammerGestureConfig=hammer_gestures_3.HammerGestureConfig,exports.BROWSER_PROVIDERS=lang_1.CONST_EXPR([core_1.PLATFORM_COMMON_PROVIDERS,new di_1.Provider(core_1.PLATFORM_INITIALIZER,{
useValue:initDomAdapter,multi:!0})]),exports.BROWSER_APP_COMMON_PROVIDERS=lang_1.CONST_EXPR([core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,new di_1.Provider(core_1.PLATFORM_PIPES,{useValue:common_1.COMMON_PIPES,multi:!0}),new di_1.Provider(core_1.PLATFORM_DIRECTIVES,{useValue:common_1.COMMON_DIRECTIVES,multi:!0}),new di_1.Provider(core_1.ExceptionHandler,{useFactory:_exceptionHandler,deps:[]}),new di_1.Provider(dom_tokens_1.DOCUMENT,{useFactory:_document,deps:[]}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:dom_events_1.DomEventsPlugin,multi:!0}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:key_events_1.KeyEventsPlugin,multi:!0}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:hammer_gestures_1.HammerGesturesPlugin,multi:!0}),new di_1.Provider(hammer_gestures_2.HAMMER_GESTURE_CONFIG,{useClass:hammer_gestures_2.HammerGestureConfig}),new di_1.Provider(dom_renderer_1.DomRootRenderer,{useClass:dom_renderer_1.DomRootRenderer_}),new di_1.Provider(core_1.RootRenderer,{useExisting:dom_renderer_1.DomRootRenderer}),new di_1.Provider(shared_styles_host_2.SharedStylesHost,{useExisting:shared_styles_host_1.DomSharedStylesHost}),shared_styles_host_1.DomSharedStylesHost,testability_1.Testability,browser_details_1.BrowserDetails,animation_builder_1.AnimationBuilder,event_manager_1.EventManager,common_dom_1.ELEMENT_PROBE_PROVIDERS]),exports.CACHED_TEMPLATE_PROVIDER=lang_1.CONST_EXPR([new di_1.Provider(xhr_1.XHR,{useClass:xhr_cache_1.CachedXHR})]),exports.initDomAdapter=initDomAdapter},{"./browser/browser_adapter":212,"./dom/events/hammer_gestures":229,"angular2/common":9,"angular2/core":11,"angular2/platform/common_dom":15,"angular2/src/animate/animation_builder":18,"angular2/src/animate/browser_details":19,"angular2/src/compiler/xhr":97,"angular2/src/core/di":135,"angular2/src/core/profile/wtf_init":173,"angular2/src/core/testability/testability":181,"angular2/src/facade/lang":195,"angular2/src/platform/browser/testability":214,"angular2/src/platform/browser/title":215,"angular2/src/platform/browser/tools/tools":217,"angular2/src/platform/browser/xhr_cache":218,"angular2/src/platform/dom/dom_adapter":223,"angular2/src/platform/dom/dom_renderer":224,"angular2/src/platform/dom/dom_tokens":225,"angular2/src/platform/dom/events/dom_events":226,"angular2/src/platform/dom/events/event_manager":227,"angular2/src/platform/dom/events/hammer_gestures":229,"angular2/src/platform/dom/events/key_events":230,"angular2/src/platform/dom/shared_styles_host":231}],221:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),By=function(){function By(){}return By.all=function(){return function(debugElement){return!0}},By.css=function(selector){return function(debugElement){return lang_1.isPresent(debugElement.nativeElement)?dom_adapter_1.DOM.elementMatches(debugElement.nativeElement,selector):!1}},By.directive=function(type){return function(debugElement){return-1!==debugElement.providerTokens.indexOf(type)}},By}();exports.By=By},{"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],222:[function(require,module,exports){"use strict";function inspectNativeElement(element){return debug_node_1.getDebugNode(element)}function _createConditionalRootRenderer(rootRenderer){return lang_1.assertionsEnabled()?_createRootRenderer(rootRenderer):rootRenderer}function _createRootRenderer(rootRenderer){return dom_adapter_1.DOM.setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement),dom_adapter_1.DOM.setGlobalVar(CORE_TOKENS_GLOBAL_NAME,CORE_TOKENS),new debug_renderer_1.DebugDomRootRenderer(rootRenderer)}var lang_1=require("angular2/src/facade/lang"),di_1=require("angular2/src/core/di"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),debug_node_1=require("angular2/src/core/debug/debug_node"),dom_renderer_1=require("angular2/src/platform/dom/dom_renderer"),core_1=require("angular2/core"),debug_renderer_1=require("angular2/src/core/debug/debug_renderer"),CORE_TOKENS=lang_1.CONST_EXPR({ApplicationRef:core_1.ApplicationRef,NgZone:core_1.NgZone}),INSPECT_GLOBAL_NAME="ng.probe",CORE_TOKENS_GLOBAL_NAME="ng.coreTokens";exports.inspectNativeElement=inspectNativeElement,exports.ELEMENT_PROBE_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createConditionalRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]),exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})])},{"angular2/core":11,"angular2/src/core/debug/debug_node":133,"angular2/src/core/debug/debug_renderer":134,"angular2/src/core/di":135,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223,"angular2/src/platform/dom/dom_renderer":224}],223:[function(require,module,exports){"use strict";function setRootDomAdapter(adapter){lang_1.isBlank(exports.DOM)&&(exports.DOM=adapter)}var lang_1=require("angular2/src/facade/lang");exports.DOM=null,exports.setRootDomAdapter=setRootDomAdapter;var DomAdapter=function(){function DomAdapter(){}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}();exports.DomAdapter=DomAdapter},{"angular2/src/facade/lang":195}],224:[function(require,module,exports){"use strict";function moveNodesAfterSibling(sibling,nodes){var parent=dom_adapter_1.DOM.parentElement(sibling);if(nodes.length>0&&lang_1.isPresent(parent)){var nextSibling=dom_adapter_1.DOM.nextSibling(sibling);if(lang_1.isPresent(nextSibling))for(var i=0;i<nodes.length;i++)dom_adapter_1.DOM.insertBefore(nextSibling,nodes[i]);else for(var i=0;i<nodes.length;i++)dom_adapter_1.DOM.appendChild(parent,nodes[i])}}function appendNodes(parent,nodes){for(var i=0;i<nodes.length;i++)dom_adapter_1.DOM.appendChild(parent,nodes[i])}function decoratePreventDefault(eventHandler){return function(event){var allowDefaultBehavior=eventHandler(event);allowDefaultBehavior===!1&&dom_adapter_1.DOM.preventDefault(event)}}function _shimContentAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.CONTENT_ATTR,COMPONENT_REGEX,componentShortId)}function _shimHostAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.HOST_ATTR,COMPONENT_REGEX,componentShortId)}function _flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];lang_1.isArray(style)?_flattenStyles(compId,style,target):(style=lang_1.StringWrapper.replaceAll(style,COMPONENT_REGEX,compId),target.push(style))}return target}function splitNamespace(name){if("@"!=name[0])return[null,name];var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,name);return[match[1],match[2]]}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=require("angular2/src/core/di"),animation_builder_1=require("angular2/src/animate/animation_builder"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),shared_styles_host_1=require("./shared_styles_host"),event_manager_1=require("./events/event_manager"),dom_tokens_1=require("./dom_tokens"),metadata_1=require("angular2/src/core/metadata"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),util_1=require("./util"),NAMESPACE_URIS=lang_1.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),TEMPLATE_COMMENT_TEXT="template bindings={}",TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/g,DomRootRenderer=function(){function DomRootRenderer(document,eventManager,sharedStylesHost,animate){this.document=document,this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.animate=animate,this._registeredComponents=new Map}return DomRootRenderer.prototype.renderComponent=function(componentProto){var renderer=this._registeredComponents.get(componentProto.id);return lang_1.isBlank(renderer)&&(renderer=new DomRenderer(this,componentProto),this._registeredComponents.set(componentProto.id,renderer)),renderer},DomRootRenderer}();exports.DomRootRenderer=DomRootRenderer;var DomRootRenderer_=function(_super){function DomRootRenderer_(_document,_eventManager,sharedStylesHost,animate){_super.call(this,_document,_eventManager,sharedStylesHost,animate)}return __extends(DomRootRenderer_,_super),DomRootRenderer_=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata("design:paramtypes",[Object,event_manager_1.EventManager,shared_styles_host_1.DomSharedStylesHost,animation_builder_1.AnimationBuilder])],DomRootRenderer_)}(DomRootRenderer);exports.DomRootRenderer_=DomRootRenderer_;var DomRenderer=function(){function DomRenderer(_rootRenderer,componentProto){this._rootRenderer=_rootRenderer,this.componentProto=componentProto,this._styles=_flattenStyles(componentProto.id,componentProto.styles,[]),componentProto.encapsulation!==metadata_1.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(componentProto.id),this._hostAttr=_shimHostAttribute(componentProto.id)):(this._contentAttr=null,this._hostAttr=null)}return DomRenderer.prototype.renderComponent=function(componentProto){return this._rootRenderer.renderComponent(componentProto)},DomRenderer.prototype.selectRootElement=function(selector){var el=dom_adapter_1.DOM.querySelector(this._rootRenderer.document,selector);if(lang_1.isBlank(el))throw new exceptions_1.BaseException('The selector "'+selector+'" did not match any elements');return dom_adapter_1.DOM.clearNodes(el),el},DomRenderer.prototype.createElement=function(parent,name){var nsAndName=splitNamespace(name),el=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]);return lang_1.isPresent(this._contentAttr)&&dom_adapter_1.DOM.setAttribute(el,this._contentAttr,""),lang_1.isPresent(parent)&&dom_adapter_1.DOM.appendChild(parent,el),el},DomRenderer.prototype.createViewRoot=function(hostElement){var nodesParent;if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native){nodesParent=dom_adapter_1.DOM.createShadowRoot(hostElement),this._rootRenderer.sharedStylesHost.addHost(nodesParent);for(var i=0;i<this._styles.length;i++)dom_adapter_1.DOM.appendChild(nodesParent,dom_adapter_1.DOM.createStyleElement(this._styles[i]))}else lang_1.isPresent(this._hostAttr)&&dom_adapter_1.DOM.setAttribute(hostElement,this._hostAttr,""),nodesParent=hostElement;return nodesParent},DomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=dom_adapter_1.DOM.createComment(TEMPLATE_COMMENT_TEXT);return lang_1.isPresent(parentElement)&&dom_adapter_1.DOM.appendChild(parentElement,comment),comment},DomRenderer.prototype.createText=function(parentElement,value){var node=dom_adapter_1.DOM.createTextNode(value);return lang_1.isPresent(parentElement)&&dom_adapter_1.DOM.appendChild(parentElement,node),node},DomRenderer.prototype.projectNodes=function(parentElement,nodes){lang_1.isBlank(parentElement)||appendNodes(parentElement,nodes)},DomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){moveNodesAfterSibling(node,viewRootNodes);for(var i=0;i<viewRootNodes.length;i++)this.animateNodeEnter(viewRootNodes[i])},DomRenderer.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++){var node=viewRootNodes[i];dom_adapter_1.DOM.remove(node),this.animateNodeLeave(node)}},DomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native&&lang_1.isPresent(hostElement)&&this._rootRenderer.sharedStylesHost.removeHost(dom_adapter_1.DOM.getShadowRoot(hostElement))},DomRenderer.prototype.listen=function(renderElement,name,callback){return this._rootRenderer.eventManager.addEventListener(renderElement,name,decoratePreventDefault(callback))},DomRenderer.prototype.listenGlobal=function(target,name,callback){return this._rootRenderer.eventManager.addGlobalEventListener(target,name,decoratePreventDefault(callback))},DomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){dom_adapter_1.DOM.setProperty(renderElement,propertyName,propertyValue)},DomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var attrNs,nsAndName=splitNamespace(attributeName);lang_1.isPresent(nsAndName[0])&&(attributeName=nsAndName[0]+":"+nsAndName[1],attrNs=NAMESPACE_URIS[nsAndName[0]]),lang_1.isPresent(attributeValue)?lang_1.isPresent(attrNs)?dom_adapter_1.DOM.setAttributeNS(renderElement,attrNs,attributeName,attributeValue):dom_adapter_1.DOM.setAttribute(renderElement,attributeName,attributeValue):lang_1.isPresent(attrNs)?dom_adapter_1.DOM.removeAttributeNS(renderElement,attrNs,nsAndName[1]):dom_adapter_1.DOM.removeAttribute(renderElement,attributeName)},DomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){var dashCasedPropertyName=util_1.camelCaseToDashCase(propertyName);if(dom_adapter_1.DOM.isCommentNode(renderElement)){var existingBindings=lang_1.RegExpWrapper.firstMatch(TEMPLATE_BINDINGS_EXP,lang_1.StringWrapper.replaceAll(dom_adapter_1.DOM.getText(renderElement),/\n/g,"")),parsedBindings=lang_1.Json.parse(existingBindings[1]);parsedBindings[dashCasedPropertyName]=propertyValue,dom_adapter_1.DOM.setText(renderElement,lang_1.StringWrapper.replace(TEMPLATE_COMMENT_TEXT,"{}",lang_1.Json.stringify(parsedBindings)))}else this.setElementAttribute(renderElement,propertyName,propertyValue)},DomRenderer.prototype.setElementDebugInfo=function(renderElement,info){},DomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){isAdd?dom_adapter_1.DOM.addClass(renderElement,className):dom_adapter_1.DOM.removeClass(renderElement,className)},DomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){lang_1.isPresent(styleValue)?dom_adapter_1.DOM.setStyle(renderElement,styleName,lang_1.stringify(styleValue)):dom_adapter_1.DOM.removeStyle(renderElement,styleName)},DomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){dom_adapter_1.DOM.invoke(renderElement,methodName,args)},DomRenderer.prototype.setText=function(renderNode,text){dom_adapter_1.DOM.setText(renderNode,text)},DomRenderer.prototype.animateNodeEnter=function(node){dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,"ng-animate")&&(dom_adapter_1.DOM.addClass(node,"ng-enter"),this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,"ng-enter")}))},DomRenderer.prototype.animateNodeLeave=function(node){dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,"ng-animate")?(dom_adapter_1.DOM.addClass(node,"ng-leave"),this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,"ng-leave"),dom_adapter_1.DOM.remove(node)})):dom_adapter_1.DOM.remove(node)},DomRenderer}();exports.DomRenderer=DomRenderer;var COMPONENT_REGEX=/%COMP%/g;exports.COMPONENT_VARIABLE="%COMP%",exports.HOST_ATTR="_nghost-"+exports.COMPONENT_VARIABLE,exports.CONTENT_ATTR="_ngcontent-"+exports.COMPONENT_VARIABLE;var NS_PREFIX_RE=/^@([^:]+):(.+)/g},{"./dom_tokens":225,"./events/event_manager":227,"./shared_styles_host":231,"./util":232,"angular2/src/animate/animation_builder":18,"angular2/src/core/di":135,"angular2/src/core/metadata":162,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],225:[function(require,module,exports){"use strict";var di_1=require("angular2/src/core/di"),lang_1=require("angular2/src/facade/lang");exports.DOCUMENT=lang_1.CONST_EXPR(new di_1.OpaqueToken("DocumentToken"))},{"angular2/src/core/di":135,"angular2/src/facade/lang":195}],226:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),core_1=require("angular2/core"),event_manager_1=require("./event_manager"),DomEventsPlugin=function(_super){function DomEventsPlugin(){_super.apply(this,arguments)}return __extends(DomEventsPlugin,_super),DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone(),outsideHandler=function(event){return zone.run(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler)})},DomEventsPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){var element=dom_adapter_1.DOM.getGlobalEventTarget(target),zone=this.manager.getZone(),outsideHandler=function(event){return zone.run(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler)})},DomEventsPlugin=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],DomEventsPlugin)}(event_manager_1.EventManagerPlugin);exports.DomEventsPlugin=DomEventsPlugin},{"./event_manager":227,"angular2/core":11,"angular2/src/platform/dom/dom_adapter":223}],227:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),di_1=require("angular2/src/core/di"),ng_zone_1=require("angular2/src/core/zone/ng_zone"),collection_1=require("angular2/src/facade/collection");exports.EVENT_MANAGER_PLUGINS=lang_1.CONST_EXPR(new di_1.OpaqueToken("EventManagerPlugins"));var EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone,plugins.forEach(function(p){return p.manager=_this}),this._plugins=collection_1.ListWrapper.reversed(plugins)}return EventManager.prototype.addEventListener=function(element,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addEventListener(element,eventName,handler)},EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addGlobalEventListener(target,eventName,handler)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(eventName){for(var plugins=this._plugins,i=0;i<plugins.length;i++){var plugin=plugins[i];if(plugin.supports(eventName))return plugin}throw new exceptions_1.BaseException("No event manager plugin found for event "+eventName)},EventManager=__decorate([di_1.Injectable(),__param(0,di_1.Inject(exports.EVENT_MANAGER_PLUGINS)),__metadata("design:paramtypes",[Array,ng_zone_1.NgZone])],EventManager)}();exports.EventManager=EventManager;var EventManagerPlugin=function(){function EventManagerPlugin(){}return EventManagerPlugin.prototype.supports=function(eventName){return!1},EventManagerPlugin.prototype.addEventListener=function(element,eventName,handler){throw"not implemented"},EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){throw"not implemented"},EventManagerPlugin}();exports.EventManagerPlugin=EventManagerPlugin},{"angular2/src/core/di":135,"angular2/src/core/zone/ng_zone":185,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],228:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},event_manager_1=require("./event_manager"),collection_1=require("angular2/src/facade/collection"),_eventNames={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HammerGesturesPluginCommon=function(_super){function HammerGesturesPluginCommon(){_super.call(this)}return __extends(HammerGesturesPluginCommon,_super),HammerGesturesPluginCommon.prototype.supports=function(eventName){return eventName=eventName.toLowerCase(),collection_1.StringMapWrapper.contains(_eventNames,eventName)},HammerGesturesPluginCommon}(event_manager_1.EventManagerPlugin);exports.HammerGesturesPluginCommon=HammerGesturesPluginCommon},{"./event_manager":227,"angular2/src/facade/collection":190}],229:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},hammer_common_1=require("./hammer_common"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),core_1=require("angular2/core");exports.HAMMER_GESTURE_CONFIG=lang_1.CONST_EXPR(new core_1.OpaqueToken("HammerGestureConfig"));var HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(element){var mc=new Hammer(element);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});for(var eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc},HammerGestureConfig=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],HammerGestureConfig)}();exports.HammerGestureConfig=HammerGestureConfig;var HammerGesturesPlugin=function(_super){function HammerGesturesPlugin(_config){_super.call(this),this._config=_config}return __extends(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){if(!_super.prototype.supports.call(this,eventName)&&!this.isCustomEvent(eventName))return!1;if(!lang_1.isPresent(window.Hammer))throw new exceptions_1.BaseException("Hammer.js is not loaded, can not bind "+eventName+" event");return!0},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zone=this.manager.getZone();return eventName=eventName.toLowerCase(),zone.runOutsideAngular(function(){var mc=_this._config.buildHammer(element),callback=function(eventObj){zone.run(function(){handler(eventObj)})};return mc.on(eventName,callback),function(){mc.off(eventName,callback)}})},HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return this._config.events.indexOf(eventName)>-1},HammerGesturesPlugin=__decorate([core_1.Injectable(),__param(0,core_1.Inject(exports.HAMMER_GESTURE_CONFIG)),__metadata("design:paramtypes",[HammerGestureConfig])],HammerGesturesPlugin)}(hammer_common_1.HammerGesturesPluginCommon);exports.HammerGesturesPlugin=HammerGesturesPlugin},{"./hammer_common":228,"angular2/core":11,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],230:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),event_manager_1=require("./event_manager"),di_1=require("angular2/src/core/di"),modifierKeys=["alt","control","meta","shift"],modifierKeyGetters={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},KeyEventsPlugin=function(_super){function KeyEventsPlugin(){_super.call(this)}return __extends(KeyEventsPlugin,_super),KeyEventsPlugin.prototype.supports=function(eventName){return lang_1.isPresent(KeyEventsPlugin.parseEventName(eventName))},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(element,collection_1.StringMapWrapper.get(parsedEvent,"fullKey"),handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,collection_1.StringMapWrapper.get(parsedEvent,"domEventName"),outsideHandler)})},KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||!lang_1.StringWrapper.equals(domEventName,"keydown")&&!lang_1.StringWrapper.equals(domEventName,"keyup"))return null;var key=KeyEventsPlugin._normalizeKey(parts.pop()),fullKey="";if(modifierKeys.forEach(function(modifierName){collection_1.ListWrapper.contains(parts,modifierName)&&(collection_1.ListWrapper.remove(parts,modifierName),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;var result=collection_1.StringMapWrapper.create();return collection_1.StringMapWrapper.set(result,"domEventName",domEventName),collection_1.StringMapWrapper.set(result,"fullKey",fullKey),result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=dom_adapter_1.DOM.getEventKey(event);return key=key.toLowerCase(),lang_1.StringWrapper.equals(key," ")?key="space":lang_1.StringWrapper.equals(key,".")&&(key="dot"),modifierKeys.forEach(function(modifierName){if(modifierName!=key){var modifierGetter=collection_1.StringMapWrapper.get(modifierKeyGetters,modifierName);modifierGetter(event)&&(fullKey+=modifierName+".")}}),fullKey+=key},KeyEventsPlugin.eventCallback=function(element,fullKey,handler,zone){return function(event){lang_1.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(event),fullKey)&&zone.run(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case"esc":return"escape";default:return keyName}},KeyEventsPlugin=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],KeyEventsPlugin)}(event_manager_1.EventManagerPlugin);exports.KeyEventsPlugin=KeyEventsPlugin},{"./event_manager":227,"angular2/src/core/di":135,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195,"angular2/src/platform/dom/dom_adapter":223}],231:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),di_1=require("angular2/src/core/di"),collection_1=require("angular2/src/facade/collection"),dom_tokens_1=require("./dom_tokens"),SharedStylesHost=function(){function SharedStylesHost(){this._styles=[],this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=[];styles.forEach(function(style){collection_1.SetWrapper.has(_this._stylesSet,style)||(_this._stylesSet.add(style),_this._styles.push(style),additions.push(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return this._styles},SharedStylesHost=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],SharedStylesHost);
}();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=function(_super){function DomSharedStylesHost(doc){_super.call(this),this._hostNodes=new Set,this._hostNodes.add(doc.head)}return __extends(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){for(var i=0;i<styles.length;i++){var style=styles[i];dom_adapter_1.DOM.appendChild(host,dom_adapter_1.DOM.createStyleElement(style))}},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._styles,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){collection_1.SetWrapper["delete"](this._hostNodes,hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){_this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata("design:paramtypes",[Object])],DomSharedStylesHost)}(SharedStylesHost);exports.DomSharedStylesHost=DomSharedStylesHost},{"./dom_tokens":225,"angular2/src/core/di":135,"angular2/src/facade/collection":190,"angular2/src/platform/dom/dom_adapter":223}],232:[function(require,module,exports){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}var lang_1=require("angular2/src/facade/lang"),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase},{"angular2/src/facade/lang":195}],233:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),router_1=require("../router"),location_1=require("../location/location"),RouterLink=function(){function RouterLink(_router,_location){var _this=this;this._router=_router,this._location=_location,this._router.subscribe(function(_){return _this._updateLink()})}return RouterLink.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var navigationHref=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(navigationHref)},Object.defineProperty(RouterLink.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLink.prototype,"routeParams",{set:function(changes){this._routeParams=changes,this._updateLink()},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(){return lang_1.isString(this.target)&&"_self"!=this.target?!0:(this._router.navigateByInstruction(this._navigationInstruction),!1)},RouterLink=__decorate([core_1.Directive({selector:"[routerLink]",inputs:["routeParams: routerLink","target: target"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),__metadata("design:paramtypes",[router_1.Router,location_1.Location])],RouterLink)}();exports.RouterLink=RouterLink},{"../location/location":241,"../router":249,"angular2/core":11,"angular2/src/facade/lang":195}],234:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},async_1=require("angular2/src/facade/async"),collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),routerMod=require("../router"),instruction_1=require("../instruction"),hookMod=require("../lifecycle/lifecycle_annotations"),route_lifecycle_reflector_1=require("../lifecycle/route_lifecycle_reflector"),_resolveToTrue=async_1.PromiseWrapper.resolve(!0),RouterOutlet=function(){function RouterOutlet(_elementRef,_loader,_parentRouter,nameAttr){this._elementRef=_elementRef,this._loader=_loader,this._parentRouter=_parentRouter,this.name=null,this._componentRef=null,this._currentInstruction=null,lang_1.isPresent(nameAttr)?(this.name=nameAttr,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return RouterOutlet.prototype.activate=function(nextInstruction){var _this=this,previousInstruction=this._currentInstruction;this._currentInstruction=nextInstruction;var componentType=nextInstruction.componentType,childRouter=this._parentRouter.childRouter(componentType),providers=core_1.Injector.resolve([core_1.provide(instruction_1.RouteData,{useValue:nextInstruction.routeData}),core_1.provide(instruction_1.RouteParams,{useValue:new instruction_1.RouteParams(nextInstruction.params)}),core_1.provide(routerMod.Router,{useValue:childRouter})]);return this._componentRef=this._loader.loadNextToLocation(componentType,this._elementRef,providers),this._componentRef.then(function(componentRef){return route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnActivate,componentType)?_this._componentRef.then(function(ref){return ref.instance.routerOnActivate(nextInstruction,previousInstruction)}):componentRef})},RouterOutlet.prototype.reuse=function(nextInstruction){var previousInstruction=this._currentInstruction;return this._currentInstruction=nextInstruction,lang_1.isBlank(this._componentRef)?this.activate(nextInstruction):async_1.PromiseWrapper.resolve(route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.then(function(ref){return ref.instance.routerOnReuse(nextInstruction,previousInstruction)}):!0)},RouterOutlet.prototype.deactivate=function(nextInstruction){var _this=this,next=_resolveToTrue;return lang_1.isPresent(this._componentRef)&&lang_1.isPresent(this._currentInstruction)&&route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnDeactivate,this._currentInstruction.componentType)&&(next=this._componentRef.then(function(ref){return ref.instance.routerOnDeactivate(nextInstruction,_this._currentInstruction)})),next.then(function(_){if(lang_1.isPresent(_this._componentRef)){var onDispose=_this._componentRef.then(function(ref){return ref.dispose()});return _this._componentRef=null,onDispose}})},RouterOutlet.prototype.routerCanDeactivate=function(nextInstruction){var _this=this;return lang_1.isBlank(this._currentInstruction)?_resolveToTrue:route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerCanDeactivate,this._currentInstruction.componentType)?this._componentRef.then(function(ref){return ref.instance.routerCanDeactivate(nextInstruction,_this._currentInstruction)}):_resolveToTrue},RouterOutlet.prototype.routerCanReuse=function(nextInstruction){var result,_this=this;return result=lang_1.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=nextInstruction.componentType?!1:route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerCanReuse,this._currentInstruction.componentType)?this._componentRef.then(function(ref){return ref.instance.routerCanReuse(nextInstruction,_this._currentInstruction)}):nextInstruction==this._currentInstruction||lang_1.isPresent(nextInstruction.params)&&lang_1.isPresent(this._currentInstruction.params)&&collection_1.StringMapWrapper.equals(nextInstruction.params,this._currentInstruction.params),async_1.PromiseWrapper.resolve(result)},RouterOutlet.prototype.ngOnDestroy=function(){this._parentRouter.unregisterPrimaryOutlet(this)},RouterOutlet=__decorate([core_1.Directive({selector:"router-outlet"}),__param(3,core_1.Attribute("name")),__metadata("design:paramtypes",[core_1.ElementRef,core_1.DynamicComponentLoader,routerMod.Router,String])],RouterOutlet)}();exports.RouterOutlet=RouterOutlet},{"../instruction":235,"../lifecycle/lifecycle_annotations":236,"../lifecycle/route_lifecycle_reflector":238,"../router":249,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],235:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),async_1=require("angular2/src/facade/async"),RouteParams=function(){function RouteParams(params){this.params=params}return RouteParams.prototype.get=function(param){return lang_1.normalizeBlank(collection_1.StringMapWrapper.get(this.params,param))},RouteParams}();exports.RouteParams=RouteParams;var RouteData=function(){function RouteData(data){void 0===data&&(data=lang_1.CONST_EXPR({})),this.data=data}return RouteData.prototype.get=function(key){return lang_1.normalizeBlank(collection_1.StringMapWrapper.get(this.data,key))},RouteData}();exports.RouteData=RouteData,exports.BLANK_ROUTE_DATA=new RouteData;var Instruction=function(){function Instruction(component,child,auxInstruction){this.component=component,this.child=child,this.auxInstruction=auxInstruction}return Object.defineProperty(Instruction.prototype,"urlPath",{get:function(){return lang_1.isPresent(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"urlParams",{get:function(){return lang_1.isPresent(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"specificity",{get:function(){var total="";return lang_1.isPresent(this.component)&&(total+=this.component.specificity),lang_1.isPresent(this.child)&&(total+=this.child.specificity),total},enumerable:!0,configurable:!0}),Instruction.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},Instruction.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(lang_1.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},Instruction.prototype.replaceChild=function(child){return new ResolvedInstruction(this.component,child,this.auxInstruction)},Instruction.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(lang_1.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(lang_1.isPresent(this.child)?this.child._toLinkUrl():"")+this.toUrlQuery()},Instruction.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(lang_1.isPresent(this.child)?this.child._toLinkUrl():"")},Instruction.prototype._stringifyPathMatrixAuxPrefixed=function(){var primary=this._stringifyPathMatrixAux();return primary.length>0&&(primary="/"+primary),primary},Instruction.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},Instruction.prototype._stringifyPathMatrixAux=function(){return lang_1.isBlank(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},Instruction.prototype._stringifyAux=function(){var routes=[];return collection_1.StringMapWrapper.forEach(this.auxInstruction,function(auxInstruction,_){routes.push(auxInstruction._stringifyPathMatrixAux())}),routes.length>0?"("+routes.join("//")+")":""},Instruction}();exports.Instruction=Instruction;var ResolvedInstruction=function(_super){function ResolvedInstruction(component,child,auxInstruction){_super.call(this,component,child,auxInstruction)}return __extends(ResolvedInstruction,_super),ResolvedInstruction.prototype.resolveComponent=function(){return async_1.PromiseWrapper.resolve(this.component)},ResolvedInstruction}(Instruction);exports.ResolvedInstruction=ResolvedInstruction;var DefaultInstruction=function(_super){function DefaultInstruction(component,child){_super.call(this,component,child,{})}return __extends(DefaultInstruction,_super),DefaultInstruction.prototype.toLinkUrl=function(){return""},DefaultInstruction.prototype._toLinkUrl=function(){return""},DefaultInstruction}(ResolvedInstruction);exports.DefaultInstruction=DefaultInstruction;var UnresolvedInstruction=function(_super){function UnresolvedInstruction(_resolver,_urlPath,_urlParams){void 0===_urlPath&&(_urlPath=""),void 0===_urlParams&&(_urlParams=lang_1.CONST_EXPR([])),_super.call(this,null,null,{}),this._resolver=_resolver,this._urlPath=_urlPath,this._urlParams=_urlParams}return __extends(UnresolvedInstruction,_super),Object.defineProperty(UnresolvedInstruction.prototype,"urlPath",{get:function(){return lang_1.isPresent(this.component)?this.component.urlPath:lang_1.isPresent(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(UnresolvedInstruction.prototype,"urlParams",{get:function(){return lang_1.isPresent(this.component)?this.component.urlParams:lang_1.isPresent(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),UnresolvedInstruction.prototype.resolveComponent=function(){var _this=this;return lang_1.isPresent(this.component)?async_1.PromiseWrapper.resolve(this.component):this._resolver().then(function(instruction){return _this.child=lang_1.isPresent(instruction)?instruction.child:null,_this.component=lang_1.isPresent(instruction)?instruction.component:null})},UnresolvedInstruction}(Instruction);exports.UnresolvedInstruction=UnresolvedInstruction;var RedirectInstruction=function(_super){function RedirectInstruction(component,child,auxInstruction,_specificity){_super.call(this,component,child,auxInstruction),this._specificity=_specificity}return __extends(RedirectInstruction,_super),Object.defineProperty(RedirectInstruction.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),RedirectInstruction}(ResolvedInstruction);exports.RedirectInstruction=RedirectInstruction;var ComponentInstruction=function(){function ComponentInstruction(urlPath,urlParams,data,componentType,terminal,specificity,params,routeName){void 0===params&&(params=null),this.urlPath=urlPath,this.urlParams=urlParams,this.componentType=componentType,this.terminal=terminal,this.specificity=specificity,this.params=params,this.routeName=routeName,this.reuse=!1,this.routeData=lang_1.isPresent(data)?data:exports.BLANK_ROUTE_DATA}return ComponentInstruction}();exports.ComponentInstruction=ComponentInstruction},{"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],236:[function(require,module,exports){"use strict";var decorators_1=require("angular2/src/core/util/decorators"),lifecycle_annotations_impl_1=require("./lifecycle_annotations_impl"),lifecycle_annotations_impl_2=require("./lifecycle_annotations_impl");exports.routerCanReuse=lifecycle_annotations_impl_2.routerCanReuse,exports.routerCanDeactivate=lifecycle_annotations_impl_2.routerCanDeactivate,exports.routerOnActivate=lifecycle_annotations_impl_2.routerOnActivate,exports.routerOnReuse=lifecycle_annotations_impl_2.routerOnReuse,exports.routerOnDeactivate=lifecycle_annotations_impl_2.routerOnDeactivate,exports.CanActivate=decorators_1.makeDecorator(lifecycle_annotations_impl_1.CanActivate)},{"./lifecycle_annotations_impl":237,"angular2/src/core/util/decorators":183}],237:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),RouteLifecycleHook=function(){function RouteLifecycleHook(name){this.name=name}return RouteLifecycleHook=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],RouteLifecycleHook)}();exports.RouteLifecycleHook=RouteLifecycleHook;var CanActivate=function(){function CanActivate(fn){this.fn=fn}return CanActivate=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Function])],CanActivate)}();exports.CanActivate=CanActivate,exports.routerCanReuse=lang_1.CONST_EXPR(new RouteLifecycleHook("routerCanReuse")),exports.routerCanDeactivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerCanDeactivate")),exports.routerOnActivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnActivate")),exports.routerOnReuse=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnReuse")),exports.routerOnDeactivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnDeactivate"))},{"angular2/src/facade/lang":195}],238:[function(require,module,exports){"use strict";function hasLifecycleHook(e,type){return type instanceof lang_1.Type?e.name in type.prototype:!1}function getCanActivateHook(type){for(var annotations=reflection_1.reflector.annotations(type),i=0;i<annotations.length;i+=1){var annotation=annotations[i];if(annotation instanceof lifecycle_annotations_impl_1.CanActivate)return annotation.fn}return null}var lang_1=require("angular2/src/facade/lang"),lifecycle_annotations_impl_1=require("./lifecycle_annotations_impl"),reflection_1=require("angular2/src/core/reflection/reflection");exports.hasLifecycleHook=hasLifecycleHook,exports.getCanActivateHook=getCanActivateHook},{"./lifecycle_annotations_impl":237,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/lang":195}],239:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),platform_location_1=require("./platform_location"),dom_adapter_1=require("angular2/src/platform/dom/dom_adapter"),BrowserPlatformLocation=function(_super){function BrowserPlatformLocation(){_super.call(this),this._init()}return __extends(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this._location=dom_adapter_1.DOM.getLocation(),this._history=dom_adapter_1.DOM.getHistory()},Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return dom_adapter_1.DOM.getBaseHref()},BrowserPlatformLocation.prototype.onPopState=function(fn){dom_adapter_1.DOM.getGlobalEventTarget("window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){dom_adapter_1.DOM.getGlobalEventTarget("window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname},set:function(newPath){this._location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){this._history.pushState(state,title,url)},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){this._history.replaceState(state,title,url)},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BrowserPlatformLocation)}(platform_location_1.PlatformLocation);exports.BrowserPlatformLocation=BrowserPlatformLocation},{"./platform_location":244,"angular2/core":11,"angular2/src/platform/dom/dom_adapter":223}],240:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),location_strategy_1=require("./location_strategy"),lang_1=require("angular2/src/facade/lang"),platform_location_1=require("./platform_location"),HashLocationStrategy=function(_super){function HashLocationStrategy(_platformLocation,_baseHref){_super.call(this),this._platformLocation=_platformLocation,this._baseHref="",lang_1.isPresent(_baseHref)&&(this._baseHref=_baseHref)}return __extends(HashLocationStrategy,_super),HashLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(){var path=this._platformLocation.hash;return lang_1.isPresent(path)||(path="#"),path.length>0?path.substring(1):path},HashLocationStrategy.prototype.prepareExternalUrl=function(internal){var url=location_strategy_1.joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url},HashLocationStrategy.prototype.pushState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_strategy_1.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)},HashLocationStrategy.prototype.replaceState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_strategy_1.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy=__decorate([core_1.Injectable(),__param(1,core_1.Optional()),__param(1,core_1.Inject(location_strategy_1.APP_BASE_HREF)),__metadata("design:paramtypes",[platform_location_1.PlatformLocation,String])],HashLocationStrategy)}(location_strategy_1.LocationStrategy);exports.HashLocationStrategy=HashLocationStrategy},{"./location_strategy":242,"./platform_location":244,"angular2/core":11,"angular2/src/facade/lang":195}],241:[function(require,module,exports){"use strict";function _stripBaseHref(baseHref,url){return baseHref.length>0&&url.startsWith(baseHref)?url.substring(baseHref.length):url}function stripIndexHtml(url){return/\/index.html$/g.test(url)?url.substring(0,url.length-11):url}function stripTrailingSlash(url){return/\/$/g.test(url)&&(url=url.substring(0,url.length-1)),url}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},location_strategy_1=require("./location_strategy"),async_1=require("angular2/src/facade/async"),core_1=require("angular2/core"),Location=function(){function Location(platformStrategy){var _this=this;this.platformStrategy=platformStrategy,this._subject=new async_1.EventEmitter;var browserBaseHref=this.platformStrategy.getBaseHref();this._baseHref=stripTrailingSlash(stripIndexHtml(browserBaseHref)),this.platformStrategy.onPopState(function(ev){async_1.ObservableWrapper.callEmit(_this._subject,{url:_this.path(),pop:!0,type:ev.type})})}return Location.prototype.path=function(){return this.normalize(this.platformStrategy.path())},Location.prototype.normalize=function(url){return stripTrailingSlash(_stripBaseHref(this._baseHref,stripIndexHtml(url)))},Location.prototype.prepareExternalUrl=function(url){return url.length>0&&!url.startsWith("/")&&(url="/"+url),this.platformStrategy.prepareExternalUrl(url)},Location.prototype.go=function(path,query){void 0===query&&(query=""),this.platformStrategy.pushState(null,"",path,query)},Location.prototype.replaceState=function(path,query){void 0===query&&(query=""),this.platformStrategy.replaceState(null,"",path,query)},Location.prototype.forward=function(){this.platformStrategy.forward()},Location.prototype.back=function(){this.platformStrategy.back()},Location.prototype.subscribe=function(onNext,onThrow,onReturn){return void 0===onThrow&&(onThrow=null),void 0===onReturn&&(onReturn=null),async_1.ObservableWrapper.subscribe(this._subject,onNext,onThrow,onReturn)},Location=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[location_strategy_1.LocationStrategy])],Location)}();exports.Location=Location},{"./location_strategy":242,"angular2/core":11,"angular2/src/facade/async":187}],242:[function(require,module,exports){"use strict";function normalizeQueryParams(params){return params.length>0&&"?"!=params.substring(0,1)?"?"+params:params}function joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;var slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end}var lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),LocationStrategy=function(){function LocationStrategy(){}return LocationStrategy}();exports.LocationStrategy=LocationStrategy,exports.APP_BASE_HREF=lang_1.CONST_EXPR(new core_1.OpaqueToken("appBaseHref")),exports.normalizeQueryParams=normalizeQueryParams,exports.joinWithSlash=joinWithSlash},{"angular2/core":11,"angular2/src/facade/lang":195}],243:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),location_strategy_1=require("./location_strategy"),platform_location_1=require("./platform_location"),PathLocationStrategy=function(_super){function PathLocationStrategy(_platformLocation,href){if(_super.call(this),this._platformLocation=_platformLocation,lang_1.isBlank(href)&&(href=this._platformLocation.getBaseHrefFromDOM()),lang_1.isBlank(href))throw new exceptions_1.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}return __extends(PathLocationStrategy,_super),PathLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(internal){return location_strategy_1.joinWithSlash(this._baseHref,internal)},PathLocationStrategy.prototype.path=function(){return this._platformLocation.pathname+location_strategy_1.normalizeQueryParams(this._platformLocation.search)},PathLocationStrategy.prototype.pushState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_strategy_1.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)},PathLocationStrategy.prototype.replaceState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_strategy_1.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy=__decorate([core_1.Injectable(),__param(1,core_1.Optional()),__param(1,core_1.Inject(location_strategy_1.APP_BASE_HREF)),__metadata("design:paramtypes",[platform_location_1.PlatformLocation,String])],PathLocationStrategy)}(location_strategy_1.LocationStrategy);exports.PathLocationStrategy=PathLocationStrategy},{"./location_strategy":242,"./platform_location":244,"angular2/core":11,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],244:[function(require,module,exports){"use strict";
var PlatformLocation=function(){function PlatformLocation(){}return Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),PlatformLocation}();exports.PlatformLocation=PlatformLocation},{}],245:[function(require,module,exports){"use strict";var route_config_impl_1=require("./route_config_impl"),decorators_1=require("angular2/src/core/util/decorators"),route_config_impl_2=require("./route_config_impl");exports.Route=route_config_impl_2.Route,exports.Redirect=route_config_impl_2.Redirect,exports.AuxRoute=route_config_impl_2.AuxRoute,exports.AsyncRoute=route_config_impl_2.AsyncRoute,exports.RouteConfig=decorators_1.makeDecorator(route_config_impl_1.RouteConfig)},{"./route_config_impl":246,"angular2/src/core/util/decorators":183}],246:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=require("angular2/src/facade/lang"),RouteConfig=function(){function RouteConfig(configs){this.configs=configs}return RouteConfig=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Array])],RouteConfig)}();exports.RouteConfig=RouteConfig;var AbstractRoute=function(){function AbstractRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data;this.name=name,this.useAsDefault=useAsDefault,this.path=path,this.regex=regex,this.serializer=serializer,this.data=data}return AbstractRoute=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],AbstractRoute)}();exports.AbstractRoute=AbstractRoute;var Route=function(_super){function Route(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,component=_a.component;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.aux=null,this.component=component}return __extends(Route,_super),Route=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],Route)}(AbstractRoute);exports.Route=Route;var AuxRoute=function(_super){function AuxRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,component=_a.component;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.component=component}return __extends(AuxRoute,_super),AuxRoute=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],AuxRoute)}(AbstractRoute);exports.AuxRoute=AuxRoute;var AsyncRoute=function(_super){function AsyncRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,loader=_a.loader;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.aux=null,this.loader=loader}return __extends(AsyncRoute,_super),AsyncRoute=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],AsyncRoute)}(AbstractRoute);exports.AsyncRoute=AsyncRoute;var Redirect=function(_super){function Redirect(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,redirectTo=_a.redirectTo;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.redirectTo=redirectTo}return __extends(Redirect,_super),Redirect=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],Redirect)}(AbstractRoute);exports.Redirect=Redirect},{"angular2/src/facade/lang":195}],247:[function(require,module,exports){"use strict";function normalizeRouteConfig(config,registry){if(config instanceof route_config_decorator_1.AsyncRoute){var wrappedLoader=wrapLoaderToReconfigureRegistry(config.loader,registry);return new route_config_decorator_1.AsyncRoute({path:config.path,loader:wrappedLoader,name:config.name,data:config.data,useAsDefault:config.useAsDefault})}if(config instanceof route_config_decorator_1.Route||config instanceof route_config_decorator_1.Redirect||config instanceof route_config_decorator_1.AuxRoute)return config;if(+!!config.component+ +!!config.redirectTo+ +!!config.loader!=1)throw new exceptions_1.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(config.as&&config.name)throw new exceptions_1.BaseException('Route config should contain exactly one "as" or "name" property.');if(config.as&&(config.name=config.as),config.loader){var wrappedLoader=wrapLoaderToReconfigureRegistry(config.loader,registry);return new route_config_decorator_1.AsyncRoute({path:config.path,loader:wrappedLoader,name:config.name,data:config.data,useAsDefault:config.useAsDefault})}if(config.aux)return new route_config_decorator_1.AuxRoute({path:config.aux,component:config.component,name:config.name});if(config.component){if("object"==typeof config.component){var componentDefinitionObject=config.component;if("constructor"==componentDefinitionObject.type)return new route_config_decorator_1.Route({path:config.path,component:componentDefinitionObject.constructor,name:config.name,data:config.data,useAsDefault:config.useAsDefault});if("loader"==componentDefinitionObject.type)return new route_config_decorator_1.AsyncRoute({path:config.path,loader:componentDefinitionObject.loader,name:config.name,data:config.data,useAsDefault:config.useAsDefault});throw new exceptions_1.BaseException('Invalid component type "'+componentDefinitionObject.type+'". Valid types are "constructor" and "loader".')}return new route_config_decorator_1.Route(config)}return config.redirectTo?new route_config_decorator_1.Redirect({path:config.path,redirectTo:config.redirectTo}):config}function wrapLoaderToReconfigureRegistry(loader,registry){return function(){return loader().then(function(componentType){return registry.configFromComponent(componentType),componentType})}}function assertComponentExists(component,path){if(!lang_1.isType(component))throw new exceptions_1.BaseException('Component for route "'+path+'" is not defined, or is not a class.')}var route_config_decorator_1=require("./route_config_decorator"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions");exports.normalizeRouteConfig=normalizeRouteConfig,exports.assertComponentExists=assertComponentExists},{"./route_config_decorator":245,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],248:[function(require,module,exports){"use strict";function splitAndFlattenLinkParams(linkParams){var accumulation=[];return linkParams.forEach(function(item){if(lang_1.isString(item)){var strItem=item;accumulation=accumulation.concat(strItem.split("/"))}else accumulation.push(item)}),accumulation}function mostSpecific(instructions){if(instructions=instructions.filter(function(instruction){return lang_1.isPresent(instruction)}),0==instructions.length)return null;if(1==instructions.length)return instructions[0];var first=instructions[0],rest=instructions.slice(1);return rest.reduce(function(instruction,contender){return-1==compareSpecificityStrings(contender.specificity,instruction.specificity)?contender:instruction},first)}function compareSpecificityStrings(a,b){for(var l=lang_1.Math.min(a.length,b.length),i=0;l>i;i+=1){var ai=lang_1.StringWrapper.charCodeAt(a,i),bi=lang_1.StringWrapper.charCodeAt(b,i),difference=bi-ai;if(0!=difference)return difference}return a.length-b.length}function assertTerminalComponent(component,path){if(lang_1.isType(component)){var annotations=reflection_1.reflector.annotations(component);if(lang_1.isPresent(annotations))for(var i=0;i<annotations.length;i++){var annotation=annotations[i];if(annotation instanceof route_config_impl_1.RouteConfig)throw new exceptions_1.BaseException('Child routes are not allowed for "'+path+'". Use "..." on the parent\'s route path.')}}}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},collection_1=require("angular2/src/facade/collection"),async_1=require("angular2/src/facade/async"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),reflection_1=require("angular2/src/core/reflection/reflection"),core_1=require("angular2/core"),route_config_impl_1=require("./route_config/route_config_impl"),rules_1=require("./rules/rules"),rule_set_1=require("./rules/rule_set"),instruction_1=require("./instruction"),route_config_normalizer_1=require("./route_config/route_config_normalizer"),url_parser_1=require("./url_parser"),_resolveToNull=async_1.PromiseWrapper.resolve(null);exports.ROUTER_PRIMARY_COMPONENT=lang_1.CONST_EXPR(new core_1.OpaqueToken("RouterPrimaryComponent"));var RouteRegistry=function(){function RouteRegistry(_rootComponent){this._rootComponent=_rootComponent,this._rules=new collection_1.Map}return RouteRegistry.prototype.config=function(parentComponent,config){config=route_config_normalizer_1.normalizeRouteConfig(config,this),config instanceof route_config_impl_1.Route?route_config_normalizer_1.assertComponentExists(config.component,config.path):config instanceof route_config_impl_1.AuxRoute&&route_config_normalizer_1.assertComponentExists(config.component,config.path);var rules=this._rules.get(parentComponent);lang_1.isBlank(rules)&&(rules=new rule_set_1.RuleSet,this._rules.set(parentComponent,rules));var terminal=rules.config(config);config instanceof route_config_impl_1.Route&&(terminal?assertTerminalComponent(config.component,config.path):this.configFromComponent(config.component))},RouteRegistry.prototype.configFromComponent=function(component){var _this=this;if(lang_1.isType(component)&&!this._rules.has(component)){var annotations=reflection_1.reflector.annotations(component);if(lang_1.isPresent(annotations))for(var i=0;i<annotations.length;i++){var annotation=annotations[i];if(annotation instanceof route_config_impl_1.RouteConfig){var routeCfgs=annotation.configs;routeCfgs.forEach(function(config){return _this.config(component,config)})}}}},RouteRegistry.prototype.recognize=function(url,ancestorInstructions){var parsedUrl=url_parser_1.parser.parse(url);return this._recognize(parsedUrl,[])},RouteRegistry.prototype._recognize=function(parsedUrl,ancestorInstructions,_aux){var _this=this;void 0===_aux&&(_aux=!1);var parentInstruction=collection_1.ListWrapper.last(ancestorInstructions),parentComponent=lang_1.isPresent(parentInstruction)?parentInstruction.component.componentType:this._rootComponent,rules=this._rules.get(parentComponent);if(lang_1.isBlank(rules))return _resolveToNull;var possibleMatches=_aux?rules.recognizeAuxiliary(parsedUrl):rules.recognize(parsedUrl),matchPromises=possibleMatches.map(function(candidate){return candidate.then(function(candidate){if(candidate instanceof rules_1.PathMatch){var auxParentInstructions=ancestorInstructions.length>0?[collection_1.ListWrapper.last(ancestorInstructions)]:[],auxInstructions=_this._auxRoutesToUnresolved(candidate.remainingAux,auxParentInstructions),instruction=new instruction_1.ResolvedInstruction(candidate.instruction,null,auxInstructions);if(lang_1.isBlank(candidate.instruction)||candidate.instruction.terminal)return instruction;var newAncestorInstructions=ancestorInstructions.concat([instruction]);return _this._recognize(candidate.remaining,newAncestorInstructions).then(function(childInstruction){return lang_1.isBlank(childInstruction)?null:childInstruction instanceof instruction_1.RedirectInstruction?childInstruction:(instruction.child=childInstruction,instruction)})}if(candidate instanceof rules_1.RedirectMatch){var instruction=_this.generate(candidate.redirectTo,ancestorInstructions.concat([null]));return new instruction_1.RedirectInstruction(instruction.component,instruction.child,instruction.auxInstruction,candidate.specificity)}})});return!lang_1.isBlank(parsedUrl)&&""!=parsedUrl.path||0!=possibleMatches.length?async_1.PromiseWrapper.all(matchPromises).then(mostSpecific):async_1.PromiseWrapper.resolve(this.generateDefault(parentComponent))},RouteRegistry.prototype._auxRoutesToUnresolved=function(auxRoutes,parentInstructions){var _this=this,unresolvedAuxInstructions={};return auxRoutes.forEach(function(auxUrl){unresolvedAuxInstructions[auxUrl.path]=new instruction_1.UnresolvedInstruction(function(){return _this._recognize(auxUrl,parentInstructions,!0)})}),unresolvedAuxInstructions},RouteRegistry.prototype.generate=function(linkParams,ancestorInstructions,_aux){void 0===_aux&&(_aux=!1);var prevInstruction,params=splitAndFlattenLinkParams(linkParams);if(""==collection_1.ListWrapper.first(params))params.shift(),prevInstruction=collection_1.ListWrapper.first(ancestorInstructions),ancestorInstructions=[];else if(prevInstruction=ancestorInstructions.length>0?ancestorInstructions.pop():null,"."==collection_1.ListWrapper.first(params))params.shift();else if(".."==collection_1.ListWrapper.first(params))for(;".."==collection_1.ListWrapper.first(params);){if(ancestorInstructions.length<=0)throw new exceptions_1.BaseException('Link "'+collection_1.ListWrapper.toJSON(linkParams)+'" has too many "../" segments.');prevInstruction=ancestorInstructions.pop(),params=collection_1.ListWrapper.slice(params,1)}else{var routeName=collection_1.ListWrapper.first(params),parentComponentType=this._rootComponent,grandparentComponentType=null;if(ancestorInstructions.length>1){var parentComponentInstruction=ancestorInstructions[ancestorInstructions.length-1],grandComponentInstruction=ancestorInstructions[ancestorInstructions.length-2];parentComponentType=parentComponentInstruction.component.componentType,grandparentComponentType=grandComponentInstruction.component.componentType}else 1==ancestorInstructions.length&&(parentComponentType=ancestorInstructions[0].component.componentType,grandparentComponentType=this._rootComponent);var childRouteExists=this.hasRoute(routeName,parentComponentType),parentRouteExists=lang_1.isPresent(grandparentComponentType)&&this.hasRoute(routeName,grandparentComponentType);if(parentRouteExists&&childRouteExists){var msg='Link "'+collection_1.ListWrapper.toJSON(linkParams)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new exceptions_1.BaseException(msg)}parentRouteExists&&(prevInstruction=ancestorInstructions.pop())}if(""==params[params.length-1]&&params.pop(),params.length>0&&""==params[0]&&params.shift(),params.length<1){var msg='Link "'+collection_1.ListWrapper.toJSON(linkParams)+'" must include a route name.';throw new exceptions_1.BaseException(msg)}for(var generatedInstruction=this._generate(params,ancestorInstructions,prevInstruction,_aux,linkParams),i=ancestorInstructions.length-1;i>=0;i--){var ancestorInstruction=ancestorInstructions[i];if(lang_1.isBlank(ancestorInstruction))break;generatedInstruction=ancestorInstruction.replaceChild(generatedInstruction)}return generatedInstruction},RouteRegistry.prototype._generate=function(linkParams,ancestorInstructions,prevInstruction,_aux,_originalLink){var _this=this;void 0===_aux&&(_aux=!1);var parentComponentType=this._rootComponent,componentInstruction=null,auxInstructions={},parentInstruction=collection_1.ListWrapper.last(ancestorInstructions);if(lang_1.isPresent(parentInstruction)&&lang_1.isPresent(parentInstruction.component)&&(parentComponentType=parentInstruction.component.componentType),0==linkParams.length){var defaultInstruction=this.generateDefault(parentComponentType);if(lang_1.isBlank(defaultInstruction))throw new exceptions_1.BaseException('Link "'+collection_1.ListWrapper.toJSON(_originalLink)+'" does not resolve to a terminal instruction.');return defaultInstruction}lang_1.isPresent(prevInstruction)&&!_aux&&(auxInstructions=collection_1.StringMapWrapper.merge(prevInstruction.auxInstruction,auxInstructions),componentInstruction=prevInstruction.component);var rules=this._rules.get(parentComponentType);if(lang_1.isBlank(rules))throw new exceptions_1.BaseException('Component "'+lang_1.getTypeNameForDebugging(parentComponentType)+'" has no route config.');var linkParamIndex=0,routeParams={};if(linkParamIndex<linkParams.length&&lang_1.isString(linkParams[linkParamIndex])){var routeName=linkParams[linkParamIndex];if(""==routeName||"."==routeName||".."==routeName)throw new exceptions_1.BaseException('"'+routeName+'/" is only allowed at the beginning of a link DSL.');if(linkParamIndex+=1,linkParamIndex<linkParams.length){var linkParam=linkParams[linkParamIndex];lang_1.isStringMap(linkParam)&&!lang_1.isArray(linkParam)&&(routeParams=linkParam,linkParamIndex+=1)}var routeRecognizer=(_aux?rules.auxRulesByName:rules.rulesByName).get(routeName);if(lang_1.isBlank(routeRecognizer))throw new exceptions_1.BaseException('Component "'+lang_1.getTypeNameForDebugging(parentComponentType)+'" has no route named "'+routeName+'".');if(lang_1.isBlank(routeRecognizer.handler.componentType)){var generatedUrl=routeRecognizer.generateComponentPathValues(routeParams);return new instruction_1.UnresolvedInstruction(function(){return routeRecognizer.handler.resolveComponentType().then(function(_){return _this._generate(linkParams,ancestorInstructions,prevInstruction,_aux,_originalLink)})},generatedUrl.urlPath,url_parser_1.convertUrlParamsToArray(generatedUrl.urlParams))}componentInstruction=_aux?rules.generateAuxiliary(routeName,routeParams):rules.generate(routeName,routeParams)}for(;linkParamIndex<linkParams.length&&lang_1.isArray(linkParams[linkParamIndex]);){var auxParentInstruction=[parentInstruction],auxInstruction=this._generate(linkParams[linkParamIndex],auxParentInstruction,null,!0,_originalLink);auxInstructions[auxInstruction.component.urlPath]=auxInstruction,linkParamIndex+=1}var instruction=new instruction_1.ResolvedInstruction(componentInstruction,null,auxInstructions);if(lang_1.isPresent(componentInstruction)&&lang_1.isPresent(componentInstruction.componentType)){var childInstruction=null;if(componentInstruction.terminal)linkParamIndex>=linkParams.length;else{var childAncestorComponents=ancestorInstructions.concat([instruction]),remainingLinkParams=linkParams.slice(linkParamIndex);childInstruction=this._generate(remainingLinkParams,childAncestorComponents,null,!1,_originalLink)}instruction.child=childInstruction}return instruction},RouteRegistry.prototype.hasRoute=function(name,parentComponent){var rules=this._rules.get(parentComponent);return lang_1.isBlank(rules)?!1:rules.hasRoute(name)},RouteRegistry.prototype.generateDefault=function(componentCursor){var _this=this;if(lang_1.isBlank(componentCursor))return null;var rules=this._rules.get(componentCursor);if(lang_1.isBlank(rules)||lang_1.isBlank(rules.defaultRule))return null;var defaultChild=null;if(lang_1.isPresent(rules.defaultRule.handler.componentType)){var componentInstruction=rules.defaultRule.generate({});return rules.defaultRule.terminal||(defaultChild=this.generateDefault(rules.defaultRule.handler.componentType)),new instruction_1.DefaultInstruction(componentInstruction,defaultChild)}return new instruction_1.UnresolvedInstruction(function(){return rules.defaultRule.handler.resolveComponentType().then(function(_){return _this.generateDefault(componentCursor)})})},RouteRegistry=__decorate([core_1.Injectable(),__param(0,core_1.Inject(exports.ROUTER_PRIMARY_COMPONENT)),__metadata("design:paramtypes",[lang_1.Type])],RouteRegistry)}();exports.RouteRegistry=RouteRegistry},{"./instruction":235,"./route_config/route_config_impl":246,"./route_config/route_config_normalizer":247,"./rules/rule_set":257,"./rules/rules":258,"./url_parser":259,"angular2/core":11,"angular2/src/core/reflection/reflection":174,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],249:[function(require,module,exports){"use strict";function canActivateOne(nextInstruction,prevInstruction){var next=_resolveToTrue;return lang_1.isBlank(nextInstruction.component)?next:(lang_1.isPresent(nextInstruction.child)&&(next=canActivateOne(nextInstruction.child,lang_1.isPresent(prevInstruction)?prevInstruction.child:null)),next.then(function(result){if(0==result)return!1;if(nextInstruction.component.reuse)return!0;var hook=route_lifecycle_reflector_1.getCanActivateHook(nextInstruction.component.componentType);return lang_1.isPresent(hook)?hook(nextInstruction.component,lang_1.isPresent(prevInstruction)?prevInstruction.component:null):!0}))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},async_1=require("angular2/src/facade/async"),collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),core_1=require("angular2/core"),route_registry_1=require("./route_registry"),location_1=require("./location/location"),route_lifecycle_reflector_1=require("./lifecycle/route_lifecycle_reflector"),_resolveToTrue=async_1.PromiseWrapper.resolve(!0),_resolveToFalse=async_1.PromiseWrapper.resolve(!1),Router=function(){function Router(registry,parent,hostComponent,root){this.registry=registry,this.parent=parent,this.hostComponent=hostComponent,this.root=root,this.navigating=!1,this.currentInstruction=null,this._currentNavigation=_resolveToTrue,this._outlet=null,this._auxRouters=new collection_1.Map,this._subject=new async_1.EventEmitter}return Router.prototype.childRouter=function(hostComponent){return this._childRouter=new ChildRouter(this,hostComponent)},Router.prototype.auxRouter=function(hostComponent){return new ChildRouter(this,hostComponent)},Router.prototype.registerPrimaryOutlet=function(outlet){if(lang_1.isPresent(outlet.name))throw new exceptions_1.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(lang_1.isPresent(this._outlet))throw new exceptions_1.BaseException("Primary outlet is already registered.");return this._outlet=outlet,lang_1.isPresent(this.currentInstruction)?this.commit(this.currentInstruction,!1):_resolveToTrue},Router.prototype.unregisterPrimaryOutlet=function(outlet){if(lang_1.isPresent(outlet.name))throw new exceptions_1.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},Router.prototype.registerAuxOutlet=function(outlet){var outletName=outlet.name;if(lang_1.isBlank(outletName))throw new exceptions_1.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var router=this.auxRouter(this.hostComponent);this._auxRouters.set(outletName,router),router._outlet=outlet;var auxInstruction;return lang_1.isPresent(this.currentInstruction)&&lang_1.isPresent(auxInstruction=this.currentInstruction.auxInstruction[outletName])?router.commit(auxInstruction):_resolveToTrue},Router.prototype.isRouteActive=function(instruction){var _this=this,router=this;if(lang_1.isBlank(this.currentInstruction))return!1;for(;lang_1.isPresent(router.parent)&&lang_1.isPresent(instruction.child);)router=router.parent,instruction=instruction.child;if(lang_1.isBlank(instruction.component)||lang_1.isBlank(this.currentInstruction.component)||this.currentInstruction.component.routeName!=instruction.component.routeName)return!1;var paramEquals=!0;return lang_1.isPresent(this.currentInstruction.component.params)&&collection_1.StringMapWrapper.forEach(instruction.component.params,function(value,key){_this.currentInstruction.component.params[key]!==value&&(paramEquals=!1)}),paramEquals},Router.prototype.config=function(definitions){var _this=this;return definitions.forEach(function(routeDefinition){_this.registry.config(_this.hostComponent,routeDefinition)}),this.renavigate()},Router.prototype.navigate=function(linkParams){var instruction=this.generate(linkParams);return this.navigateByInstruction(instruction,!1)},Router.prototype.navigateByUrl=function(url,_skipLocationChange){var _this=this;return void 0===_skipLocationChange&&(_skipLocationChange=!1),this._currentNavigation=this._currentNavigation.then(function(_){return _this.lastNavigationAttempt=url,_this._startNavigating(),_this._afterPromiseFinishNavigating(_this.recognize(url).then(function(instruction){return lang_1.isBlank(instruction)?!1:_this._navigate(instruction,_skipLocationChange)}))})},Router.prototype.navigateByInstruction=function(instruction,_skipLocationChange){var _this=this;return void 0===_skipLocationChange&&(_skipLocationChange=!1),lang_1.isBlank(instruction)?_resolveToFalse:this._currentNavigation=this._currentNavigation.then(function(_){return _this._startNavigating(),_this._afterPromiseFinishNavigating(_this._navigate(instruction,_skipLocationChange))})},Router.prototype._settleInstruction=function(instruction){var _this=this;return instruction.resolveComponent().then(function(_){var unsettledInstructions=[];return lang_1.isPresent(instruction.component)&&(instruction.component.reuse=!1),lang_1.isPresent(instruction.child)&&unsettledInstructions.push(_this._settleInstruction(instruction.child)),collection_1.StringMapWrapper.forEach(instruction.auxInstruction,function(instruction,_){unsettledInstructions.push(_this._settleInstruction(instruction))}),async_1.PromiseWrapper.all(unsettledInstructions)})},Router.prototype._navigate=function(instruction,_skipLocationChange){var _this=this;return this._settleInstruction(instruction).then(function(_){return _this._routerCanReuse(instruction)}).then(function(_){return _this._canActivate(instruction)}).then(function(result){return result?_this._routerCanDeactivate(instruction).then(function(result){return result?_this.commit(instruction,_skipLocationChange).then(function(_){return _this._emitNavigationFinish(instruction.toRootUrl()),!0}):void 0}):!1})},Router.prototype._emitNavigationFinish=function(url){async_1.ObservableWrapper.callEmit(this._subject,url)},Router.prototype._emitNavigationFail=function(url){async_1.ObservableWrapper.callError(this._subject,url)},Router.prototype._afterPromiseFinishNavigating=function(promise){var _this=this;return async_1.PromiseWrapper.catchError(promise.then(function(_){return _this._finishNavigating()}),function(err){throw _this._finishNavigating(),err})},Router.prototype._routerCanReuse=function(instruction){var _this=this;return lang_1.isBlank(this._outlet)?_resolveToFalse:lang_1.isBlank(instruction.component)?_resolveToTrue:this._outlet.routerCanReuse(instruction.component).then(function(result){return instruction.component.reuse=result,result&&lang_1.isPresent(_this._childRouter)&&lang_1.isPresent(instruction.child)?_this._childRouter._routerCanReuse(instruction.child):void 0})},Router.prototype._canActivate=function(nextInstruction){return canActivateOne(nextInstruction,this.currentInstruction)},Router.prototype._routerCanDeactivate=function(instruction){var _this=this;if(lang_1.isBlank(this._outlet))return _resolveToTrue;var next,childInstruction=null,reuse=!1,componentInstruction=null;return lang_1.isPresent(instruction)&&(childInstruction=instruction.child,componentInstruction=instruction.component,reuse=lang_1.isBlank(instruction.component)||instruction.component.reuse),next=reuse?_resolveToTrue:this._outlet.routerCanDeactivate(componentInstruction),next.then(function(result){return 0==result?!1:lang_1.isPresent(_this._childRouter)?_this._childRouter._routerCanDeactivate(childInstruction):!0})},Router.prototype.commit=function(instruction,_skipLocationChange){var _this=this;void 0===_skipLocationChange&&(_skipLocationChange=!1),this.currentInstruction=instruction;var next=_resolveToTrue;if(lang_1.isPresent(this._outlet)&&lang_1.isPresent(instruction.component)){var componentInstruction=instruction.component;next=componentInstruction.reuse?this._outlet.reuse(componentInstruction):this.deactivate(instruction).then(function(_){return _this._outlet.activate(componentInstruction)}),lang_1.isPresent(instruction.child)&&(next=next.then(function(_){return lang_1.isPresent(_this._childRouter)?_this._childRouter.commit(instruction.child):void 0}))}var promises=[];return this._auxRouters.forEach(function(router,name){lang_1.isPresent(instruction.auxInstruction[name])&&promises.push(router.commit(instruction.auxInstruction[name]))}),next.then(function(_){return async_1.PromiseWrapper.all(promises)})},Router.prototype._startNavigating=function(){this.navigating=!0},Router.prototype._finishNavigating=function(){this.navigating=!1},Router.prototype.subscribe=function(onNext,onError){return async_1.ObservableWrapper.subscribe(this._subject,onNext,onError)},Router.prototype.deactivate=function(instruction){var _this=this,childInstruction=null,componentInstruction=null;lang_1.isPresent(instruction)&&(childInstruction=instruction.child,componentInstruction=instruction.component);var next=_resolveToTrue;return lang_1.isPresent(this._childRouter)&&(next=this._childRouter.deactivate(childInstruction)),lang_1.isPresent(this._outlet)&&(next=next.then(function(_){return _this._outlet.deactivate(componentInstruction)})),next},Router.prototype.recognize=function(url){var ancestorComponents=this._getAncestorInstructions();return this.registry.recognize(url,ancestorComponents)},Router.prototype._getAncestorInstructions=function(){for(var ancestorInstructions=[this.currentInstruction],ancestorRouter=this;lang_1.isPresent(ancestorRouter=ancestorRouter.parent);)ancestorInstructions.unshift(ancestorRouter.currentInstruction);return ancestorInstructions},Router.prototype.renavigate=function(){return lang_1.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},Router.prototype.generate=function(linkParams){var ancestorInstructions=this._getAncestorInstructions();
return this.registry.generate(linkParams,ancestorInstructions)},Router=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[route_registry_1.RouteRegistry,Router,Object,Router])],Router)}();exports.Router=Router;var RootRouter=function(_super){function RootRouter(registry,location,primaryComponent){var _this=this;_super.call(this,registry,null,primaryComponent),this.root=this,this._location=location,this._locationSub=this._location.subscribe(function(change){_this.recognize(change.url).then(function(instruction){lang_1.isPresent(instruction)?_this.navigateByInstruction(instruction,lang_1.isPresent(change.pop)).then(function(_){if(!lang_1.isPresent(change.pop)||"hashchange"==change.type){var emitPath=instruction.toUrlPath(),emitQuery=instruction.toUrlQuery();emitPath.length>0&&"/"!=emitPath[0]&&(emitPath="/"+emitPath),"hashchange"==change.type?instruction.toRootUrl()!=_this._location.path()&&_this._location.replaceState(emitPath,emitQuery):_this._location.go(emitPath,emitQuery)}}):_this._emitNavigationFail(change.url)})}),this.registry.configFromComponent(primaryComponent),this.navigateByUrl(location.path())}return __extends(RootRouter,_super),RootRouter.prototype.commit=function(instruction,_skipLocationChange){var _this=this;void 0===_skipLocationChange&&(_skipLocationChange=!1);var emitPath=instruction.toUrlPath(),emitQuery=instruction.toUrlQuery();emitPath.length>0&&"/"!=emitPath[0]&&(emitPath="/"+emitPath);var promise=_super.prototype.commit.call(this,instruction);return _skipLocationChange||(promise=promise.then(function(_){_this._location.go(emitPath,emitQuery)})),promise},RootRouter.prototype.dispose=function(){lang_1.isPresent(this._locationSub)&&(async_1.ObservableWrapper.dispose(this._locationSub),this._locationSub=null)},RootRouter=__decorate([core_1.Injectable(),__param(2,core_1.Inject(route_registry_1.ROUTER_PRIMARY_COMPONENT)),__metadata("design:paramtypes",[route_registry_1.RouteRegistry,location_1.Location,lang_1.Type])],RootRouter)}(Router);exports.RootRouter=RootRouter;var ChildRouter=function(_super){function ChildRouter(parent,hostComponent){_super.call(this,parent.registry,parent,hostComponent,parent.root),this.parent=parent}return __extends(ChildRouter,_super),ChildRouter.prototype.navigateByUrl=function(url,_skipLocationChange){return void 0===_skipLocationChange&&(_skipLocationChange=!1),this.parent.navigateByUrl(url,_skipLocationChange)},ChildRouter.prototype.navigateByInstruction=function(instruction,_skipLocationChange){return void 0===_skipLocationChange&&(_skipLocationChange=!1),this.parent.navigateByInstruction(instruction,_skipLocationChange)},ChildRouter}(Router)},{"./lifecycle/route_lifecycle_reflector":238,"./location/location":241,"./route_registry":248,"angular2/core":11,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],250:[function(require,module,exports){"use strict";var router_providers_common_1=require("./router_providers_common"),core_1=require("angular2/core"),lang_1=require("angular2/src/facade/lang"),browser_platform_location_1=require("./location/browser_platform_location"),platform_location_1=require("./location/platform_location");exports.ROUTER_PROVIDERS=lang_1.CONST_EXPR([router_providers_common_1.ROUTER_PROVIDERS_COMMON,lang_1.CONST_EXPR(new core_1.Provider(platform_location_1.PlatformLocation,{useClass:browser_platform_location_1.BrowserPlatformLocation}))]),exports.ROUTER_BINDINGS=exports.ROUTER_PROVIDERS},{"./location/browser_platform_location":239,"./location/platform_location":244,"./router_providers_common":251,"angular2/core":11,"angular2/src/facade/lang":195}],251:[function(require,module,exports){"use strict";function routerFactory(registry,location,primaryComponent,appRef){var rootRouter=new router_1.RootRouter(registry,location,primaryComponent);return appRef.registerDisposeListener(function(){return rootRouter.dispose()}),rootRouter}function routerPrimaryComponentFactory(app){if(0==app.componentTypes.length)throw new exceptions_1.BaseException("Bootstrap at least one component before injecting Router.");return app.componentTypes[0]}var location_strategy_1=require("angular2/src/router/location/location_strategy"),path_location_strategy_1=require("angular2/src/router/location/path_location_strategy"),router_1=require("angular2/src/router/router"),route_registry_1=require("angular2/src/router/route_registry"),location_1=require("angular2/src/router/location/location"),lang_1=require("angular2/src/facade/lang"),core_1=require("angular2/core"),exceptions_1=require("angular2/src/facade/exceptions");exports.ROUTER_PROVIDERS_COMMON=lang_1.CONST_EXPR([route_registry_1.RouteRegistry,lang_1.CONST_EXPR(new core_1.Provider(location_strategy_1.LocationStrategy,{useClass:path_location_strategy_1.PathLocationStrategy})),location_1.Location,lang_1.CONST_EXPR(new core_1.Provider(router_1.Router,{useFactory:routerFactory,deps:lang_1.CONST_EXPR([route_registry_1.RouteRegistry,location_1.Location,route_registry_1.ROUTER_PRIMARY_COMPONENT,core_1.ApplicationRef])})),lang_1.CONST_EXPR(new core_1.Provider(route_registry_1.ROUTER_PRIMARY_COMPONENT,{useFactory:routerPrimaryComponentFactory,deps:lang_1.CONST_EXPR([core_1.ApplicationRef])}))])},{"angular2/core":11,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195,"angular2/src/router/location/location":241,"angular2/src/router/location/location_strategy":242,"angular2/src/router/location/path_location_strategy":243,"angular2/src/router/route_registry":248,"angular2/src/router/router":249}],252:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),instruction_1=require("../../instruction"),AsyncRouteHandler=function(){function AsyncRouteHandler(_loader,data){void 0===data&&(data=null),this._loader=_loader,this._resolvedComponent=null,this.data=lang_1.isPresent(data)?new instruction_1.RouteData(data):instruction_1.BLANK_ROUTE_DATA}return AsyncRouteHandler.prototype.resolveComponentType=function(){var _this=this;return lang_1.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(componentType){return _this.componentType=componentType,componentType})},AsyncRouteHandler}();exports.AsyncRouteHandler=AsyncRouteHandler},{"../../instruction":235,"angular2/src/facade/lang":195}],253:[function(require,module,exports){"use strict";var async_1=require("angular2/src/facade/async"),lang_1=require("angular2/src/facade/lang"),instruction_1=require("../../instruction"),SyncRouteHandler=function(){function SyncRouteHandler(componentType,data){this.componentType=componentType,this._resolvedComponent=null,this._resolvedComponent=async_1.PromiseWrapper.resolve(componentType),this.data=lang_1.isPresent(data)?new instruction_1.RouteData(data):instruction_1.BLANK_ROUTE_DATA}return SyncRouteHandler.prototype.resolveComponentType=function(){return this._resolvedComponent},SyncRouteHandler}();exports.SyncRouteHandler=SyncRouteHandler},{"../../instruction":235,"angular2/src/facade/async":187,"angular2/src/facade/lang":195}],254:[function(require,module,exports){"use strict";function encodeDynamicSegment(value){return lang_1.isBlank(value)?null:(value=lang_1.StringWrapper.replaceAll(value,REGEXP_PERCENT,"%25"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_SLASH,"%2F"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_OPEN_PARENT,"%28"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_CLOSE_PARENT,"%29"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_SEMICOLON,"%3B"))}function decodeDynamicSegment(value){return lang_1.isBlank(value)?null:(value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_SEMICOLON,";"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_CLOSE_PARENT,")"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_OPEN_PARENT,"("),value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_SLASH,"/"),value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_PERCENT,"%"))}var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),utils_1=require("../../utils"),url_parser_1=require("../../url_parser"),route_path_1=require("./route_path"),ContinuationPathSegment=function(){function ContinuationPathSegment(){this.name="",this.specificity="",this.hash="..."}return ContinuationPathSegment.prototype.generate=function(params){return""},ContinuationPathSegment.prototype.match=function(path){return!0},ContinuationPathSegment}(),StaticPathSegment=function(){function StaticPathSegment(path){this.path=path,this.name="",this.specificity="2",this.hash=path}return StaticPathSegment.prototype.match=function(path){return path==this.path},StaticPathSegment.prototype.generate=function(params){return this.path},StaticPathSegment}(),DynamicPathSegment=function(){function DynamicPathSegment(name){this.name=name,this.specificity="1",this.hash=":"}return DynamicPathSegment.prototype.match=function(path){return path.length>0},DynamicPathSegment.prototype.generate=function(params){if(!collection_1.StringMapWrapper.contains(params.map,this.name))throw new exceptions_1.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return encodeDynamicSegment(utils_1.normalizeString(params.get(this.name)))},DynamicPathSegment.paramMatcher=/^:([^\/]+)$/g,DynamicPathSegment}(),StarPathSegment=function(){function StarPathSegment(name){this.name=name,this.specificity="0",this.hash="*"}return StarPathSegment.prototype.match=function(path){return!0},StarPathSegment.prototype.generate=function(params){return utils_1.normalizeString(params.get(this.name))},StarPathSegment.wildcardMatcher=/^\*([^\/]+)$/g,StarPathSegment}(),ParamRoutePath=function(){function ParamRoutePath(routePath){this.routePath=routePath,this.terminal=!0,this._assertValidPath(routePath),this._parsePathString(routePath),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var lastSegment=this._segments[this._segments.length-1];this.terminal=!(lastSegment instanceof ContinuationPathSegment)}return ParamRoutePath.prototype.matchUrl=function(url){for(var currentUrlSegment,nextUrlSegment=url,positionalParams={},captured=[],i=0;i<this._segments.length;i+=1){var pathSegment=this._segments[i];if(currentUrlSegment=nextUrlSegment,pathSegment instanceof ContinuationPathSegment)break;if(lang_1.isPresent(currentUrlSegment)){if(pathSegment instanceof StarPathSegment){positionalParams[pathSegment.name]=currentUrlSegment.toString(),captured.push(currentUrlSegment.toString()),nextUrlSegment=null;break}if(captured.push(currentUrlSegment.path),pathSegment instanceof DynamicPathSegment)positionalParams[pathSegment.name]=decodeDynamicSegment(currentUrlSegment.path);else if(!pathSegment.match(currentUrlSegment.path))return null;nextUrlSegment=currentUrlSegment.child}else if(!pathSegment.match(""))return null}if(this.terminal&&lang_1.isPresent(nextUrlSegment))return null;var urlPath=captured.join("/"),auxiliary=[],urlParams=[],allParams=positionalParams;if(lang_1.isPresent(currentUrlSegment)){var paramsSegment=url instanceof url_parser_1.RootUrl?url:currentUrlSegment;lang_1.isPresent(paramsSegment.params)?(allParams=collection_1.StringMapWrapper.merge(paramsSegment.params,positionalParams),urlParams=url_parser_1.convertUrlParamsToArray(paramsSegment.params)):allParams=positionalParams,auxiliary=currentUrlSegment.auxiliary}return new route_path_1.MatchedUrl(urlPath,urlParams,allParams,auxiliary,nextUrlSegment)},ParamRoutePath.prototype.generateUrl=function(params){for(var paramTokens=new utils_1.TouchMap(params),path=[],i=0;i<this._segments.length;i++){var segment=this._segments[i];segment instanceof ContinuationPathSegment||path.push(segment.generate(paramTokens))}var urlPath=path.join("/"),nonPositionalParams=paramTokens.getUnused(),urlParams=nonPositionalParams;return new route_path_1.GeneratedUrl(urlPath,urlParams)},ParamRoutePath.prototype.toString=function(){return this.routePath},ParamRoutePath.prototype._parsePathString=function(routePath){routePath.startsWith("/")&&(routePath=routePath.substring(1));var segmentStrings=routePath.split("/");this._segments=[];for(var limit=segmentStrings.length-1,i=0;limit>=i;i++){var match,segment=segmentStrings[i];if(lang_1.isPresent(match=lang_1.RegExpWrapper.firstMatch(DynamicPathSegment.paramMatcher,segment)))this._segments.push(new DynamicPathSegment(match[1]));else if(lang_1.isPresent(match=lang_1.RegExpWrapper.firstMatch(StarPathSegment.wildcardMatcher,segment)))this._segments.push(new StarPathSegment(match[1]));else if("..."==segment){if(limit>i)throw new exceptions_1.BaseException('Unexpected "..." before the end of the path for "'+routePath+'".');this._segments.push(new ContinuationPathSegment)}else this._segments.push(new StaticPathSegment(segment))}},ParamRoutePath.prototype._calculateSpecificity=function(){var i,specificity,length=this._segments.length;if(0==length)specificity+="2";else for(specificity="",i=0;length>i;i++)specificity+=this._segments[i].specificity;return specificity},ParamRoutePath.prototype._calculateHash=function(){var i,length=this._segments.length,hashParts=[];for(i=0;length>i;i++)hashParts.push(this._segments[i].hash);return hashParts.join("/")},ParamRoutePath.prototype._assertValidPath=function(path){if(lang_1.StringWrapper.contains(path,"#"))throw new exceptions_1.BaseException('Path "'+path+'" should not include "#". Use "HashLocationStrategy" instead.');var illegalCharacter=lang_1.RegExpWrapper.firstMatch(ParamRoutePath.RESERVED_CHARS,path);if(lang_1.isPresent(illegalCharacter))throw new exceptions_1.BaseException('Path "'+path+'" contains "'+illegalCharacter[0]+'" which is not allowed in a route config.')},ParamRoutePath.RESERVED_CHARS=lang_1.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),ParamRoutePath}();exports.ParamRoutePath=ParamRoutePath;var REGEXP_PERCENT=/%/g,REGEXP_SLASH=/\//g,REGEXP_OPEN_PARENT=/\(/g,REGEXP_CLOSE_PARENT=/\)/g,REGEXP_SEMICOLON=/;/g,REGEXP_ENC_SEMICOLON=/%3B/gi,REGEXP_ENC_CLOSE_PARENT=/%29/gi,REGEXP_ENC_OPEN_PARENT=/%28/gi,REGEXP_ENC_SLASH=/%2F/gi,REGEXP_ENC_PERCENT=/%25/gi},{"../../url_parser":259,"../../utils":260,"./route_path":256,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],255:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),route_path_1=require("./route_path"),RegexRoutePath=function(){function RegexRoutePath(_reString,_serializer){this._reString=_reString,this._serializer=_serializer,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=lang_1.RegExpWrapper.create(this._reString)}return RegexRoutePath.prototype.matchUrl=function(url){var urlPath=url.toString(),params={},matcher=lang_1.RegExpWrapper.matcher(this._regex,urlPath),match=lang_1.RegExpMatcherWrapper.next(matcher);if(lang_1.isBlank(match))return null;for(var i=0;i<match.length;i+=1)params[i.toString()]=match[i];return new route_path_1.MatchedUrl(urlPath,[],params,[],null)},RegexRoutePath.prototype.generateUrl=function(params){return this._serializer(params)},RegexRoutePath.prototype.toString=function(){return this._reString},RegexRoutePath}();exports.RegexRoutePath=RegexRoutePath},{"./route_path":256,"angular2/src/facade/lang":195}],256:[function(require,module,exports){"use strict";var MatchedUrl=function(){function MatchedUrl(urlPath,urlParams,allParams,auxiliary,rest){this.urlPath=urlPath,this.urlParams=urlParams,this.allParams=allParams,this.auxiliary=auxiliary,this.rest=rest}return MatchedUrl}();exports.MatchedUrl=MatchedUrl;var GeneratedUrl=function(){function GeneratedUrl(urlPath,urlParams){this.urlPath=urlPath,this.urlParams=urlParams}return GeneratedUrl}();exports.GeneratedUrl=GeneratedUrl},{}],257:[function(require,module,exports){"use strict";var lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),collection_1=require("angular2/src/facade/collection"),async_1=require("angular2/src/facade/async"),rules_1=require("./rules"),route_config_impl_1=require("../route_config/route_config_impl"),async_route_handler_1=require("./route_handlers/async_route_handler"),sync_route_handler_1=require("./route_handlers/sync_route_handler"),param_route_path_1=require("./route_paths/param_route_path"),regex_route_path_1=require("./route_paths/regex_route_path"),RuleSet=function(){function RuleSet(){this.rulesByName=new collection_1.Map,this.auxRulesByName=new collection_1.Map,this.auxRulesByPath=new collection_1.Map,this.rules=[],this.defaultRule=null}return RuleSet.prototype.config=function(config){var handler;if(lang_1.isPresent(config.name)&&config.name[0].toUpperCase()!=config.name[0]){var suggestedName=config.name[0].toUpperCase()+config.name.substring(1);throw new exceptions_1.BaseException('Route "'+config.path+'" with name "'+config.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+suggestedName+'".')}if(config instanceof route_config_impl_1.AuxRoute){handler=new sync_route_handler_1.SyncRouteHandler(config.component,config.data);var routePath_1=this._getRoutePath(config),auxRule=new rules_1.RouteRule(routePath_1,handler,config.name);return this.auxRulesByPath.set(routePath_1.toString(),auxRule),lang_1.isPresent(config.name)&&this.auxRulesByName.set(config.name,auxRule),auxRule.terminal}var useAsDefault=!1;if(config instanceof route_config_impl_1.Redirect){var routePath_2=this._getRoutePath(config),redirector=new rules_1.RedirectRule(routePath_2,config.redirectTo);return this._assertNoHashCollision(redirector.hash,config.path),this.rules.push(redirector),!0}config instanceof route_config_impl_1.Route?(handler=new sync_route_handler_1.SyncRouteHandler(config.component,config.data),useAsDefault=lang_1.isPresent(config.useAsDefault)&&config.useAsDefault):config instanceof route_config_impl_1.AsyncRoute&&(handler=new async_route_handler_1.AsyncRouteHandler(config.loader,config.data),useAsDefault=lang_1.isPresent(config.useAsDefault)&&config.useAsDefault);var routePath=this._getRoutePath(config),newRule=new rules_1.RouteRule(routePath,handler,config.name);if(this._assertNoHashCollision(newRule.hash,config.path),useAsDefault){if(lang_1.isPresent(this.defaultRule))throw new exceptions_1.BaseException("Only one route can be default");this.defaultRule=newRule}return this.rules.push(newRule),lang_1.isPresent(config.name)&&this.rulesByName.set(config.name,newRule),newRule.terminal},RuleSet.prototype.recognize=function(urlParse){var solutions=[];return this.rules.forEach(function(routeRecognizer){var pathMatch=routeRecognizer.recognize(urlParse);lang_1.isPresent(pathMatch)&&solutions.push(pathMatch)}),0==solutions.length&&lang_1.isPresent(urlParse)&&urlParse.auxiliary.length>0?[async_1.PromiseWrapper.resolve(new rules_1.PathMatch(null,null,urlParse.auxiliary))]:solutions},RuleSet.prototype.recognizeAuxiliary=function(urlParse){var routeRecognizer=this.auxRulesByPath.get(urlParse.path);return lang_1.isPresent(routeRecognizer)?[routeRecognizer.recognize(urlParse)]:[async_1.PromiseWrapper.resolve(null)]},RuleSet.prototype.hasRoute=function(name){return this.rulesByName.has(name)},RuleSet.prototype.componentLoaded=function(name){return this.hasRoute(name)&&lang_1.isPresent(this.rulesByName.get(name).handler.componentType)},RuleSet.prototype.loadComponent=function(name){return this.rulesByName.get(name).handler.resolveComponentType()},RuleSet.prototype.generate=function(name,params){var rule=this.rulesByName.get(name);return lang_1.isBlank(rule)?null:rule.generate(params)},RuleSet.prototype.generateAuxiliary=function(name,params){var rule=this.auxRulesByName.get(name);return lang_1.isBlank(rule)?null:rule.generate(params)},RuleSet.prototype._assertNoHashCollision=function(hash,path){this.rules.forEach(function(rule){if(hash==rule.hash)throw new exceptions_1.BaseException("Configuration '"+path+"' conflicts with existing route '"+rule.path+"'")})},RuleSet.prototype._getRoutePath=function(config){if(lang_1.isPresent(config.regex)){if(lang_1.isFunction(config.serializer))return new regex_route_path_1.RegexRoutePath(config.regex,config.serializer);throw new exceptions_1.BaseException("Route provides a regex property, '"+config.regex+"', but no serializer property")}if(lang_1.isPresent(config.path)){var path=config instanceof route_config_impl_1.AuxRoute&&config.path.startsWith("/")?config.path.substring(1):config.path;return new param_route_path_1.ParamRoutePath(path)}throw new exceptions_1.BaseException("Route must provide either a path or regex property")},RuleSet}();exports.RuleSet=RuleSet},{"../route_config/route_config_impl":246,"./route_handlers/async_route_handler":252,"./route_handlers/sync_route_handler":253,"./route_paths/param_route_path":254,"./route_paths/regex_route_path":255,"./rules":258,"angular2/src/facade/async":187,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],258:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions"),promise_1=require("angular2/src/facade/promise"),collection_1=require("angular2/src/facade/collection"),url_parser_1=require("../url_parser"),instruction_1=require("../instruction"),RouteMatch=function(){function RouteMatch(){}return RouteMatch}();exports.RouteMatch=RouteMatch;var PathMatch=function(_super){function PathMatch(instruction,remaining,remainingAux){_super.call(this),this.instruction=instruction,this.remaining=remaining,this.remainingAux=remainingAux}return __extends(PathMatch,_super),PathMatch}(RouteMatch);exports.PathMatch=PathMatch;var RedirectMatch=function(_super){function RedirectMatch(redirectTo,specificity){_super.call(this),this.redirectTo=redirectTo,this.specificity=specificity}return __extends(RedirectMatch,_super),RedirectMatch}(RouteMatch);exports.RedirectMatch=RedirectMatch;var RedirectRule=function(){function RedirectRule(_pathRecognizer,redirectTo){this._pathRecognizer=_pathRecognizer,this.redirectTo=redirectTo,this.hash=this._pathRecognizer.hash}return Object.defineProperty(RedirectRule.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(val){throw new exceptions_1.BaseException("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),RedirectRule.prototype.recognize=function(beginningSegment){var match=null;return lang_1.isPresent(this._pathRecognizer.matchUrl(beginningSegment))&&(match=new RedirectMatch(this.redirectTo,this._pathRecognizer.specificity)),promise_1.PromiseWrapper.resolve(match)},RedirectRule.prototype.generate=function(params){throw new exceptions_1.BaseException("Tried to generate a redirect.")},RedirectRule}();exports.RedirectRule=RedirectRule;var RouteRule=function(){function RouteRule(_routePath,handler,_routeName){this._routePath=_routePath,this.handler=handler,this._routeName=_routeName,this._cache=new collection_1.Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(RouteRule.prototype,"path",{get:function(){return this._routePath.toString()},set:function(val){throw new exceptions_1.BaseException("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),RouteRule.prototype.recognize=function(beginningSegment){var _this=this,res=this._routePath.matchUrl(beginningSegment);return lang_1.isBlank(res)?null:this.handler.resolveComponentType().then(function(_){var componentInstruction=_this._getInstruction(res.urlPath,res.urlParams,res.allParams);return new PathMatch(componentInstruction,res.rest,res.auxiliary)})},RouteRule.prototype.generate=function(params){var generated=this._routePath.generateUrl(params),urlPath=generated.urlPath,urlParams=generated.urlParams;return this._getInstruction(urlPath,url_parser_1.convertUrlParamsToArray(urlParams),params)},RouteRule.prototype.generateComponentPathValues=function(params){return this._routePath.generateUrl(params)},RouteRule.prototype._getInstruction=function(urlPath,urlParams,params){if(lang_1.isBlank(this.handler.componentType))throw new exceptions_1.BaseException("Tried to get instruction before the type was loaded.");var hashKey=urlPath+"?"+urlParams.join("&");if(this._cache.has(hashKey))return this._cache.get(hashKey);var instruction=new instruction_1.ComponentInstruction(urlPath,urlParams,this.handler.data,this.handler.componentType,this.terminal,this.specificity,params,this._routeName);return this._cache.set(hashKey,instruction),instruction},RouteRule}();exports.RouteRule=RouteRule},{"../instruction":235,"../url_parser":259,"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195,"angular2/src/facade/promise":197}],259:[function(require,module,exports){"use strict";function convertUrlParamsToArray(urlParams){var paramsArray=[];return lang_1.isBlank(urlParams)?[]:(collection_1.StringMapWrapper.forEach(urlParams,function(value,key){paramsArray.push(value===!0?key:key+"="+value)}),paramsArray)}function serializeParams(urlParams,joiner){return void 0===joiner&&(joiner="&"),convertUrlParamsToArray(urlParams).join(joiner)}function pathSegmentsToUrl(pathSegments){for(var url=new Url(pathSegments[pathSegments.length-1]),i=pathSegments.length-2;i>=0;i-=1)url=new Url(pathSegments[i],url);return url}function matchUrlSegment(str){var match=lang_1.RegExpWrapper.firstMatch(SEGMENT_RE,str);return lang_1.isPresent(match)?match[0]:""}function matchUrlQueryParamValue(str){var match=lang_1.RegExpWrapper.firstMatch(QUERY_PARAM_VALUE_RE,str);return lang_1.isPresent(match)?match[0]:""}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},collection_1=require("angular2/src/facade/collection"),lang_1=require("angular2/src/facade/lang"),exceptions_1=require("angular2/src/facade/exceptions");exports.convertUrlParamsToArray=convertUrlParamsToArray,exports.serializeParams=serializeParams;var Url=function(){function Url(path,child,auxiliary,params){void 0===child&&(child=null),void 0===auxiliary&&(auxiliary=lang_1.CONST_EXPR([])),void 0===params&&(params=lang_1.CONST_EXPR({})),this.path=path,this.child=child,this.auxiliary=auxiliary,this.params=params}return Url.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},Url.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},Url.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(sibling){return sibling.toString()}).join("//")+")":""},Url.prototype._matrixParamsToString=function(){var paramString=serializeParams(this.params,";");return paramString.length>0?";"+paramString:""},Url.prototype._childString=function(){return lang_1.isPresent(this.child)?"/"+this.child.toString():""},Url}();exports.Url=Url;var RootUrl=function(_super){function RootUrl(path,child,auxiliary,params){void 0===child&&(child=null),void 0===auxiliary&&(auxiliary=lang_1.CONST_EXPR([])),void 0===params&&(params=null),_super.call(this,path,child,auxiliary,params)}return __extends(RootUrl,_super),RootUrl.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},RootUrl.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},RootUrl.prototype._queryParamsToString=function(){return lang_1.isBlank(this.params)?"":"?"+serializeParams(this.params)},RootUrl}(Url);exports.RootUrl=RootUrl,exports.pathSegmentsToUrl=pathSegmentsToUrl;var SEGMENT_RE=lang_1.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&#]+"),QUERY_PARAM_VALUE_RE=lang_1.RegExpWrapper.create("^[^\\(\\)\\?;&#]+"),UrlParser=function(){function UrlParser(){}return UrlParser.prototype.peekStartsWith=function(str){return this._remaining.startsWith(str)},UrlParser.prototype.capture=function(str){if(!this._remaining.startsWith(str))throw new exceptions_1.BaseException('Expected "'+str+'".');this._remaining=this._remaining.substring(str.length)},UrlParser.prototype.parse=function(url){return this._remaining=url,""==url||"/"==url?new Url(""):this.parseRoot()},UrlParser.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var path=matchUrlSegment(this._remaining);this.capture(path);var aux=[];this.peekStartsWith("(")&&(aux=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var child=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),child=this.parseSegment());var queryParams=null;return this.peekStartsWith("?")&&(queryParams=this.parseQueryParams()),new RootUrl(path,child,aux,queryParams)},UrlParser.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var path=matchUrlSegment(this._remaining);this.capture(path);var matrixParams=null;this.peekStartsWith(";")&&(matrixParams=this.parseMatrixParams());var aux=[];this.peekStartsWith("(")&&(aux=this.parseAuxiliaryRoutes());var child=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),child=this.parseSegment()),new Url(path,child,aux,matrixParams)},UrlParser.prototype.parseQueryParams=function(){var params={};for(this.capture("?"),this.parseQueryParam(params);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(params);return params},UrlParser.prototype.parseMatrixParams=function(){for(var params={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(params);return params},UrlParser.prototype.parseParam=function(params){var key=matchUrlSegment(this._remaining);if(!lang_1.isBlank(key)){this.capture(key);var value=!0;if(this.peekStartsWith("=")){this.capture("=");var valueMatch=matchUrlSegment(this._remaining);lang_1.isPresent(valueMatch)&&(value=valueMatch,this.capture(value))}params[key]=value}},UrlParser.prototype.parseQueryParam=function(params){var key=matchUrlSegment(this._remaining);if(!lang_1.isBlank(key)){this.capture(key);var value=!0;if(this.peekStartsWith("=")){this.capture("=");var valueMatch=matchUrlQueryParamValue(this._remaining);lang_1.isPresent(valueMatch)&&(value=valueMatch,this.capture(value))}params[key]=value}},UrlParser.prototype.parseAuxiliaryRoutes=function(){var routes=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)routes.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),routes},UrlParser}();exports.UrlParser=UrlParser,exports.parser=new UrlParser},{"angular2/src/facade/collection":190,"angular2/src/facade/exceptions":192,"angular2/src/facade/lang":195}],260:[function(require,module,exports){"use strict";function normalizeString(obj){return lang_1.isBlank(obj)?null:obj.toString()}var lang_1=require("angular2/src/facade/lang"),collection_1=require("angular2/src/facade/collection"),TouchMap=function(){function TouchMap(map){var _this=this;this.map={},this.keys={},lang_1.isPresent(map)&&collection_1.StringMapWrapper.forEach(map,function(value,key){_this.map[key]=lang_1.isPresent(value)?value.toString():null,_this.keys[key]=!0})}return TouchMap.prototype.get=function(key){return collection_1.StringMapWrapper["delete"](this.keys,key),this.map[key]},TouchMap.prototype.getUnused=function(){var _this=this,unused={},keys=collection_1.StringMapWrapper.keys(this.keys);return keys.forEach(function(key){return unused[key]=collection_1.StringMapWrapper.get(_this.map,key)}),unused},TouchMap}();exports.TouchMap=TouchMap,
exports.normalizeString=normalizeString},{"angular2/src/facade/collection":190,"angular2/src/facade/lang":195}],261:[function(require,module,exports){"use strict";var Codegen=function(){function Codegen(moduleAlias){}return Codegen.prototype.generate=function(typeName,changeDetectorTypeName,def){throw"Not implemented in JS"},Codegen.prototype.toString=function(){throw"Not implemented in JS"},Codegen}();exports.Codegen=Codegen},{}],262:[function(require,module,exports){"use strict";var dom_1=require("../util/dom"),util_1=require("../util/util"),Animation=function(){function Animation(ele,opts){void 0===opts&&(opts={}),this._wChg=!1,this._rv=!1,this._lastUpd=0,this.isPlaying=!1,this.hasTween=!1,this.hasCompleted=!1,this._reset(),this.element(ele),this._opts=util_1.assign({renderDelay:24},opts)}return Animation.prototype._reset=function(){this._el=[],this._c=[],this._fx={},this._bfSty={},this._bfAdd=[],this._bfRmv=[],this._afSty={},this._afAdd=[],this._afRmv=[],this._pFns=[],this._fFns=[],this._fOnceFns=[],this._easing=this._dur=null},Animation.prototype.element=function(ele){var i;if(ele)if(Array.isArray(ele))for(i=0;i<ele.length;i++)this._addEle(ele[i]);else if("string"==typeof ele)for(ele=document.querySelectorAll(ele),i=0;i<ele.length;i++)this._addEle(ele[i]);else this._addEle(ele);return this},Animation.prototype._addEle=function(ele){ele.nativeElement&&(ele=ele.nativeElement),1===ele.nodeType&&(this._el.push(ele),this._wChg="undefined"!=typeof ele.style.willChange)},Animation.prototype.parent=function(parentAnimation){return this._parent=parentAnimation,this},Animation.prototype.add=function(childAnimation){return childAnimation.parent(this),this._c.push(childAnimation),this},Animation.prototype.getDuration=function(){return null!==this._dur?this._dur:this._parent&&this._parent.getDuration()||0},Animation.prototype.duration=function(milliseconds){return this._dur=milliseconds,this},Animation.prototype.getEasing=function(){return null!==this._easing?this._easing:this._parent&&this._parent.getEasing()||null},Animation.prototype.easing=function(name){return this._easing=name,this},Animation.prototype.from=function(prop,val){return this._addProp("from",prop,val),this},Animation.prototype.to=function(prop,val,clearProperyAfterTransition){var fx=this._addProp("to",prop,val);return clearProperyAfterTransition&&this.after.clearStyles([fx.trans?dom_1.CSS.transform:prop]),this},Animation.prototype.fromTo=function(prop,fromVal,toVal,clearProperyAfterTransition){return this.from(prop,fromVal).to(prop,toVal,clearProperyAfterTransition)},Animation.prototype._addProp=function(state,prop,val){var fxProp=this._fx[prop];fxProp||(fxProp=this._fx[prop]={trans:"undefined"!=typeof TRANSFORMS[prop],wc:""},fxProp.trans?fxProp.wc=dom_1.CSS.transform:"opacity"===prop&&(fxProp.wc=prop));var fxState=fxProp[state]={val:val,num:null,unit:""};if("string"==typeof val&&val.indexOf(" ")<0){var r=val.match(CSS_VALUE_REGEX),num=parseFloat(r[1]);isNaN(num)||(fxState.num=num),fxState.unit=r[0]!==r[2]?r[2]:""}else"number"==typeof val&&(fxState.num=val);return fxProp},Animation.prototype.fadeIn=function(){return this.fromTo("opacity",.001,1,!0)},Animation.prototype.fadeOut=function(){return this.fromTo("opacity",.999,0)},Object.defineProperty(Animation.prototype,"before",{get:function(){var _this=this;return{addClass:function(className){return _this._bfAdd.push(className),_this},removeClass:function(className){return _this._bfRmv.push(className),_this},setStyles:function(styles){return _this._bfSty=styles,_this},clearStyles:function(propertyNames){for(var i=0;i<propertyNames.length;i++)_this._bfSty[propertyNames[i]]="";return _this}}},enumerable:!0,configurable:!0}),Object.defineProperty(Animation.prototype,"after",{get:function(){var _this=this;return{addClass:function(className){return _this._afAdd.push(className),_this},removeClass:function(className){return _this._afRmv.push(className),_this},setStyles:function(styles){return _this._afSty=styles,_this},clearStyles:function(propertyNames){for(var i=0;i<propertyNames.length;i++)_this._afSty[propertyNames[i]]="";return _this}}},enumerable:!0,configurable:!0}),Animation.prototype.play=function(opts){void 0===opts&&(opts={});var i,self=this,duration=util_1.isDefined(opts.duration)?opts.duration:self._dur;for(self.hasTween=!1,self.hasCompleted=!1,i=0;i<self._pFns.length;i++)self._pFns[i]();self.isPlaying=!0,self._before(),self._clearAsync(),duration>30?(self._progress(0),self._willChg(!0),self._asyncEnd(duration,!0),dom_1.rafFrames(self._opts.renderDelay/16,function(){self._setTrans(duration,!1),dom_1.rafFrames(2,function(){self._progress(1)})})):(self._progress(1),self._after(),self._didFinish(!0))},Animation.prototype.stop=function(opts){void 0===opts&&(opts={});var self=this,duration=util_1.isDefined(opts.duration)?opts.duration:0,stepValue=util_1.isDefined(opts.stepValue)?opts.stepValue:1;this._clearAsync(),self._progress(stepValue),duration>30?(self._setTrans(duration,!0),self._asyncEnd(duration,!1)):(self._after(),self._didFinish(!1))},Animation.prototype._asyncEnd=function(duration,shouldComplete){function onTransitionEnd(ev){self._clearAsync(),self._after(),self._willChg(!1),self._didFinish(shouldComplete)}function onTransitionFallback(){self._tmr=0,self._clearAsync(),self._setTrans(0,!0),self._progress(1),self._after(),self._willChg(!1),self._didFinish(shouldComplete)}var self=this;self._unregTrans=dom_1.transitionEnd(self._transEl(),onTransitionEnd),self._tmr=dom_1.nativeTimeout(onTransitionFallback,duration+400)},Animation.prototype._clearAsync=function(){this._unregTrans&&this._unregTrans(),this._tmr&&(clearTimeout(this._tmr),this._tmr=0)},Animation.prototype._progress=function(stepValue){var i,prop,fx,val,transforms,tweenEffect;for(i=0;i<this._c.length;i++)this._c[i]._progress(stepValue);if(this._el.length){this._rv&&(stepValue=-1*stepValue+1),transforms=[];for(prop in this._fx)if(fx=this._fx[prop],fx.from&&fx.to&&(tweenEffect=fx.from.num!==fx.to.num,tweenEffect&&(this.hasTween=!0),val=0===stepValue?fx.from.val:1===stepValue?fx.to.val:tweenEffect?(fx.to.num-fx.from.num)*stepValue+fx.from.num+fx.to.unit:null,null!==val))if(fx.trans)transforms.push(prop+"("+val+")");else for(i=0;i<this._el.length;i++)this._el[i].style[prop]=val;if(transforms.length)for(this._wChg||transforms.push("translateZ(0px)"),i=0;i<this._el.length;i++)this._el[i].style[dom_1.CSS.transform]=transforms.join(" ")}},Animation.prototype._setTrans=function(duration,forcedLinearEasing){var i,easing;for(i=0;i<this._c.length;i++)this._c[i]._setTrans(duration,forcedLinearEasing);if(Object.keys(this._fx).length)for(i=0;i<this._el.length;i++)this._el[i].style[dom_1.CSS.transitionDuration]=duration+"ms",easing=forcedLinearEasing?"linear":this.getEasing(),easing&&(this._el[i].style[dom_1.CSS.transitionTimingFn]=easing)},Animation.prototype._willChg=function(addWillChange){var i,wc,prop;for(i=0;i<this._c.length;i++)this._c[i]._willChg(addWillChange);if(this._wChg){if(wc=[],addWillChange)for(prop in this._fx)""!==this._fx[prop].wc&&wc.push(this._fx[prop].wc);for(i=0;i<this._el.length;i++)this._el[i].style.willChange=wc.join(",")}},Animation.prototype._before=function(){var i,j,prop,ele;for(i=0;i<this._c.length;i++)this._c[i]._before();if(!this._rv)for(i=0;i<this._el.length;i++){for(ele=this._el[i],j=0;j<this._bfAdd.length;j++)ele.classList.add(this._bfAdd[j]);for(j=0;j<this._bfRmv.length;j++)ele.classList.remove(this._bfRmv[j]);for(prop in this._bfSty)ele.style[prop]=this._bfSty[prop]}},Animation.prototype._after=function(){var i,j,prop,ele;for(i=0;i<this._c.length;i++)this._c[i]._after();for(i=0;i<this._el.length;i++)if(ele=this._el[i],ele.style[dom_1.CSS.transitionDuration]="",ele.style[dom_1.CSS.transitionTimingFn]="",this._rv){for(j=0;j<this._bfAdd.length;j++)ele.classList.remove(this._bfAdd[j]);for(j=0;j<this._bfRmv.length;j++)ele.classList.add(this._bfRmv[j]);for(prop in this._bfSty)ele.style[prop]=""}else{for(j=0;j<this._afAdd.length;j++)ele.classList.add(this._afAdd[j]);for(j=0;j<this._afRmv.length;j++)ele.classList.remove(this._afRmv[j]);for(prop in this._afSty)ele.style[prop]=this._afSty[prop]}},Animation.prototype.progressStart=function(){for(var i=0;i<this._c.length;i++)this._c[i].progressStart();this._before(),this._setTrans(0,!0)},Animation.prototype.progressStep=function(stepValue){var now=Date.now();if(now-16>this._lastUpd){this._lastUpd=now,stepValue=Math.min(1,Math.max(0,stepValue));for(var i=0;i<this._c.length;i++)this._c[i].progressStep(stepValue);this._rv&&(stepValue=-1*stepValue+1),this._progress(stepValue)}},Animation.prototype.progressEnd=function(shouldComplete,currentStepValue){for(var i=0;i<this._c.length;i++)this._c[i].progressEnd(shouldComplete,currentStepValue);this._progress(shouldComplete?1:0),.05>currentStepValue||currentStepValue>.95?(this._after(),this._willChg(!1),this._didFinish(shouldComplete)):(this._asyncEnd(64,shouldComplete),this._setTrans(64,!0))},Animation.prototype.onPlay=function(callback){return this._pFns.push(callback),this},Animation.prototype.onFinish=function(callback,onceTimeCallback,clearOnFinishCallacks){return void 0===onceTimeCallback&&(onceTimeCallback=!1),void 0===clearOnFinishCallacks&&(clearOnFinishCallacks=!1),clearOnFinishCallacks&&(this._fFns=[],this._fOnceFns=[]),onceTimeCallback?this._fOnceFns.push(callback):this._fFns.push(callback),this},Animation.prototype._didFinish=function(hasCompleted){this.isPlaying=!1,this.hasCompleted=hasCompleted;var i;for(i=0;i<this._fFns.length;i++)this._fFns[i](this);for(i=0;i<this._fOnceFns.length;i++)this._fOnceFns[i](this);this._fOnceFns=[]},Animation.prototype.reverse=function(shouldReverse){void 0===shouldReverse&&(shouldReverse=!0);for(var i=0;i<this._c.length;i++)this._c[i].reverse(shouldReverse);return this._rv=shouldReverse,this},Animation.prototype.destroy=function(removeElement){var i,ele;for(i=0;i<this._c.length;i++)this._c[i].destroy(removeElement);if(removeElement)for(i=0;i<this._el.length;i++)ele=this._el[i],ele.parentNode&&ele.parentNode.removeChild(ele);this._clearAsync(),this._reset()},Animation.prototype._transEl=function(){var i,targetEl;for(i=0;i<this._c.length;i++)if(targetEl=this._c[i]._transEl())return targetEl;return this.hasTween&&this._el.length?this._el[0]:null},Animation.create=function(name,opts){void 0===opts&&(opts={});var AnimationClass=AnimationRegistry[name];return AnimationClass||(AnimationClass=Animation),new AnimationClass(null,opts)},Animation.register=function(name,AnimationClass){AnimationRegistry[name]=AnimationClass},Animation}();exports.Animation=Animation;var TRANSFORMS={translateX:1,translateY:1,translateZ:1,scale:1,scaleX:1,scaleY:1,scaleZ:1,rotate:1,rotateX:1,rotateY:1,rotateZ:1,skewX:1,skewY:1,perspective:1},CSS_VALUE_REGEX=/(^-?\d*\.?\d*)(.*)/,AnimationRegistry={}},{"../util/dom":357,"../util/util":363}],263:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("./animation"),SlideIn=function(_super){function SlideIn(element){_super.call(this,element),this.easing("cubic-bezier(0.1,0.7,0.1,1)").duration(400).fromTo("translateY","100%","0%")}return __extends(SlideIn,_super),SlideIn}(animation_1.Animation);animation_1.Animation.register("slide-in",SlideIn);var SlideOut=function(_super){function SlideOut(element){_super.call(this,element),this.easing("ease-out").duration(250).fromTo("translateY","0%","100%")}return __extends(SlideOut,_super),SlideOut}(animation_1.Animation);animation_1.Animation.register("slide-out",SlideOut);var FadeIn=function(_super){function FadeIn(element){_super.call(this,element),this.easing("ease-in").duration(400).fadeIn()}return __extends(FadeIn,_super),FadeIn}(animation_1.Animation);animation_1.Animation.register("fade-in",FadeIn);var FadeOut=function(_super){function FadeOut(element){_super.call(this,element),this.easing("ease-out").duration(250).fadeOut()}return __extends(FadeOut,_super),FadeOut}(animation_1.Animation);animation_1.Animation.register("fade-out",FadeOut)},{"./animation":262}],264:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./components/app/app")),__export(require("./components/app/id")),__export(require("./components/action-sheet/action-sheet")),__export(require("./components/alert/alert")),__export(require("./components/badge/badge")),__export(require("./components/blur/blur")),__export(require("./components/button/button")),__export(require("./components/checkbox/checkbox")),__export(require("./components/content/content")),__export(require("./components/icon/icon")),__export(require("./components/img/img")),__export(require("./components/infinite-scroll/infinite-scroll")),__export(require("./components/infinite-scroll/infinite-scroll-content")),__export(require("./components/input/input")),__export(require("./components/item/item")),__export(require("./components/item/item-sliding")),__export(require("./components/label/label")),__export(require("./components/list/list")),__export(require("./components/loading/loading")),__export(require("./components/menu/menu-controller")),__export(require("./components/menu/menu")),__export(require("./components/menu/menu-types")),__export(require("./components/menu/menu-toggle")),__export(require("./components/menu/menu-close")),__export(require("./components/modal/modal")),__export(require("./components/nav/nav")),__export(require("./components/nav/nav-controller")),__export(require("./components/nav/view-controller")),__export(require("./components/nav/nav-params")),__export(require("./components/nav/nav-push")),__export(require("./components/nav/nav-router")),__export(require("./components/navbar/navbar")),__export(require("./components/option/option")),__export(require("./components/radio/radio-button")),__export(require("./components/radio/radio-group")),__export(require("./components/refresher/refresher")),__export(require("./components/refresher/refresher-content")),__export(require("./components/scroll/scroll")),__export(require("./components/searchbar/searchbar")),__export(require("./components/segment/segment")),__export(require("./components/select/select")),__export(require("./components/show-hide-when/show-hide-when")),__export(require("./components/slides/slides")),__export(require("./components/spinner/spinner")),__export(require("./components/tabs/tabs")),__export(require("./components/tabs/tab")),__export(require("./components/tap-click/tap-click")),__export(require("./components/toggle/toggle")),__export(require("./components/toast/toast")),__export(require("./components/toolbar/toolbar")),__export(require("./components/virtual-scroll/virtual-scroll"))},{"./components/action-sheet/action-sheet":265,"./components/alert/alert":266,"./components/app/app":267,"./components/app/id":268,"./components/badge/badge":269,"./components/blur/blur":270,"./components/button/button":271,"./components/checkbox/checkbox":272,"./components/content/content":273,"./components/icon/icon":274,"./components/img/img":275,"./components/infinite-scroll/infinite-scroll":277,"./components/infinite-scroll/infinite-scroll-content":276,"./components/input/input":279,"./components/item/item":284,"./components/item/item-sliding":283,"./components/label/label":285,"./components/list/list":286,"./components/loading/loading":287,"./components/menu/menu":293,"./components/menu/menu-close":288,"./components/menu/menu-controller":289,"./components/menu/menu-toggle":291,"./components/menu/menu-types":292,"./components/modal/modal":294,"./components/nav/nav":301,"./components/nav/nav-controller":295,"./components/nav/nav-params":296,"./components/nav/nav-push":298,"./components/nav/nav-router":300,"./components/nav/view-controller":303,"./components/navbar/navbar":304,"./components/option/option":305,"./components/radio/radio-button":306,"./components/radio/radio-group":307,"./components/refresher/refresher":309,"./components/refresher/refresher-content":308,"./components/scroll/scroll":310,"./components/searchbar/searchbar":311,"./components/segment/segment":312,"./components/select/select":313,"./components/show-hide-when/show-hide-when":314,"./components/slides/slides":315,"./components/spinner/spinner":317,"./components/tabs/tab":320,"./components/tabs/tabs":321,"./components/tap-click/tap-click":324,"./components/toast/toast":325,"./components/toggle/toggle":326,"./components/toolbar/toolbar":327,"./components/virtual-scroll/virtual-scroll":329}],265:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),animation_1=require("../../animations/animation"),transition_1=require("../../transitions/transition"),config_1=require("../../config/config"),icon_1=require("../icon/icon"),util_1=require("../../util/util"),nav_params_1=require("../nav/nav-params"),view_controller_1=require("../nav/view-controller"),ActionSheet=function(_super){function ActionSheet(opts){void 0===opts&&(opts={}),opts.buttons=opts.buttons||[],opts.enableBackdropDismiss=util_1.isPresent(opts.enableBackdropDismiss)?!!opts.enableBackdropDismiss:!0,_super.call(this,ActionSheetCmp,opts),this.viewType="action-sheet",this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(ActionSheet,_super),ActionSheet.prototype.getTransitionName=function(direction){var key="actionSheet"+("back"===direction?"Leave":"Enter");return this._nav&&this._nav.config.get(key)},ActionSheet.prototype.setTitle=function(title){this.data.title=title},ActionSheet.prototype.setSubTitle=function(subTitle){this.data.subTitle=subTitle},ActionSheet.prototype.addButton=function(button){this.data.buttons.push(button)},ActionSheet.create=function(opts){return void 0===opts&&(opts={}),new ActionSheet(opts)},ActionSheet}(view_controller_1.ViewController);exports.ActionSheet=ActionSheet;var ActionSheetCmp=function(){function ActionSheetCmp(_viewCtrl,_config,_elementRef,params,renderer){this._viewCtrl=_viewCtrl,this._config=_config,this._elementRef=_elementRef,this.d=params.data,this.created=Date.now(),this.d.cssClass&&renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++actionSheetIds,this.d.title&&(this.hdrId="acst-hdr-"+this.id),this.d.subTitle&&(this.descId="acst-subhdr-"+this.id)}return ActionSheetCmp.prototype.onPageLoaded=function(){var _this=this,buttons=[];this.d.buttons.forEach(function(button){"string"==typeof button&&(button={text:button}),button.cssClass||(button.cssClass=""),button.style&&(button.role=button.style),"cancel"===button.role?_this.d.cancelButton=button:("destructive"===button.role?button.cssClass=(button.cssClass+" "||"")+"action-sheet-destructive":"selected"===button.role&&(button.cssClass=(button.cssClass+" "||"")+"action-sheet-selected"),buttons.push(button))}),this.d.buttons=buttons},ActionSheetCmp.prototype.onPageDidEnter=function(){var activeElement=document.activeElement;document.activeElement&&activeElement.blur();var focusableEle=this._elementRef.nativeElement.querySelector("button");focusableEle&&focusableEle.focus()},ActionSheetCmp.prototype._keyUp=function(ev){this.isEnabled()&&this._viewCtrl.isLast()&&27===ev.keyCode&&this.bdClick()},ActionSheetCmp.prototype.click=function(button,dismissDelay){var _this=this;if(this.isEnabled()){var shouldDismiss=!0;button.handler&&button.handler()===!1&&(shouldDismiss=!1),shouldDismiss&&setTimeout(function(){_this.dismiss(button.role)},dismissDelay||this._config.get("pageTransitionDelay"))}},ActionSheetCmp.prototype.bdClick=function(){this.isEnabled()&&this.d.enableBackdropDismiss&&(this.d.cancelButton?this.click(this.d.cancelButton,1):this.dismiss("backdrop"))},ActionSheetCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(null,role)},ActionSheetCmp.prototype.isEnabled=function(){var tm=this._config.getNumber("overlayCreatedDiff",750);return this.created+tm<Date.now()},__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],ActionSheetCmp.prototype,"_keyUp",null),ActionSheetCmp=__decorate([core_1.Component({selector:"ion-action-sheet",template:'<div (click)="bdClick()" tappable disable-activated class="backdrop" role="presentation"></div><div class="action-sheet-wrapper"><div class="action-sheet-container"><div class="action-sheet-group"><div class="action-sheet-title" id="{{hdrId}}" *ngIf="d.title">{{d.title}}</div><div class="action-sheet-sub-title" id="{{descId}}" *ngIf="d.subTitle">{{d.subTitle}}</div><button category="action-sheet-button" (click)="click(b)" *ngFor="#b of d.buttons" class="disable-hover" [ngClass]="b.cssClass"><ion-icon [name]="b.icon" *ngIf="b.icon" class="action-sheet-icon"></ion-icon> {{b.text}}<ion-button-effect></ion-button-effect></button></div><div class="action-sheet-group" *ngIf="d.cancelButton"><button category="action-sheet-button" (click)="click(d.cancelButton)" class="action-sheet-cancel disable-hover" [ngClass]="d.cancelButton.cssClass"><ion-icon [name]="d.cancelButton.icon" *ngIf="d.cancelButton.icon" class="action-sheet-icon"></ion-icon> {{d.cancelButton.text}}<ion-button-effect></ion-button-effect></button></div></div></div>',host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},directives:[common_1.NgFor,common_1.NgIf,icon_1.Icon],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,config_1.Config,core_1.ElementRef,nav_params_1.NavParams,core_1.Renderer])],ActionSheetCmp)}(),ActionSheetSlideIn=function(_super){function ActionSheetSlideIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.01,.4),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ActionSheetSlideIn,_super),ActionSheetSlideIn}(transition_1.Transition);transition_1.Transition.register("action-sheet-slide-in",ActionSheetSlideIn);var ActionSheetSlideOut=function(_super){function ActionSheetSlideOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.4,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(backdrop).add(wrapper)}return __extends(ActionSheetSlideOut,_super),ActionSheetSlideOut}(transition_1.Transition);transition_1.Transition.register("action-sheet-slide-out",ActionSheetSlideOut);var ActionSheetMdSlideIn=function(_super){function ActionSheetMdSlideIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.01,.26),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ActionSheetMdSlideIn,_super),ActionSheetMdSlideIn}(transition_1.Transition);transition_1.Transition.register("action-sheet-md-slide-in",ActionSheetMdSlideIn);var ActionSheetMdSlideOut=function(_super){function ActionSheetMdSlideOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.26,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(backdrop).add(wrapper)}return __extends(ActionSheetMdSlideOut,_super),ActionSheetMdSlideOut}(transition_1.Transition);transition_1.Transition.register("action-sheet-md-slide-out",ActionSheetMdSlideOut);var ActionSheetWpSlideIn=function(_super){function ActionSheetWpSlideIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.01,.16),wrapper.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ActionSheetWpSlideIn,_super),ActionSheetWpSlideIn}(transition_1.Transition);transition_1.Transition.register("action-sheet-wp-slide-in",ActionSheetWpSlideIn);var ActionSheetWpSlideOut=function(_super){function ActionSheetWpSlideOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".action-sheet-wrapper"));backdrop.fromTo("opacity",.1,0),wrapper.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(backdrop).add(wrapper)}return __extends(ActionSheetWpSlideOut,_super),ActionSheetWpSlideOut}(transition_1.Transition);transition_1.Transition.register("action-sheet-wp-slide-out",ActionSheetWpSlideOut);var actionSheetIds=-1},{"../../animations/animation":262,"../../config/config":332,"../../transitions/transition":352,"../../util/util":363,"../icon/icon":274,"../nav/nav-params":296,"../nav/view-controller":303,"angular2/common":9,"angular2/core":11}],266:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),animation_1=require("../../animations/animation"),transition_1=require("../../transitions/transition"),config_1=require("../../config/config"),util_1=require("../../util/util"),nav_params_1=require("../nav/nav-params"),view_controller_1=require("../nav/view-controller"),Alert=function(_super){function Alert(opts){void 0===opts&&(opts={}),opts.inputs=opts.inputs||[],opts.buttons=opts.buttons||[],opts.enableBackdropDismiss=util_1.isPresent(opts.enableBackdropDismiss)?!!opts.enableBackdropDismiss:!0,_super.call(this,AlertCmp,opts),this.viewType="alert",this.isOverlay=!0,this.fireOtherLifecycles=!1}return __extends(Alert,_super),Alert.prototype.getTransitionName=function(direction){var key="back"===direction?"alertLeave":"alertEnter";return this._nav&&this._nav.config.get(key)},Alert.prototype.setTitle=function(title){this.data.title=title},Alert.prototype.setSubTitle=function(subTitle){this.data.subTitle=subTitle},Alert.prototype.setBody=function(message){this.setMessage(message)},Alert.prototype.setMessage=function(message){this.data.message=message},Alert.prototype.addInput=function(input){this.data.inputs.push(input)},Alert.prototype.addButton=function(button){this.data.buttons.push(button)},Alert.prototype.setCssClass=function(cssClass){this.data.cssClass=cssClass},Alert.create=function(opts){return void 0===opts&&(opts={}),new Alert(opts)},Alert}(view_controller_1.ViewController);exports.Alert=Alert;var AlertCmp=function(){function AlertCmp(_viewCtrl,_elementRef,_config,params,renderer){this._viewCtrl=_viewCtrl,this._elementRef=_elementRef,this._config=_config,this.d=params.data,this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(cssClass){renderer.setElementClass(_elementRef.nativeElement,cssClass,!0)}),this.id=++alertIds,this.descId="",this.hdrId="alert-hdr-"+this.id,this.subHdrId="alert-subhdr-"+this.id,this.msgId="alert-msg-"+this.id,this.activeId="",this.created=Date.now(),this.lastClick=0,this.d.message?this.descId=this.msgId:this.d.subTitle&&(this.descId=this.subHdrId),this.d.message||(this.d.message="")}return AlertCmp.prototype.onPageLoaded=function(){var _this=this,data=this.d;data.body&&(data.message=data.body),data.buttons=data.buttons.map(function(button){return"string"==typeof button?{text:button}:button}),data.inputs=data.inputs.map(function(input,index){return{type:input.type||"text",name:util_1.isPresent(input.name)?input.name:index,placeholder:util_1.isPresent(input.placeholder)?input.placeholder:"",value:util_1.isPresent(input.value)?input.value:"",label:input.label,checked:!!input.checked,id:"alert-input-"+_this.id+"-"+index}});var inputTypes=[];data.inputs.forEach(function(input){inputTypes.indexOf(input.type)<0&&inputTypes.push(input.type)}),inputTypes.length>1&&(inputTypes.indexOf("checkbox")>-1||inputTypes.indexOf("radio")>-1),this.inputType=inputTypes.length?inputTypes[0]:null;var checkedInput=this.d.inputs.find(function(input){return input.checked});checkedInput&&(this.activeId=checkedInput.id)},AlertCmp.prototype._keyUp=function(ev){if(this.isEnabled()&&this._viewCtrl.isLast())if(13===ev.keyCode){if(this.lastClick+1e3<Date.now()){var button=this.d.buttons[this.d.buttons.length-1];this.btnClick(button)}}else 27===ev.keyCode&&this.bdClick()},AlertCmp.prototype.onPageDidEnter=function(){var activeElement=document.activeElement;document.activeElement&&activeElement.blur();var focusableEle=this._elementRef.nativeElement.querySelector("input,button");focusableEle&&focusableEle.focus()},AlertCmp.prototype.btnClick=function(button,dismissDelay){var _this=this;if(this.isEnabled()){this.lastClick=Date.now();var shouldDismiss=!0;button.handler&&button.handler(this.getValues())===!1&&(shouldDismiss=!1),shouldDismiss&&setTimeout(function(){_this.dismiss(button.role)},dismissDelay||this._config.get("pageTransitionDelay"))}},AlertCmp.prototype.rbClick=function(checkedInput){this.isEnabled()&&(this.d.inputs.forEach(function(input){input.checked=checkedInput===input}),this.activeId=checkedInput.id)},AlertCmp.prototype.cbClick=function(checkedInput){this.isEnabled()&&(checkedInput.checked=!checkedInput.checked)},AlertCmp.prototype.bdClick=function(){if(this.isEnabled()&&this.d.enableBackdropDismiss){var cancelBtn=this.d.buttons.find(function(b){return"cancel"===b.role});cancelBtn?this.btnClick(cancelBtn,1):this.dismiss("backdrop")}},
AlertCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(this.getValues(),role)},AlertCmp.prototype.getValues=function(){if("radio"===this.inputType){var checkedInput=this.d.inputs.find(function(i){return i.checked});return checkedInput?checkedInput.value:void 0}if("checkbox"===this.inputType)return this.d.inputs.filter(function(i){return i.checked}).map(function(i){return i.value});var values={};return this.d.inputs.forEach(function(i){values[i.name]=i.value}),values},AlertCmp.prototype.isEnabled=function(){var tm=this._config.getNumber("overlayCreatedDiff",750);return this.created+tm<Date.now()},__decorate([core_1.HostListener("body:keyup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[KeyboardEvent]),__metadata("design:returntype",void 0)],AlertCmp.prototype,"_keyUp",null),AlertCmp=__decorate([core_1.Component({selector:"ion-alert",template:'<div (click)="bdClick()" tappable disable-activated class="backdrop" role="presentation"></div><div class="alert-wrapper"><div class="alert-head"><h2 id="{{hdrId}}" class="alert-title" *ngIf="d.title" [innerHTML]="d.title"></h2><h3 id="{{subHdrId}}" class="alert-sub-title" *ngIf="d.subTitle" [innerHTML]="d.subTitle"></h3></div><div id="{{msgId}}" class="alert-message" [innerHTML]="d.message"></div><div *ngIf="d.inputs.length" [ngSwitch]="inputType"><template ngSwitchWhen="radio"><div class="alert-radio-group" role="radiogroup" [attr.aria-labelledby]="hdrId" [attr.aria-activedescendant]="activeId"><button category="alert-radio-button" *ngFor="#i of d.inputs" (click)="rbClick(i)" [attr.aria-checked]="i.checked" [attr.id]="i.id" class="alert-tappable alert-radio" role="radio"><div class="alert-radio-icon"><div class="alert-radio-inner"></div></div><div class="alert-radio-label">{{i.label}}</div></button></div></template><template ngSwitchWhen="checkbox"><div class="alert-checkbox-group"><button category="alert-checkbox-button" *ngFor="#i of d.inputs" (click)="cbClick(i)" [attr.aria-checked]="i.checked" class="alert-tappable alert-checkbox" role="checkbox"><div class="alert-checkbox-icon"><div class="alert-checkbox-inner"></div></div><div class="alert-checkbox-label">{{i.label}}</div></button></div></template><template ngSwitchDefault><div class="alert-input-group"><div *ngFor="#i of d.inputs" class="alert-input-wrapper"><input [placeholder]="i.placeholder" [(ngModel)]="i.value" [type]="i.type" class="alert-input"></div></div></template></div><div class="alert-button-group" [ngClass]="{vertical: d.buttons.length>2}"><button category="alert-button" *ngFor="#b of d.buttons" (click)="btnClick(b)" [ngClass]="b.cssClass">{{b.text}}<ion-button-effect></ion-button-effect></button></div></div>',host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},directives:[common_1.NgClass,common_1.NgSwitch,common_1.NgIf,common_1.NgFor],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,core_1.ElementRef,config_1.Config,nav_params_1.NavParams,core_1.Renderer])],AlertCmp)}(),AlertPopIn=function(_super){function AlertPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.1","1"),backdrop.fromTo("opacity","0.01","0.3"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertPopIn,_super),AlertPopIn}(transition_1.Transition);transition_1.Transition.register("alert-pop-in",AlertPopIn);var AlertPopOut=function(_super){function AlertPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","0.9"),backdrop.fromTo("opacity","0.3","0"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertPopOut,_super),AlertPopOut}(transition_1.Transition);transition_1.Transition.register("alert-pop-out",AlertPopOut);var AlertMdPopIn=function(_super){function AlertMdPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.1","1"),backdrop.fromTo("opacity","0.01","0.5"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertMdPopIn,_super),AlertMdPopIn}(transition_1.Transition);transition_1.Transition.register("alert-md-pop-in",AlertMdPopIn);var AlertMdPopOut=function(_super){function AlertMdPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","0.9"),backdrop.fromTo("opacity","0.5","0"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(AlertMdPopOut,_super),AlertMdPopOut}(transition_1.Transition);transition_1.Transition.register("alert-md-pop-out",AlertMdPopOut);var AlertWpPopIn=function(_super){function AlertWpPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.3","1"),backdrop.fromTo("opacity","0.01","0.5"),this.easing("cubic-bezier(0,0 0.05,1)").duration(200).add(backdrop).add(wrapper)}return __extends(AlertWpPopIn,_super),AlertWpPopIn}(transition_1.Transition);transition_1.Transition.register("alert-wp-pop-in",AlertWpPopIn);var AlertWpPopOut=function(_super){function AlertWpPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".alert-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","1.3"),backdrop.fromTo("opacity","0.5","0"),this.easing("ease-out").duration(150).add(backdrop).add(wrapper)}return __extends(AlertWpPopOut,_super),AlertWpPopOut}(transition_1.Transition);transition_1.Transition.register("alert-wp-pop-out",AlertWpPopOut);var alertIds=-1},{"../../animations/animation":262,"../../config/config":332,"../../transitions/transition":352,"../../util/util":363,"../nav/nav-params":296,"../nav/view-controller":303,"angular2/common":9,"angular2/core":11}],267:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),browser_1=require("angular2/platform/browser"),config_1=require("../../config/config"),click_block_1=require("../../util/click-block"),platform_1=require("../../platform/platform"),IonicApp=function(){function IonicApp(_config,_clickBlock,platform){var _this=this;this._config=_config,this._clickBlock=_clickBlock,this._cmps={},this._disTime=0,this._scrollTime=0,this._title="",this._titleSrv=new browser_1.Title,this._isProd=!1,this._rootNav=null,platform.backButton.subscribe(function(){var activeNav=_this.getActiveNav();activeNav&&(1===activeNav.length()?platform.exitApp():activeNav.pop())})}return IonicApp.prototype.setTitle=function(val){val!==this._title&&(this._title=val,this._titleSrv.setTitle(val))},IonicApp.prototype.isProd=function(){return this._isProd},IonicApp.prototype.setProd=function(val){this._isProd=!!val},IonicApp.prototype.setEnabled=function(isEnabled,duration){void 0===duration&&(duration=700),this._disTime=isEnabled?0:Date.now()+duration,(duration>32||isEnabled)&&this._clickBlock.show(!isEnabled,duration+64)},IonicApp.prototype.isEnabled=function(){return this._disTime<Date.now()},IonicApp.prototype.setScrolling=function(){this._scrollTime=Date.now()},IonicApp.prototype.isScrolling=function(){return this._scrollTime+64>Date.now()},IonicApp.prototype.getActiveNav=function(){for(var activeChildNav,nav=this._rootNav||null;nav&&(activeChildNav=nav.getActiveChildNav());)nav=activeChildNav;return nav},IonicApp.prototype.getRootNav=function(){return this._rootNav},IonicApp.prototype.setRootNav=function(nav){this._rootNav=nav},IonicApp.prototype.register=function(id,component){this._cmps[id]=component},IonicApp.prototype.unregister=function(id){delete this._cmps[id]},IonicApp.prototype.getRegisteredComponent=function(cls){for(var key in this._cmps){var component=this._cmps[key];if(component instanceof cls)return component}},IonicApp.prototype.getComponent=function(id){return/menu/i.test(id),this._cmps[id]},IonicApp.prototype.setAppInjector=function(injector){this._appInjector=injector},IonicApp.prototype.getAppInjector=function(){return this._appInjector},IonicApp=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[config_1.Config,click_block_1.ClickBlock,platform_1.Platform])],IonicApp)}();exports.IonicApp=IonicApp},{"../../config/config":332,"../../platform/platform":343,"../../util/click-block":356,"angular2/core":11,"angular2/platform/browser":14}],268:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),app_1=require("./app"),IdRef=function(){function IdRef(_app,elementRef,appViewManager){this._app=_app,this._component=appViewManager.getComponent(elementRef)}return IdRef.prototype.ngOnInit=function(){this._app.register(this.id,this._component)},IdRef.prototype.ngOnDestroy=function(){this._app.unregister(this.id)},__decorate([core_1.Input(),__metadata("design:type",String)],IdRef.prototype,"id",void 0),IdRef=__decorate([core_1.Directive({selector:"[id]"}),__metadata("design:paramtypes",[app_1.IonicApp,core_1.ElementRef,core_1.AppViewManager])],IdRef)}();exports.IdRef=IdRef;var Attr=function(){function Attr(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef}return Attr.prototype.ngOnInit=function(){this._renderer.setElementAttribute(this._elementRef.nativeElement,this.attr,"")},__decorate([core_1.Input(),__metadata("design:type",String)],Attr.prototype,"attr",void 0),Attr=__decorate([core_1.Directive({selector:"[attr]"}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],Attr)}();exports.Attr=Attr},{"./app":267,"angular2/core":11}],269:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),config_1=require("../../config/config"),Badge=function(){function Badge(config,_elementRef,_renderer){this._elementRef=_elementRef,this._renderer=_renderer;var element=_elementRef.nativeElement;this._readAttrs(element)}return Badge.prototype._readAttrs=function(element){for(var attrName,elementAttrs=element.attributes,i=0,l=elementAttrs.length;l>i;i++)""===elementAttrs[i].value&&(attrName=elementAttrs[i].name,-1===attrName.indexOf("item")&&this._setClass(attrName))},Badge.prototype._setClass=function(color){this._renderer.setElementClass(this._elementRef.nativeElement,"badge-"+color,!0)},Badge=__decorate([core_1.Directive({selector:"ion-badge"}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,core_1.Renderer])],Badge)}();exports.Badge=Badge},{"../../config/config":332,"angular2/core":11}],270:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),Blur=function(){function Blur(_elementRef,_renderer){this._elementRef=_elementRef,this._renderer=_renderer,_renderer.setElementStyle(_elementRef.nativeElement,"-webkit-backdrop-filter","blur(10px)")}return Blur=__decorate([core_1.Directive({selector:"[blur]"}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer])],Blur)}();exports.Blur=Blur},{"angular2/core":11}],271:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),config_1=require("../../config/config"),util_1=require("../../util/util"),Button=function(){function Button(config,_elementRef,_renderer,ionItem){this._elementRef=_elementRef,this._renderer=_renderer,this._role="button",this._size=null,this._style="default",this._shape=null,this._display=null,this._colors=[],this._icon=null,this._disabled=!1,this.isItem=""===ionItem;var element=_elementRef.nativeElement;return config.get("hoverCSS")===!1&&_renderer.setElementClass(_elementRef.nativeElement,"disable-hover",!0),element.hasAttribute("ion-item")?void(this._role=null):(element.hasAttribute("disabled")&&(this._disabled=!0),void this._readAttrs(element))}return Object.defineProperty(Button.prototype,"large",{set:function(val){this._attr("_size","large",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"small",{set:function(val){this._attr("_size","small",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"default",{set:function(val){this._attr("_size","default",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"outline",{set:function(val){this._attr("_style","outline",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"clear",{set:function(val){this._attr("_style","clear",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"solid",{set:function(val){this._attr("_style","solid",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"round",{set:function(val){this._attr("_shape","round",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"block",{set:function(val){this._attr("_display","block",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Button.prototype,"full",{set:function(val){this._attr("_display","full",val)},enumerable:!0,configurable:!0}),Button.prototype._attr=function(type,attrName,attrValue){this._setClass(this[type],!1),util_1.isTrueProperty(attrValue)?(this[type]=attrName,this._setClass(attrName,!0)):this[type]=null},Object.defineProperty(Button.prototype,"color",{set:function(val){this._assignCss(!1),this._colors=[val],this._assignCss(!0)},enumerable:!0,configurable:!0}),Button.prototype.ngOnInit=function(){this.category&&this.setRole(this.category)},Button.prototype.ngAfterContentInit=function(){this._init=!0,this._readIcon(this._elementRef.nativeElement),this._assignCss(!0)},Button.prototype.addClass=function(className){this._renderer.setElementClass(this._elementRef.nativeElement,className,!0)},Button.prototype.setRole=function(val){this._role=val},Button.prototype._readIcon=function(element){var childNodes=element.childNodes;childNodes.length>0&&(childNodes=childNodes[0].childNodes);for(var childNode,nodes=[],i=0,l=childNodes.length;l>i;i++)childNode=childNodes[i],3===childNode.nodeType?""!==childNode.textContent.trim()&&nodes.push(TEXT):1===childNode.nodeType&&("ION-ICON"===childNode.nodeName?nodes.push(ICON):nodes.push(TEXT));nodes.length>1?nodes[0]===ICON&&nodes[1]===TEXT?this._icon="icon-left":nodes[0]===TEXT&&nodes[1]===ICON&&(this._icon="icon-right"):1===nodes.length&&nodes[0]===ICON&&(this._icon="icon-only")},Button.prototype._readAttrs=function(element){for(var attrName,elementAttrs=element.attributes,i=0,l=elementAttrs.length;l>i;i++)""===elementAttrs[i].value&&(attrName=elementAttrs[i].name,BUTTON_STYLE_ATTRS.indexOf(attrName)>-1?this._style=attrName:BUTTON_DISPLAY_ATTRS.indexOf(attrName)>-1?this._display=attrName:BUTTON_SHAPE_ATTRS.indexOf(attrName)>-1?this._shape=attrName:BUTTON_SIZE_ATTRS.indexOf(attrName)>-1?this._size=attrName:IGNORE_ATTRS.test(attrName)||this._colors.push(attrName))},Button.prototype._assignCss=function(assignCssClass){var _this=this,role=this._role;if(role){this._renderer.setElementClass(this._elementRef.nativeElement,role,assignCssClass),this._setClass(this._style,assignCssClass),this._setClass(this._shape,assignCssClass),this._setClass(this._display,assignCssClass),this._setClass(this._size,assignCssClass),this._setClass(this._icon,assignCssClass);var colorStyle_1="default"!==this._style?this._style+"-":"";this._colors.forEach(function(colorName){_this._setClass(colorStyle_1+colorName,assignCssClass)})}},Button.prototype._setClass=function(type,assignCssClass){type&&this._init&&this._renderer.setElementClass(this._elementRef.nativeElement,this._role+"-"+type.toLowerCase(),assignCssClass)},Button.setRoles=function(contentButtonChildren,role){var buttons=contentButtonChildren.toArray();buttons.forEach(function(button){button.setRole(role)})},__decorate([core_1.Input(),__metadata("design:type",String)],Button.prototype,"category",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"large",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"small",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"default",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"outline",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"clear",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"solid",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"round",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"block",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],Button.prototype,"full",null),__decorate([core_1.Input(),__metadata("design:type",String),__metadata("design:paramtypes",[String])],Button.prototype,"color",null),Button=__decorate([core_1.Component({selector:"button:not([ion-item]),[button]",template:'<span class="button-inner"><ng-content></ng-content></span><ion-button-effect></ion-button-effect>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(3,core_1.Attribute("ion-item")),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,core_1.Renderer,String])],Button)}();exports.Button=Button;var BUTTON_SIZE_ATTRS=["large","small","default"],BUTTON_STYLE_ATTRS=["clear","outline","solid"],BUTTON_SHAPE_ATTRS=["round","fab"],BUTTON_DISPLAY_ATTRS=["block","full"],IGNORE_ATTRS=/_ng|button|left|right/,TEXT=1,ICON=2},{"../../config/config":332,"../../util/util":363,"angular2/core":11}],272:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),form_1=require("../../util/form"),item_1=require("../item/item"),util_1=require("../../util/util"),CHECKBOX_VALUE_ACCESSOR=new core_1.Provider(common_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Checkbox}),multi:!0}),Checkbox=function(){function Checkbox(_form,_item){this._form=_form,this._item=_item,this._checked=!1,this._disabled=!1,this.change=new core_1.EventEmitter,_form.register(this),_item&&(this.id="chk-"+_item.registerInput("checkbox"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-checkbox",!0))}return Checkbox.prototype._click=function(ev){ev.preventDefault(),ev.stopPropagation(),this.onChange(!this._checked)},Object.defineProperty(Checkbox.prototype,"checked",{get:function(){return this._checked},set:function(val){this._setChecked(util_1.isTrueProperty(val)),this.onChange(this._checked)},enumerable:!0,configurable:!0}),Checkbox.prototype._setChecked=function(isChecked){isChecked!==this._checked&&(this._checked=isChecked,this.change.emit(this),this._item&&this._item.setCssClass("item-checkbox-checked",isChecked))},Checkbox.prototype.writeValue=function(val){this._setChecked(util_1.isTrueProperty(val))},Checkbox.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(isChecked){fn(isChecked),_this._setChecked(isChecked),_this.onTouched()}},Checkbox.prototype.registerOnTouched=function(fn){this.onTouched=fn},Object.defineProperty(Checkbox.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-checkbox-disabled",this._disabled)},enumerable:!0,configurable:!0}),Checkbox.prototype.onChange=function(isChecked){this._setChecked(isChecked),this.onTouched()},Checkbox.prototype.onTouched=function(){},Checkbox.prototype.ngOnDestroy=function(){this._form.deregister(this)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Checkbox.prototype,"change",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],Checkbox.prototype,"_click",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Checkbox.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Checkbox.prototype,"disabled",null),Checkbox=__decorate([core_1.Component({selector:"ion-checkbox",template:'<div class="checkbox-icon" [class.checkbox-checked]="_checked"><div class="checkbox-inner"></div></div><button role="checkbox" type="button" category="item-cover" [id]="id" [attr.aria-checked]="_checked" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"></button>',host:{"[class.checkbox-disabled]":"_disabled"},providers:[CHECKBOX_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,item_1.Item])],Checkbox)}();exports.Checkbox=Checkbox},{"../../util/form":360,"../../util/util":363,"../item/item":284,"angular2/common":9,"angular2/core":11}],273:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),ion_1=require("../ion"),app_1=require("../app/app"),config_1=require("../../config/config"),keyboard_1=require("../../util/keyboard"),dom_1=require("../../util/dom"),view_controller_1=require("../nav/view-controller"),scroll_view_1=require("../../util/scroll-view"),Content=function(_super){function Content(_elementRef,_config,_app,_keyboard,_zone,viewCtrl){_super.call(this,_elementRef),this._elementRef=_elementRef,this._config=_config,this._app=_app,this._keyboard=_keyboard,this._zone=_zone,this._padding=0,this._inputPolling=!1,this._sbPadding=_config.getBoolean("statusbarPadding",!1),viewCtrl&&(viewCtrl.setContent(this),viewCtrl.setContentRef(_elementRef))}return __extends(Content,_super),Content.prototype.ngOnInit=function(){var self=this;self._scrollEle=self._elementRef.nativeElement.children[0],self._zone.runOutsideAngular(function(){self._scroll=new scroll_view_1.ScrollView(self._scrollEle),self._config.getBoolean("tapPolyfill")&&(self._scLsn=self.addScrollListener(function(){self._app.setScrolling()}))})},Content.prototype.ngOnDestroy=function(){this._scLsn&&this._scLsn(),this._scroll&&this._scroll.destroy(),this._scrollEle=this._scLsn=null},Content.prototype.addScrollListener=function(handler){return this._addListener("scroll",handler)},Content.prototype.addTouchStartListener=function(handler){return this._addListener("touchstart",handler)},Content.prototype.addTouchMoveListener=function(handler){return this._addListener("touchmove",handler)},Content.prototype.addTouchEndListener=function(handler){return this._addListener("touchend",handler)},Content.prototype.addMouseDownListener=function(handler){return this._addListener("mousedown",handler)},Content.prototype.addMouseUpListener=function(handler){return this._addListener("mouseup",handler)},Content.prototype.addMouseMoveListener=function(handler){return this._addListener("mousemove",handler)},Content.prototype._addListener=function(type,handler){var _this=this;if(this._scrollEle)return this._scrollEle.removeEventListener(type,handler),this._scrollEle.addEventListener(type,handler),function(){_this._scrollEle&&_this._scrollEle.removeEventListener(type,handler)}},Content.prototype.onScrollEnd=function(callback){function next(){var currentScrollTop=_scrollEle.scrollTop;return null!==lastScrollTop&&(Math.round(lastScrollTop)===Math.round(currentScrollTop)?framesUnchanged++:framesUnchanged=0,framesUnchanged>9)?callback():(lastScrollTop=currentScrollTop,void dom_1.raf(function(){dom_1.raf(next)}))}var lastScrollTop=null,framesUnchanged=0,_scrollEle=this._scrollEle;dom_1.nativeTimeout(next,100)},Content.prototype.onScrollElementTransitionEnd=function(callback){dom_1.transitionEnd(this._scrollEle,callback)},Content.prototype.scrollTo=function(x,y,duration){return void 0===duration&&(duration=300),this._scroll.scrollTo(x,y,duration)},Content.prototype.scrollToTop=function(duration){return void 0===duration&&(duration=300),this._scroll.scrollToTop(duration)},Content.prototype.getScrollTop=function(){return this._scroll.getTop()},Content.prototype.setScrollTop=function(top){this._scroll.setTop(top)},Content.prototype.scrollToBottom=function(duration){return void 0===duration&&(duration=300),this._scroll.scrollToBottom(duration)},Content.prototype.jsScroll=function(onScrollCallback){return this._scroll.jsScroll(onScrollCallback)},Content.prototype.addCssClass=function(className){this.getNativeElement().classList.add(className)},Content.prototype.removeCssClass=function(className){this.getNativeElement().classList.remove(className)},Content.prototype.setScrollElementStyle=function(prop,val){this._scrollEle.style[prop]=val},Content.prototype.getContentDimensions=function(){var _scrollEle=this._scrollEle,parentElement=_scrollEle.parentElement;return{contentHeight:parentElement.offsetHeight,contentTop:parentElement.offsetTop,contentBottom:parentElement.offsetTop+parentElement.offsetHeight,contentWidth:parentElement.offsetWidth,contentLeft:parentElement.offsetLeft,contentRight:parentElement.offsetLeft+parentElement.offsetWidth,scrollHeight:_scrollEle.scrollHeight,scrollTop:_scrollEle.scrollTop,scrollBottom:_scrollEle.scrollTop+_scrollEle.scrollHeight,scrollWidth:_scrollEle.scrollWidth,scrollLeft:_scrollEle.scrollLeft,scrollRight:_scrollEle.scrollLeft+_scrollEle.scrollWidth}},Content.prototype.addScrollPadding=function(newPadding){newPadding>this._padding&&(this._padding=newPadding,this._scrollEle.style.paddingBottom=newPadding+"px")},Content.prototype.clearScrollPaddingFocusOut=function(){var _this=this;this._inputPolling||(this._inputPolling=!0,this._keyboard.onClose(function(){_this._padding=0,_this._scrollEle.style.paddingBottom="",_this._inputPolling=!1,_this.addScrollPadding(0)},200,1/0))},Content=__decorate([core_1.Component({selector:"ion-content",template:'<scroll-content><ng-content></ng-content></scroll-content><ng-content select="ion-fixed"></ng-content><ng-content select="ion-refresher"></ng-content>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None,
host:{"[class.statusbar-padding]":"_sbPadding"}}),__param(5,core_1.Optional()),__metadata("design:paramtypes",[core_1.ElementRef,config_1.Config,app_1.IonicApp,keyboard_1.Keyboard,core_1.NgZone,view_controller_1.ViewController])],Content)}(ion_1.Ion);exports.Content=Content},{"../../config/config":332,"../../util/dom":357,"../../util/keyboard":361,"../../util/scroll-view":362,"../app/app":267,"../ion":281,"../nav/view-controller":303,"angular2/core":11}],274:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),config_1=require("../../config/config"),Icon=function(){function Icon(config,_elementRef,_renderer){this._elementRef=_elementRef,this._renderer=_renderer,this._name="",this._ios="",this._md="",this._css="",this.mode=config.get("iconMode")}return Icon.prototype.ngOnDestroy=function(){this._css&&this._renderer.setElementClass(this._elementRef.nativeElement,this._css,!1)},Object.defineProperty(Icon.prototype,"name",{get:function(){return this._name},set:function(val){/^md-|^ios-|^logo-/.test(val)||(val=this.mode+"-"+val),this._name=val,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(Icon.prototype,"ios",{get:function(){return this._ios},set:function(val){this._ios=val,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(Icon.prototype,"md",{get:function(){return this._md},set:function(val){this._md=val,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(Icon.prototype,"isActive",{get:function(){return void 0===this._isActive||this._isActive===!0||"true"===this._isActive},set:function(val){this._isActive=val,this.update()},enumerable:!0,configurable:!0}),Icon.prototype.update=function(){var css="ion-";css+=this._ios&&"ios"===this.mode?this._ios:this._md&&"md"===this.mode?this._md:this._name,"ios"!==this.mode||this.isActive||(css+="-outline"),this._css!==css&&(this._css&&this._renderer.setElementClass(this._elementRef.nativeElement,this._css,!1),this._css=css,this._renderer.setElementClass(this._elementRef.nativeElement,css,!0),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-label",css.replace("ion-","").replace("ios-","").replace("md-","").replace("-"," ")))},Icon.prototype.addClass=function(className){this._renderer.setElementClass(this._elementRef.nativeElement,className,!0)},__decorate([core_1.Input(),__metadata("design:type",String)],Icon.prototype,"name",null),__decorate([core_1.Input(),__metadata("design:type",String)],Icon.prototype,"ios",null),__decorate([core_1.Input(),__metadata("design:type",String)],Icon.prototype,"md",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Icon.prototype,"isActive",null),Icon=__decorate([core_1.Directive({selector:"ion-icon",host:{role:"img"}}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef,core_1.Renderer])],Icon)}();exports.Icon=Icon},{"../../config/config":332,"angular2/core":11}],275:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),dom_1=require("../../util/dom"),util_1=require("../../util/util"),platform_1=require("../../platform/platform"),Img=function(){function Img(_elementRef,_platform,_zone){this._elementRef=_elementRef,this._platform=_platform,this._zone=_zone,this._src="",this._normalizeSrc="",this._imgs=[],this._enabled=!0}return Object.defineProperty(Img.prototype,"src",{set:function(val){var tmpImg=new Image;tmpImg.src=util_1.isPresent(val)?val:"",this._src=util_1.isPresent(val)?val:"",this._normalizeSrc=tmpImg.src,this._update()},enumerable:!0,configurable:!0}),Img.prototype._update=function(){var _this=this;if(this._enabled&&""!==this._src&&this.isVisible()){for(var i=this._imgs.length-1;i>=0;i--)this._imgs[i].src===this._normalizeSrc?this._imgs[i].complete&&this._loaded(!0):(this._imgs[i].parentElement&&this._imgs[i].parentElement.removeChild(this._imgs[i]),this._imgs.splice(i,1));this._imgs.length||this._zone.runOutsideAngular(function(){var img=new Image;img.style.width=_this._w,img.style.height=_this._h,img.addEventListener("load",function(){img.src===_this._normalizeSrc&&(_this._elementRef.nativeElement.appendChild(img),dom_1.raf(function(){_this._update()}))}),img.src=_this._src,_this._imgs.push(img),_this._loaded(!1)})}else this._imgs.some(function(img){return img.src===_this._normalizeSrc})||this._loaded(!1)},Img.prototype._loaded=function(isLoaded){this._elementRef.nativeElement.classList[isLoaded?"add":"remove"]("img-loaded")},Img.prototype.enable=function(shouldEnable){this._enabled=shouldEnable,this._update()},Img.prototype.isVisible=function(){var bounds=this._elementRef.nativeElement.getBoundingClientRect();return bounds.bottom>0&&bounds.top<this._platform.height()},Object.defineProperty(Img.prototype,"width",{set:function(val){this._w="number"==typeof val?val+"px":val},enumerable:!0,configurable:!0}),Object.defineProperty(Img.prototype,"height",{set:function(val){this._h="number"==typeof val?val+"px":val},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String),__metadata("design:paramtypes",[String])],Img.prototype,"src",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Img.prototype,"width",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Img.prototype,"height",null),Img=__decorate([core_1.Component({selector:"ion-img",template:'<div class="img-placeholder" [style.height]="_h" [style.width]="_w"></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.ElementRef,platform_1.Platform,core_1.NgZone])],Img)}();exports.Img=Img},{"../../platform/platform":343,"../../util/dom":357,"../../util/util":363,"angular2/core":11}],276:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),config_1=require("../../config/config"),infinite_scroll_1=require("./infinite-scroll"),spinner_1=require("../spinner/spinner"),InfiniteScrollContent=function(){function InfiniteScrollContent(inf,_config){this.inf=inf,this._config=_config}return InfiniteScrollContent.prototype.ngOnInit=function(){this.loadingSpinner||(this.loadingSpinner=this._config.get("infiniteLoadingSpinner",this._config.get("spinner","ios")))},__decorate([core_1.Input(),__metadata("design:type",String)],InfiniteScrollContent.prototype,"loadingSpinner",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],InfiniteScrollContent.prototype,"loadingText",void 0),InfiniteScrollContent=__decorate([core_1.Component({selector:"ion-infinite-scroll-content",template:'<div class="infinite-loading"><div class="infinite-loading-spinner" *ngIf="loadingSpinner"><ion-spinner [name]="loadingSpinner"></ion-spinner></div><div class="infinite-loading-text" [innerHTML]="loadingText" *ngIf="loadingText"></div></div>',directives:[common_1.NgIf,spinner_1.Spinner],host:{"[attr.state]":"inf.state"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[infinite_scroll_1.InfiniteScroll,config_1.Config])],InfiniteScrollContent)}();exports.InfiniteScrollContent=InfiniteScrollContent},{"../../config/config":332,"../spinner/spinner":317,"./infinite-scroll":277,"angular2/common":9,"angular2/core":11}],277:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),content_1=require("../content/content"),InfiniteScroll=function(){function InfiniteScroll(_content,_zone,_elementRef){this._content=_content,this._zone=_zone,this._elementRef=_elementRef,this._lastCheck=0,this._highestY=0,this._thr="15%",this._thrPx=0,this._thrPc=.15,this._init=!1,this.state=STATE_ENABLED,this.infinite=new core_1.EventEmitter,_content.addCssClass("has-infinite-scroll")}return Object.defineProperty(InfiniteScroll.prototype,"threshold",{get:function(){return this._thr},set:function(val){this._thr=val,val.indexOf("%")>-1?(this._thrPx=0,this._thrPc=parseFloat(val)/100):(this._thrPx=parseFloat(val),this._thrPc=0)},enumerable:!0,configurable:!0}),InfiniteScroll.prototype._onScroll=function(ev){var _this=this;if(this.state===STATE_LOADING||this.state===STATE_DISABLED)return 1;var now=Date.now();if(this._lastCheck+32>now)return 2;this._lastCheck=now;var infiniteHeight=this._elementRef.nativeElement.scrollHeight;if(!infiniteHeight)return 3;var d=this._content.getContentDimensions(),reloadY=d.contentHeight;reloadY+=this._thrPc?reloadY*this._thrPc:this._thrPx;var distanceFromInfinite=d.scrollHeight-infiniteHeight-d.scrollTop-reloadY;return 0>distanceFromInfinite?(this._zone.run(function(){_this.state=STATE_LOADING,_this.infinite.emit(_this)}),5):6},InfiniteScroll.prototype.complete=function(){this.state=STATE_ENABLED},InfiniteScroll.prototype.enable=function(shouldEnable){this.state=shouldEnable?STATE_ENABLED:STATE_DISABLED,this._setListeners(shouldEnable)},InfiniteScroll.prototype._setListeners=function(shouldListen){var _this=this;this._init&&(shouldListen?this._scLsn||this._zone.runOutsideAngular(function(){_this._scLsn=_this._content.addScrollListener(_this._onScroll.bind(_this))}):(this._scLsn&&this._scLsn(),this._scLsn=null))},InfiniteScroll.prototype.ngAfterContentInit=function(){this._init=!0,this._setListeners(this.state!==STATE_DISABLED)},InfiniteScroll.prototype.ngOnDestroy=function(){this._setListeners(!1)},__decorate([core_1.Input(),__metadata("design:type",String)],InfiniteScroll.prototype,"threshold",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],InfiniteScroll.prototype,"infinite",void 0),InfiniteScroll=__decorate([core_1.Directive({selector:"ion-infinite-scroll"}),__param(0,core_1.Host()),__metadata("design:paramtypes",[content_1.Content,core_1.NgZone,core_1.ElementRef])],InfiniteScroll)}();exports.InfiniteScroll=InfiniteScroll;var STATE_ENABLED="enabled",STATE_DISABLED="disabled",STATE_LOADING="loading"},{"../content/content":273,"angular2/core":11}],278:[function(require,module,exports){"use strict";function getScrollAssistDuration(distanceToScroll){distanceToScroll=Math.abs(distanceToScroll);var duration=distanceToScroll/SCROLL_ASSIST_SPEED;return Math.min(400,Math.max(150,duration))}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),util_1=require("../../util/util"),dom_1=require("../../util/dom"),native_input_1=require("./native-input"),InputBase=function(){function InputBase(config,_form,_item,_app,_platform,_elementRef,_scrollView,_nav,ngControl){this._form=_form,this._item=_item,this._app=_app,this._platform=_platform,this._elementRef=_elementRef,this._scrollView=_scrollView,this._nav=_nav,this._disabled=!1,this._type="text",this._value="",this.placeholder="",this.blur=new core_1.EventEmitter,this.focus=new core_1.EventEmitter,this._useAssist=config.getBoolean("scrollAssist",!1),this._usePadding=config.getBoolean("scrollPadding",this._useAssist),this._keyboardHeight=config.getNumber("keyboardHeight"),this._autoFocusAssist=config.get("autoFocusAssist","delay"),this._autoComplete=config.get("autocomplete","off"),this._autoCorrect=config.get("autocorrect","off"),ngControl&&(ngControl.valueAccessor=this),_form.register(this)}return InputBase.prototype.ngOnInit=function(){this._item&&(this._item.setCssClass("item-input",!0),this._item.registerInput(this._type));var clearInput=this.clearInput;"string"==typeof clearInput&&(this.clearInput=""===clearInput||"true"===clearInput)},InputBase.prototype.ngAfterContentInit=function(){var self=this;self._scrollMove=function(ev){self._nav&&self._nav.isTransitioning()||(self.deregScrollMove(),self.hasFocus()&&(self._native.hideFocus(!0),self._scrollView.onScrollEnd(function(){self._native.hideFocus(!1),self.hasFocus()&&self.regScrollMove()})))},this.setItemControlCss()},InputBase.prototype.ngAfterContentChecked=function(){this.setItemControlCss()},InputBase.prototype.setItemControlCss=function(){var item=this._item,nativeControl=this._native&&this._native.ngControl;item&&nativeControl&&(item.setCssClass("ng-untouched",nativeControl.untouched),item.setCssClass("ng-touched",nativeControl.touched),item.setCssClass("ng-pristine",nativeControl.pristine),item.setCssClass("ng-dirty",nativeControl.dirty),item.setCssClass("ng-valid",nativeControl.valid),item.setCssClass("ng-invalid",!nativeControl.valid))},InputBase.prototype.ngOnDestroy=function(){this._form.deregister(this)},Object.defineProperty(InputBase.prototype,"value",{get:function(){return this._value},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"type",{get:function(){return this._type},set:function(val){this._type="text",val&&(val=val.toLowerCase(),/password|email|number|search|tel|url|date|month|time|week/.test(val)&&(this._type=val))},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-input-disabled",this._disabled),this._native&&this._native.isDisabled(this._disabled)},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"_nativeInput",{set:function(nativeInput){var _this=this;this._native=nativeInput,this._item&&null!==this._item.labelId&&nativeInput.labelledBy(this._item.labelId),nativeInput.valueChange.subscribe(function(inputValue){_this.onChange(inputValue)}),this.focusChange(this.hasFocus()),nativeInput.focusChange.subscribe(function(textInputHasFocus){_this.focusChange(textInputHasFocus),_this.checkHasValue(nativeInput.getValue()),textInputHasFocus||_this.onTouched(textInputHasFocus)}),this.checkHasValue(nativeInput.getValue()),this.disabled=this._disabled;var ionInputEle=this._elementRef.nativeElement,nativeInputEle=nativeInput.element();dom_1.copyInputAttributes(ionInputEle,nativeInputEle),ionInputEle.hasAttribute("autofocus")&&(ionInputEle.removeAttribute("autofocus"),"immediate"===this._autoFocusAssist?nativeInputEle.focus():"delay"===this._autoFocusAssist&&setTimeout(function(){nativeInputEle.focus()},650)),ionInputEle.hasAttribute("autocomplete")&&(this._autoComplete=ionInputEle.getAttribute("autocomplete")),nativeInputEle.setAttribute("autocomplete",this._autoComplete),ionInputEle.hasAttribute("autocorrect")&&(this._autoCorrect=ionInputEle.getAttribute("autocorrect")),nativeInputEle.setAttribute("autocorrect",this._autoCorrect)},enumerable:!0,configurable:!0}),Object.defineProperty(InputBase.prototype,"_nextInput",{set:function(nextInput){var _this=this;nextInput&&nextInput.focused.subscribe(function(){_this._form.tabFocus(_this)})},enumerable:!0,configurable:!0}),InputBase.prototype.writeValue=function(val){this._value=val,this.checkHasValue(val)},InputBase.prototype.onChange=function(val){this.checkHasValue(val)},InputBase.prototype.onTouched=function(val){},InputBase.prototype.hasFocus=function(){return this._native.hasFocus()},InputBase.prototype.checkHasValue=function(inputValue){this._item&&this._item.setCssClass("input-has-value",!(!inputValue||""===inputValue))},InputBase.prototype.focusChange=function(inputHasFocus){this._item&&this._item.setCssClass("input-has-focus",inputHasFocus),inputHasFocus||this.deregScrollMove()},InputBase.prototype.pointerStart=function(ev){"touchstart"===ev.type&&(this._isTouch=!0),(this._isTouch||!this._isTouch&&"mousedown"===ev.type)&&this._app.isEnabled()&&(this._coord=dom_1.pointerCoord(ev))},InputBase.prototype.pointerEnd=function(ev){if(this._isTouch&&"mouseup"===ev.type||!this._app.isEnabled())ev.preventDefault(),ev.stopPropagation();else if(this._coord){var endCoord=dom_1.pointerCoord(ev);dom_1.hasPointerMoved(8,this._coord,endCoord)||this.hasFocus()||(ev.preventDefault(),ev.stopPropagation(),this.initFocus())}this._coord=null},InputBase.prototype.initFocus=function(){var _this=this,scrollView=this._scrollView;if(scrollView){var ele=this._elementRef.nativeElement;ele=dom_1.closest(ele,"ion-item,[ion-item]")||ele;var scrollData=InputBase.getScrollData(ele.offsetTop,ele.offsetHeight,scrollView.getContentDimensions(),this._keyboardHeight,this._platform.height());if(scrollData.scrollAmount>-3&&scrollData.scrollAmount<3)return this.setFocus(),void this.regScrollMove();this._usePadding&&scrollView.addScrollPadding(scrollData.scrollPadding);var scrollDuration=getScrollAssistDuration(scrollData.scrollAmount);this._app.setEnabled(!1,scrollDuration),this._nav&&this._nav.setTransitioning(!0,scrollDuration),this._native.beginFocus(!0,scrollData.inputSafeY),scrollView.scrollTo(0,scrollData.scrollTo,scrollDuration).then(function(){_this._native.beginFocus(!1,0),_this.setFocus(),_this._app.setEnabled(!0),_this._nav&&_this._nav.setTransitioning(!1),_this.regScrollMove(),_this._usePadding&&_this._scrollView.clearScrollPaddingFocusOut()})}else this.setFocus(),this.regScrollMove()},InputBase.prototype.clearTextInput=function(){},InputBase.prototype.setFocus=function(){this._form.setAsFocused(this),this._native.setFocus(),document.body.scrollTop=0},InputBase.prototype.registerOnChange=function(fn){this.onChange=fn},InputBase.prototype.registerOnTouched=function(fn){this.onTouched=fn},InputBase.prototype.regScrollMove=function(){var _this=this;this._useAssist&&this._scrollView&&setTimeout(function(){_this.deregScrollMove(),_this._deregScroll=_this._scrollView.addScrollListener(_this._scrollMove)},80)},InputBase.prototype.deregScrollMove=function(){this._deregScroll&&this._deregScroll()},InputBase.prototype.focusNext=function(){this._form.tabFocus(this)},InputBase.getScrollData=function(inputOffsetTop,inputOffsetHeight,scrollViewDimensions,keyboardHeight,plaformHeight){var inputTop=inputOffsetTop+scrollViewDimensions.contentTop-scrollViewDimensions.scrollTop,inputBottom=inputTop+inputOffsetHeight,safeAreaTop=scrollViewDimensions.contentTop,safeAreaHeight=plaformHeight-keyboardHeight-safeAreaTop;safeAreaHeight/=2;var safeAreaBottom=safeAreaTop+safeAreaHeight,inputTopWithinSafeArea=inputTop>=safeAreaTop&&safeAreaBottom>=inputTop,inputTopAboveSafeArea=safeAreaTop>inputTop,inputTopBelowSafeArea=inputTop>safeAreaBottom,inputBottomWithinSafeArea=inputBottom>=safeAreaTop&&safeAreaBottom>=inputBottom,inputBottomBelowSafeArea=inputBottom>safeAreaBottom,scrollData={scrollAmount:0,scrollTo:0,scrollPadding:0,inputSafeY:0};if(inputTopWithinSafeArea&&inputBottomWithinSafeArea)return scrollData;if(inputTopBelowSafeArea||inputBottomBelowSafeArea?(safeAreaHeight>inputOffsetHeight?scrollData.scrollAmount=Math.round(safeAreaBottom-inputBottom):scrollData.scrollAmount=Math.round(safeAreaTop-inputTop),scrollData.inputSafeY=-(inputTop-safeAreaTop)+4):inputTopAboveSafeArea&&(scrollData.scrollAmount=Math.round(safeAreaTop-inputTop),scrollData.inputSafeY=safeAreaTop-inputTop+4),scrollData.scrollTo=scrollViewDimensions.scrollTop-scrollData.scrollAmount,scrollData.scrollAmount<0){var availablePadding=scrollViewDimensions.scrollHeight-scrollViewDimensions.scrollTop-scrollViewDimensions.contentHeight,paddingSpace=availablePadding+scrollData.scrollAmount;0>paddingSpace&&(scrollData.scrollPadding=scrollViewDimensions.contentHeight-safeAreaHeight)}return scrollData},__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"clearInput",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],InputBase.prototype,"placeholder",void 0),__decorate([core_1.ViewChild(native_input_1.NativeInput),__metadata("design:type",native_input_1.NativeInput)],InputBase.prototype,"_native",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],InputBase.prototype,"blur",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],InputBase.prototype,"focus",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"value",null),__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"type",null),__decorate([core_1.Input(),__metadata("design:type",Object)],InputBase.prototype,"disabled",null),__decorate([core_1.ViewChild(native_input_1.NativeInput),__metadata("design:type",native_input_1.NativeInput),__metadata("design:paramtypes",[native_input_1.NativeInput])],InputBase.prototype,"_nativeInput",null),__decorate([core_1.ViewChild(native_input_1.NextInput),__metadata("design:type",native_input_1.NextInput),__metadata("design:paramtypes",[native_input_1.NextInput])],InputBase.prototype,"_nextInput",null),InputBase}();exports.InputBase=InputBase;var SCROLL_ASSIST_SPEED=.3},{"../../util/dom":357,"../../util/util":363,"./native-input":280,"angular2/core":11}],279:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),button_1=require("../button/button"),config_1=require("../../config/config"),content_1=require("../content/content"),form_1=require("../../util/form"),input_base_1=require("./input-base"),app_1=require("../app/app"),item_1=require("../item/item"),native_input_1=require("./native-input"),nav_controller_1=require("../nav/nav-controller"),platform_1=require("../../platform/platform"),TextInput=function(_super){function TextInput(config,form,item,app,platform,elementRef,scrollView,nav,ngControl){_super.call(this,config,form,item,app,platform,elementRef,scrollView,nav,ngControl)}return __extends(TextInput,_super),TextInput.prototype.inputBlurred=function(event){this.blur.emit(event)},TextInput.prototype.inputFocused=function(event){this.focus.emit(event)},TextInput=__decorate([core_1.Component({selector:"ion-input",template:'<input [type]="type" [(ngModel)]="_value" (blur)="inputBlurred($event)" (focus)="inputFocused($event)" [placeholder]="placeholder" class="text-input"><input [type]="type" aria-hidden="true" next-input *ngIf="_useAssist"><button clear *ngIf="clearInput && value" class="text-input-clear-icon" (click)="clearTextInput()" (mousedown)="clearTextInput()"></button><div (touchstart)="pointerStart($event)" (touchend)="pointerEnd($event)" (mousedown)="pointerStart($event)" (mouseup)="pointerEnd($event)" class="input-cover" tappable *ngIf="_useAssist"></div>',directives:[common_1.NgIf,native_input_1.NextInput,native_input_1.NativeInput,button_1.Button],encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__param(6,core_1.Optional()),__param(7,core_1.Optional()),__param(8,core_1.Optional()),__metadata("design:paramtypes",[config_1.Config,form_1.Form,item_1.Item,app_1.IonicApp,platform_1.Platform,core_1.ElementRef,content_1.Content,nav_controller_1.NavController,common_1.NgControl])],TextInput)}(input_base_1.InputBase);exports.TextInput=TextInput;var TextArea=function(_super){function TextArea(config,form,item,app,platform,elementRef,scrollView,nav,ngControl){_super.call(this,config,form,item,app,platform,elementRef,scrollView,nav,ngControl)}return __extends(TextArea,_super),TextArea.prototype.ngOnInit=function(){_super.prototype.ngOnInit.call(this),this._item&&this._item.setCssClass("item-textarea",!0)},TextArea.prototype.inputBlurred=function(event){this.blur.emit(event)},TextArea.prototype.inputFocused=function(event){this.focus.emit(event)},TextArea=__decorate([core_1.Component({selector:"ion-textarea",template:'<textarea [(ngModel)]="_value" (blur)="inputBlurred($event)" (focus)="inputFocused($event)" [placeholder]="placeholder" class="text-input"></textarea><input type="text" aria-hidden="true" next-input *ngIf="_useAssist"><div (touchstart)="pointerStart($event)" (touchend)="pointerEnd($event)" (mousedown)="pointerStart($event)" (mouseup)="pointerEnd($event)" class="input-cover" tappable *ngIf="_useAssist"></div>',directives:[common_1.NgIf,native_input_1.NextInput,native_input_1.NativeInput],encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__param(6,core_1.Optional()),__param(7,core_1.Optional()),__param(8,core_1.Optional()),__metadata("design:paramtypes",[config_1.Config,form_1.Form,item_1.Item,app_1.IonicApp,platform_1.Platform,core_1.ElementRef,content_1.Content,nav_controller_1.NavController,common_1.NgControl])],TextArea)}(input_base_1.InputBase);exports.TextArea=TextArea},{"../../config/config":332,"../../platform/platform":343,"../../util/form":360,"../app/app":267,"../button/button":271,"../content/content":273,"../item/item":284,"../nav/nav-controller":295,"./input-base":278,"./native-input":280,"angular2/common":9,"angular2/core":11}],280:[function(require,module,exports){"use strict";function cloneInput(focusedInputEle,addCssClass){var clonedInputEle=focusedInputEle.cloneNode(!0);return clonedInputEle.classList.add("cloned-input"),clonedInputEle.classList.add(addCssClass),clonedInputEle.setAttribute("aria-hidden",!0),clonedInputEle.removeAttribute("aria-labelledby"),clonedInputEle.tabIndex=-1,clonedInputEle.style.width=focusedInputEle.offsetWidth+10+"px",clonedInputEle.style.height=focusedInputEle.offsetHeight+"px",clonedInputEle.value=focusedInputEle.value,clonedInputEle}function removeClone(focusedInputEle,queryCssClass){var clonedInputEle=focusedInputEle.parentElement.querySelector("."+queryCssClass);clonedInputEle&&clonedInputEle.parentNode.removeChild(clonedInputEle)}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),config_1=require("../../config/config"),dom_1=require("../../util/dom"),NativeInput=function(){function NativeInput(_elementRef,_renderer,config,ngControl){this._elementRef=_elementRef,this._renderer=_renderer,this.ngControl=ngControl,this.focusChange=new core_1.EventEmitter,this.valueChange=new core_1.EventEmitter,this._clone=config.getBoolean("inputCloning",!1),this._blurring=config.getBoolean("inputBlurring",!1)}return NativeInput.prototype._change=function(ev){this.valueChange.emit(ev.target.value)},NativeInput.prototype._focus=function(){function docTouchEnd(ev){var tapped=ev.target;tapped&&self.element()&&("INPUT"===tapped.tagName||"TEXTAREA"===tapped.tagName||tapped.classList.contains("input-cover")||self.element().blur())}var self=this;self.focusChange.emit(!0),self._blurring&&(document.addEventListener("touchend",docTouchEnd,!0),self._unrefBlur=function(){document.removeEventListener("touchend",docTouchEnd,!0)})},NativeInput.prototype._blur=function(){this.focusChange.emit(!1),this.hideFocus(!1),this._unrefBlur&&this._unrefBlur(),this._unrefBlur=null},NativeInput.prototype.labelledBy=function(val){this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-labelledby",val)},NativeInput.prototype.isDisabled=function(val){this._renderer.setElementAttribute(this._elementRef.nativeElement,"disabled",val?"":null)},NativeInput.prototype.setFocus=function(){document.activeElement!==this.element()&&this.element().focus()},NativeInput.prototype.beginFocus=function(shouldFocus,inputRelativeY){if(this._relocated!==shouldFocus){var focusedInputEle=this.element();if(shouldFocus){if(this._clone){var clonedInputEle=cloneInput(focusedInputEle,"cloned-focus");focusedInputEle.parentNode.insertBefore(clonedInputEle,focusedInputEle),focusedInputEle.style[dom_1.CSS.transform]="translate3d(-9999px,"+inputRelativeY+"px,0)",focusedInputEle.style.opacity="0"}this.setFocus(),this._clone&&focusedInputEle.classList.add("cloned-active")}else this._clone&&(focusedInputEle.classList.remove("cloned-active"),focusedInputEle.style[dom_1.CSS.transform]="",focusedInputEle.style.opacity="",removeClone(focusedInputEle,"cloned-focus"));this._relocated=shouldFocus;
}},NativeInput.prototype.hideFocus=function(shouldHideFocus){var focusedInputEle=this.element();if(shouldHideFocus){var clonedInputEle=cloneInput(focusedInputEle,"cloned-move");focusedInputEle.classList.add("cloned-active"),focusedInputEle.parentNode.insertBefore(clonedInputEle,focusedInputEle)}else focusedInputEle.classList.remove("cloned-active"),removeClone(focusedInputEle,"cloned-move")},NativeInput.prototype.hasFocus=function(){return dom_1.hasFocus(this.element())},NativeInput.prototype.getValue=function(){return this.element().value},NativeInput.prototype.element=function(){return this._elementRef.nativeElement},NativeInput.prototype.ngOnDestroy=function(){this._unrefBlur&&this._unrefBlur()},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],NativeInput.prototype,"focusChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],NativeInput.prototype,"valueChange",void 0),__decorate([core_1.HostListener("input",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],NativeInput.prototype,"_change",null),__decorate([core_1.HostListener("focus"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],NativeInput.prototype,"_focus",null),__decorate([core_1.HostListener("blur"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],NativeInput.prototype,"_blur",null),NativeInput=__decorate([core_1.Directive({selector:".text-input"}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,config_1.Config,common_1.NgControl])],NativeInput)}();exports.NativeInput=NativeInput;var NextInput=function(){function NextInput(){this.focused=new core_1.EventEmitter}return NextInput.prototype.receivedFocus=function(){this.focused.emit(!0)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],NextInput.prototype,"focused",void 0),__decorate([core_1.HostListener("focus"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],NextInput.prototype,"receivedFocus",null),NextInput=__decorate([core_1.Directive({selector:"[next-input]"}),__metadata("design:paramtypes",[])],NextInput)}();exports.NextInput=NextInput},{"../../config/config":332,"../../util/dom":357,"angular2/common":9,"angular2/core":11}],281:[function(require,module,exports){"use strict";var dom=require("../util/dom"),ids=0,Ion=function(){function Ion(elementRef){this.elementRef=elementRef,this._id="i"+ids++}return Ion.prototype.getElementRef=function(){return this.elementRef},Ion.prototype.getNativeElement=function(){return this.elementRef.nativeElement},Ion.prototype.getDimensions=function(){return dom.getDimensions(this.elementRef.nativeElement,this._id)},Ion.prototype.width=function(){return dom.getDimensions(this.elementRef.nativeElement,this._id).width},Ion.prototype.height=function(){return dom.getDimensions(this.elementRef.nativeElement,this._id).height},Ion.prototype.ngOnDestroy=function(){dom.clearDimensions(this._id)},Ion}();exports.Ion=Ion},{"../util/dom":357}],282:[function(require,module,exports){"use strict";function isItemActive(ele,isActive){ele.classList[isActive?"add":"remove"]("active-slide"),ele.classList[isActive?"add":"remove"]("active-options")}function preventDefault(ev){ev.preventDefault()}function getItemConatiner(ele){return dom_1.closest(ele,"ion-item-sliding",!0)}function isFromOptionButtons(ele){return!!dom_1.closest(ele,"ion-item-options",!0)}function getOptionsWidth(itemContainerEle){var optsEle=itemContainerEle.querySelector("ion-item-options");return optsEle?optsEle.offsetWidth:void 0}function isActive(itemContainerEle){return itemContainerEle.classList.contains("active-slide")}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},hammer_1=require("../../gestures/hammer"),drag_gesture_1=require("../../gestures/drag-gesture"),dom_1=require("../../util/dom"),ItemSlidingGesture=function(_super){function ItemSlidingGesture(list,listEle){var _this=this;_super.call(this,listEle,{direction:"x",threshold:DRAG_THRESHOLD}),this.list=list,this.listEle=listEle,this.canDrag=!0,this.data={},this.openItems=0,this.preventDrag=!1,this.dragEnded=!0,this.listen(),this.onTap=function(ev){if(!isFromOptionButtons(ev.target)){var didClose=_this.closeOpened();didClose&&preventDefault(ev)}},this.onMouseOut=function(ev){"ION-ITEM-SLIDING"===ev.target.tagName&&_this.onDragEnd(ev)}}return __extends(ItemSlidingGesture,_super),ItemSlidingGesture.prototype.onDragStart=function(ev){var itemContainerEle=getItemConatiner(ev.target);if(!itemContainerEle)return!1;this.closeOpened(itemContainerEle);var openAmout=this.getOpenAmount(itemContainerEle);this.get(itemContainerEle);return this.preventDrag=openAmout>0,this.preventDrag?(this.closeOpened(),void preventDefault(ev)):(itemContainerEle.classList.add("active-slide"),this.set(itemContainerEle,"offsetX",openAmout),this.set(itemContainerEle,"startX",ev.center[this.direction]),this.dragEnded=!1,!0)},ItemSlidingGesture.prototype.onDrag=function(ev){var _this=this;if(this.dragEnded||this.preventDrag||Math.abs(ev.deltaY)>30)return void(this.preventDrag=!0);var itemContainerEle=getItemConatiner(ev.target);if(itemContainerEle&&isActive(itemContainerEle)){var itemData=this.get(itemContainerEle);if(itemData.optsWidth||(itemData.optsWidth=getOptionsWidth(itemContainerEle),itemData.optsWidth)){var x=ev.center[this.direction],delta=x-itemData.startX,newX=Math.max(0,itemData.offsetX-delta);newX>itemData.optsWidth&&(newX=-Math.min(-itemData.optsWidth,-itemData.optsWidth+.4*(delta+itemData.optsWidth))),newX>5&&ev.srcEvent.type.indexOf("mouse")>-1&&!itemData.hasMouseOut&&(itemContainerEle.addEventListener("mouseout",this.onMouseOut),itemData.hasMouseOut=!0),dom_1.raf(function(){_this.dragEnded||_this.preventDrag||(isItemActive(itemContainerEle,!0),_this.open(itemContainerEle,newX,!1))})}}},ItemSlidingGesture.prototype.onDragEnd=function(ev){var _this=this;this.preventDrag=!1,this.dragEnded=!0;var itemContainerEle=getItemConatiner(ev.target);if(itemContainerEle&&isActive(itemContainerEle)){var itemData=this.get(itemContainerEle),restingPoint=itemData.optsWidth;this.getOpenAmount(itemContainerEle)<restingPoint/2&&(ev.direction&hammer_1.DIRECTION_RIGHT||Math.abs(ev.velocityX)<.3)&&(restingPoint=0),itemContainerEle.removeEventListener("mouseout",this.onMouseOut),itemData.hasMouseOut=!1,dom_1.raf(function(){_this.open(itemContainerEle,restingPoint,!0)})}},ItemSlidingGesture.prototype.closeOpened=function(doNotCloseEle){var didClose=!1;if(this.openItems)for(var openItemElements=this.listEle.querySelectorAll(".active-slide"),i=0;i<openItemElements.length;i++)openItemElements[i]!==doNotCloseEle&&(this.open(openItemElements[i],0,!0),didClose=!0);return didClose},ItemSlidingGesture.prototype.open=function(itemContainerEle,openAmount,isFinal){var _this=this,slidingEle=itemContainerEle.querySelector("ion-item,[ion-item]");if(slidingEle){if(this.set(itemContainerEle,"openAmount",openAmount),clearTimeout(this.get(itemContainerEle).timerId),openAmount)this.openItems++;else{var timerId=setTimeout(function(){""===slidingEle.style[dom_1.CSS.transform]&&(isItemActive(itemContainerEle,!1),_this.openItems--)},400);this.set(itemContainerEle,"timerId",timerId)}slidingEle.style[dom_1.CSS.transition]=isFinal?"":"none",slidingEle.style[dom_1.CSS.transform]=openAmount?"translate3d("+-openAmount+"px,0,0)":"",isFinal&&(openAmount?(isItemActive(itemContainerEle,!0),this.on("tap",this.onTap)):this.off("tap",this.onTap))}},ItemSlidingGesture.prototype.getOpenAmount=function(itemContainerEle){return this.get(itemContainerEle).openAmount||0},ItemSlidingGesture.prototype.get=function(itemContainerEle){return this.data[itemContainerEle&&itemContainerEle.$ionSlide]||{}},ItemSlidingGesture.prototype.set=function(itemContainerEle,key,value){this.data[itemContainerEle.$ionSlide]||(this.data[itemContainerEle.$ionSlide]={}),this.data[itemContainerEle.$ionSlide][key]=value},ItemSlidingGesture.prototype.unlisten=function(){_super.prototype.unlisten.call(this),this.listEle=null},ItemSlidingGesture}(drag_gesture_1.DragGesture);exports.ItemSlidingGesture=ItemSlidingGesture;var DRAG_THRESHOLD=20},{"../../gestures/drag-gesture":337,"../../gestures/hammer":339,"../../util/dom":357}],283:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),list_1=require("../list/list"),ItemSliding=function(){function ItemSliding(_list,elementRef){this._list=_list,_list.enableSlidingItems(!0),elementRef.nativeElement.$ionSlide=++slideIds}return ItemSliding.prototype.close=function(){this._list.closeSlidingItems()},ItemSliding=__decorate([core_1.Component({selector:"ion-item-sliding",template:'<ng-content select="ion-item,[ion-item]"></ng-content><ng-content select="ion-item-options"></ng-content>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[list_1.List,core_1.ElementRef])],ItemSliding)}();exports.ItemSliding=ItemSliding;var slideIds=0},{"../list/list":286,"angular2/core":11}],284:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),button_1=require("../button/button"),form_1=require("../../util/form"),icon_1=require("../icon/icon"),label_1=require("../label/label"),Item=function(){function Item(form,_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._ids=-1,this._inputs=[],this._viewLabel=!0,this.labelId=null,this.id=form.nextId().toString()}return Item.prototype.registerInput=function(type){return this._inputs.push(type),this.id+"-"+ ++this._ids},Item.prototype.ngAfterContentInit=function(){if(this._viewLabel&&this._inputs.length){var labelText=this.getLabelText().trim();this._viewLabel=labelText.length>0}this._inputs.length>1&&this.setCssClass("item-multiple-inputs",!0)},Item.prototype.setCssClass=function(cssClass,shouldAdd){this._renderer.setElementClass(this._elementRef.nativeElement,cssClass,shouldAdd)},Item.prototype.getLabelText=function(){return this._label?this._label.text:""},Object.defineProperty(Item.prototype,"contentLabel",{set:function(label){label&&(this._label=label,this.labelId=label.id="lbl-"+this.id,label.type&&this.setCssClass("item-label-"+label.type,!0),this._viewLabel=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(Item.prototype,"viewLabel",{set:function(label){this._label||(this._label=label)},enumerable:!0,configurable:!0}),Object.defineProperty(Item.prototype,"_buttons",{set:function(buttons){buttons.toArray().forEach(function(button){button.isItem||button._size||button.addClass("item-button")})},enumerable:!0,configurable:!0}),Object.defineProperty(Item.prototype,"_icons",{set:function(icons){icons.toArray().forEach(function(icon){icon.addClass("item-icon")})},enumerable:!0,configurable:!0}),__decorate([core_1.ContentChild(label_1.Label),__metadata("design:type",label_1.Label),__metadata("design:paramtypes",[label_1.Label])],Item.prototype,"contentLabel",null),__decorate([core_1.ViewChild(label_1.Label),__metadata("design:type",label_1.Label),__metadata("design:paramtypes",[label_1.Label])],Item.prototype,"viewLabel",null),__decorate([core_1.ContentChildren(button_1.Button),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Item.prototype,"_buttons",null),__decorate([core_1.ContentChildren(icon_1.Icon),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Item.prototype,"_icons",null),Item=__decorate([core_1.Component({selector:"ion-item,[ion-item]",template:'<ng-content select="[item-left],ion-checkbox"></ng-content><div class="item-inner"><div class="input-wrapper"><ng-content select="ion-label"></ng-content><ion-label *ngIf="_viewLabel"><ng-content></ng-content></ion-label><ng-content select="ion-select,ion-input,ion-textarea"></ng-content></div><ng-content select="[item-right],ion-radio,ion-toggle"></ng-content></div><ion-button-effect></ion-button-effect>',host:{"class":"item"},directives:[common_1.NgIf,label_1.Label],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[form_1.Form,core_1.Renderer,core_1.ElementRef])],Item)}();exports.Item=Item},{"../../util/form":360,"../button/button":271,"../icon/icon":274,"../label/label":285,"angular2/common":9,"angular2/core":11}],285:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),Label=function(){function Label(_elementRef,_renderer,isFloating,isStacked,isFixed,isInset){this._elementRef=_elementRef,this._renderer=_renderer,this.type=""===isFloating?"floating":""===isStacked?"stacked":""===isFixed?"fixed":""===isInset?"inset":null}return Object.defineProperty(Label.prototype,"id",{get:function(){return this._id},set:function(val){this._id=val,val&&this._renderer.setElementAttribute(this._elementRef.nativeElement,"id",val)},enumerable:!0,configurable:!0}),Object.defineProperty(Label.prototype,"text",{get:function(){return this._elementRef.nativeElement.textContent||""},enumerable:!0,configurable:!0}),Label.prototype.addClass=function(className){this._renderer.setElementClass(this._elementRef.nativeElement,className,!0)},__decorate([core_1.Input(),__metadata("design:type",String)],Label.prototype,"id",null),Label=__decorate([core_1.Directive({selector:"ion-label"}),__param(2,core_1.Attribute("floating")),__param(3,core_1.Attribute("stacked")),__param(4,core_1.Attribute("fixed")),__param(5,core_1.Attribute("inset")),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer,String,String,String,String])],Label)}();exports.Label=Label},{"angular2/core":11}],286:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),ion_1=require("../ion"),item_sliding_gesture_1=require("../item/item-sliding-gesture"),List=function(_super){function List(elementRef,_zone){_super.call(this,elementRef),this._zone=_zone,this._enableSliding=!1,this.ele=elementRef.nativeElement}return __extends(List,_super),List.prototype.ngOnDestroy=function(){this.slidingGesture&&this.slidingGesture.destroy(),this.ele=this.slidingGesture=null},List.prototype.enableSlidingItems=function(shouldEnable){var _this=this;this._enableSliding!==shouldEnable&&(this._enableSliding=shouldEnable,shouldEnable?this._zone.runOutsideAngular(function(){setTimeout(function(){_this.slidingGesture=new item_sliding_gesture_1.ItemSlidingGesture(_this,_this.ele)})}):this.slidingGesture&&this.slidingGesture.unlisten())},List.prototype.closeSlidingItems=function(){this.slidingGesture&&this.slidingGesture.closeOpened()},List=__decorate([core_1.Directive({selector:"ion-list"}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.NgZone])],List)}(ion_1.Ion);exports.List=List;var ListHeader=function(){function ListHeader(_renderer,_elementRef,id){this._renderer=_renderer,this._elementRef=_elementRef,this._id=id}return Object.defineProperty(ListHeader.prototype,"id",{get:function(){return this._id},set:function(val){this._id=val,this._renderer.setElementAttribute(this._elementRef.nativeElement,"id",val)},enumerable:!0,configurable:!0}),ListHeader=__decorate([core_1.Directive({selector:"ion-list-header"}),__param(2,core_1.Attribute("id")),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,String])],ListHeader)}();exports.ListHeader=ListHeader},{"../ion":281,"../item/item-sliding-gesture":282,"angular2/core":11}],287:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),animation_1=require("../../animations/animation"),transition_1=require("../../transitions/transition"),config_1=require("../../config/config"),spinner_1=require("../spinner/spinner"),util_1=require("../../util/util"),nav_params_1=require("../nav/nav-params"),view_controller_1=require("../nav/view-controller"),Loading=function(_super){function Loading(opts){void 0===opts&&(opts={}),opts.showBackdrop=util_1.isPresent(opts.showBackdrop)?!!opts.showBackdrop:!0,opts.dismissOnPageChange=util_1.isPresent(opts.dismissOnPageChange)?!!opts.dismissOnPageChange:!1,_super.call(this,LoadingCmp,opts),this.viewType="loading",this.isOverlay=!0,this.usePortal=!0,this.fireOtherLifecycles=!1}return __extends(Loading,_super),Loading.prototype.getTransitionName=function(direction){var key="back"===direction?"loadingLeave":"loadingEnter";return this._nav&&this._nav.config.get(key)},Loading.create=function(opts){return void 0===opts&&(opts={}),new Loading(opts)},Loading}(view_controller_1.ViewController);exports.Loading=Loading;var LoadingCmp=function(){function LoadingCmp(_viewCtrl,_config,_elementRef,params,renderer){this._viewCtrl=_viewCtrl,this._config=_config,this._elementRef=_elementRef,this.d=params.data,this.created=Date.now(),this.d.cssClass&&renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++loadingIds}return LoadingCmp.prototype.ngOnInit=function(){util_1.isUndefined(this.d.spinner)&&(this.d.spinner=this._config.get("loadingSpinner",this._config.get("spinner","ios"))),this.showSpinner=util_1.isDefined(this.d.spinner)&&"hide"!==this.d.spinner},LoadingCmp.prototype.onPageDidEnter=function(){var _this=this,activeElement=document.activeElement;document.activeElement&&activeElement.blur(),this.d.duration?setTimeout(function(){return _this.dismiss("backdrop")},this.d.duration):null},LoadingCmp.prototype.dismiss=function(role){return this._viewCtrl.dismiss(null,role)},LoadingCmp.prototype.isEnabled=function(){var tm=this._config.getNumber("overlayCreatedDiff",750);return this.created+tm<Date.now()},LoadingCmp=__decorate([core_1.Component({selector:"ion-loading",template:'<div disable-activated class="backdrop" [class.hide-backdrop]="!d.showBackdrop" role="presentation"></div><div class="loading-wrapper"><div *ngIf="showSpinner" class="loading-spinner"><ion-spinner [name]="d.spinner"></ion-spinner></div><div *ngIf="d.content" [innerHTML]="d.content" class="loading-content"></div></div>',host:{role:"dialog"},directives:[common_1.NgIf,spinner_1.Spinner],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[view_controller_1.ViewController,config_1.Config,core_1.ElementRef,nav_params_1.NavParams,core_1.Renderer])],LoadingCmp)}(),LoadingPopIn=function(_super){function LoadingPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.1","1"),backdrop.fromTo("opacity","0.01","0.3"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingPopIn,_super),LoadingPopIn}(transition_1.Transition);transition_1.Transition.register("loading-pop-in",LoadingPopIn);var LoadingPopOut=function(_super){function LoadingPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","0.9"),backdrop.fromTo("opacity","0.3","0"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingPopOut,_super),LoadingPopOut}(transition_1.Transition);transition_1.Transition.register("loading-pop-out",LoadingPopOut);var LoadingMdPopIn=function(_super){function LoadingMdPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.1","1"),backdrop.fromTo("opacity","0.01","0.50"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingMdPopIn,_super),LoadingMdPopIn}(transition_1.Transition);transition_1.Transition.register("loading-md-pop-in",LoadingMdPopIn);var LoadingMdPopOut=function(_super){function LoadingMdPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","0.9"),backdrop.fromTo("opacity","0.50","0"),this.easing("ease-in-out").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingMdPopOut,_super),LoadingMdPopOut}(transition_1.Transition);transition_1.Transition.register("loading-md-pop-out",LoadingMdPopOut);var LoadingWpPopIn=function(_super){function LoadingWpPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.3","1"),backdrop.fromTo("opacity","0.01","0.16"),this.easing("cubic-bezier(0,0 0.05,1)").duration(200).add(backdrop).add(wrapper)}return __extends(LoadingWpPopIn,_super),LoadingWpPopIn}(transition_1.Transition);transition_1.Transition.register("loading-wp-pop-in",LoadingWpPopIn);var LoadingWpPopOut=function(_super){function LoadingWpPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".loading-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","1.3"),backdrop.fromTo("opacity","0.16","0"),this.easing("ease-out").duration(150).add(backdrop).add(wrapper)}return __extends(LoadingWpPopOut,_super),LoadingWpPopOut}(transition_1.Transition);transition_1.Transition.register("loading-wp-pop-out",LoadingWpPopOut);var loadingIds=-1},{"../../animations/animation":262,"../../config/config":332,"../../transitions/transition":352,"../../util/util":363,"../nav/nav-params":296,"../nav/view-controller":303,"../spinner/spinner":317,"angular2/common":9,"angular2/core":11}],288:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),menu_controller_1=require("./menu-controller"),MenuClose=function(){function MenuClose(_menu){this._menu=_menu}return MenuClose.prototype.close=function(){var menu=this._menu.get(this.menuClose);menu&&menu.close()},__decorate([core_1.Input(),__metadata("design:type",Object)],MenuClose.prototype,"menuClose",void 0),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MenuClose.prototype,"close",null),MenuClose=__decorate([core_1.Directive({selector:"[menuClose]"}),__metadata("design:paramtypes",[menu_controller_1.MenuController])],MenuClose)}();exports.MenuClose=MenuClose},{"./menu-controller":289,"angular2/core":11}],289:[function(require,module,exports){"use strict";var MenuController=function(){function MenuController(){this._menus=[]}return MenuController.prototype.open=function(menuId){var menu=this.get(menuId);return menu?menu.open():Promise.resolve(!1)},MenuController.prototype.close=function(menuId){var menu;return menu=menuId?this.get(menuId):this._menus.find(function(m){return m.isOpen}),menu?menu.close():Promise.resolve(!1)},MenuController.prototype.toggle=function(menuId){var menu=this.get(menuId);return menu?menu.toggle():Promise.resolve(!1)},MenuController.prototype.enable=function(shouldEnable,menuId){var menu=this.get(menuId);return menu?menu.enable(shouldEnable):void 0},MenuController.prototype.swipeEnable=function(shouldEnable,menuId){var menu=this.get(menuId);return menu?menu.swipeEnable(shouldEnable):void 0},MenuController.prototype.isOpen=function(menuId){var menu=this.get(menuId);return menu&&menu.isOpen||!1},MenuController.prototype.isEnabled=function(menuId){var menu=this.get(menuId);return menu&&menu.enabled||!1},MenuController.prototype.get=function(menuId){var menu;return"left"===menuId||"right"===menuId?(menu=this._menus.find(function(m){return m.side===menuId&&m.enabled}),menu?menu:this._menus.find(function(m){return m.side===menuId})||null):menuId?this._menus.find(function(m){return m.id===menuId})||null:(menu=this._menus.find(function(m){return m.enabled}),menu?menu:this._menus.length?this._menus[0]:null)},MenuController.prototype.getMenus=function(){return this._menus},MenuController.prototype.register=function(menu){this._menus.push(menu)},MenuController.prototype.unregister=function(menu){var index=this._menus.indexOf(menu);index>-1&&this._menus.splice(index,1)},MenuController.registerType=function(name,cls){menuTypes[name]=cls},MenuController.create=function(type,menuCmp){return new menuTypes[type](menuCmp)},MenuController}();exports.MenuController=MenuController;var menuTypes={}},{}],290:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},slide_edge_gesture_1=require("../../gestures/slide-edge-gesture"),util_1=require("../../util/util"),MenuContentGesture=function(_super){function MenuContentGesture(menu,contentEle,options){void 0===options&&(options={}),_super.call(this,contentEle,util_1.assign({direction:"x",edge:menu.side,threshold:0,maxEdgeStart:menu.maxEdgeStart||75},options)),this.menu=menu}return __extends(MenuContentGesture,_super),MenuContentGesture.prototype.canStart=function(ev){var menu=this.menu;if(!menu.enabled||!menu.swipeEnabled)return!1;if(ev.distance>50)return!1;if("right"===menu.side){if(menu.isOpen)return!0;if(ev.angle>140&&ev.angle<=180||ev.angle>-140&&ev.angle<=-180)return _super.prototype.canStart.call(this,ev)}else{if(menu.isOpen)return!0;if(ev.angle>-40&&ev.angle<40)return _super.prototype.canStart.call(this,ev)}return!1},MenuContentGesture.prototype.onSlideBeforeStart=function(slide,ev){this.menu.swipeStart()},MenuContentGesture.prototype.onSlide=function(slide,ev){var z="right"===this.menu.side?slide.min:slide.max,stepValue=slide.distance/z;this.menu.swipeProgress(stepValue)},MenuContentGesture.prototype.onSlideEnd=function(slide,ev){var z="right"===this.menu.side?slide.min:slide.max,shouldComplete=Math.abs(ev.velocityX)>.2||Math.abs(slide.delta)>.5*Math.abs(z),currentStepValue=slide.distance/z;this.menu.swipeEnd(shouldComplete,currentStepValue)},MenuContentGesture.prototype.getElementStartPos=function(slide,ev){return"right"===this.menu.side?this.menu.isOpen?slide.min:slide.max:this.menu.isOpen?slide.max:slide.min},MenuContentGesture.prototype.getSlideBoundaries=function(){return"right"===this.menu.side?{min:-this.menu.width(),max:0}:{min:0,max:this.menu.width()}},MenuContentGesture}(slide_edge_gesture_1.SlideEdgeGesture);exports.MenuContentGesture=MenuContentGesture;var MenuTargetGesture=function(_super){function MenuTargetGesture(menu,menuEle){_super.call(this,menu,menuEle,{maxEdgeStart:0})}return __extends(MenuTargetGesture,_super),MenuTargetGesture}(MenuContentGesture);exports.MenuTargetGesture=MenuTargetGesture;
},{"../../gestures/slide-edge-gesture":340,"../../util/util":363}],291:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),view_controller_1=require("../nav/view-controller"),navbar_1=require("../navbar/navbar"),menu_controller_1=require("./menu-controller"),MenuToggle=function(){function MenuToggle(_menu,elementRef,_viewCtrl,_navbar){this._menu=_menu,this._viewCtrl=_viewCtrl,this._navbar=_navbar,this._inNavbar=!!_navbar}return MenuToggle.prototype.toggle=function(){var menu=this._menu.get(this.menuToggle);menu&&menu.toggle()},Object.defineProperty(MenuToggle.prototype,"isHidden",{get:function(){if(this._inNavbar&&this._viewCtrl){if(this._viewCtrl.isFirst())return!1;var menu=this._menu.get(this.menuToggle);if(menu)return!menu.persistent}return!1},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Object)],MenuToggle.prototype,"menuToggle",void 0),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MenuToggle.prototype,"toggle",null),MenuToggle=__decorate([core_1.Directive({selector:"[menuToggle]",host:{"[hidden]":"isHidden",menuToggle:""}}),__param(2,core_1.Optional()),__param(3,core_1.Optional()),__metadata("design:paramtypes",[menu_controller_1.MenuController,core_1.ElementRef,view_controller_1.ViewController,navbar_1.Navbar])],MenuToggle)}();exports.MenuToggle=MenuToggle},{"../nav/view-controller":303,"../navbar/navbar":304,"./menu-controller":289,"angular2/core":11}],292:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},menu_controller_1=require("./menu-controller"),animation_1=require("../../animations/animation"),MenuType=function(){function MenuType(){this.ani=new animation_1.Animation}return MenuType.prototype.setOpen=function(shouldOpen,done){this.ani.onFinish(done,!0).reverse(!shouldOpen).play()},MenuType.prototype.setProgressStart=function(isOpen){this.isOpening=!isOpen,this.ani.reverse(isOpen).progressStart()},MenuType.prototype.setProgessStep=function(stepValue){this.ani.progressStep(stepValue)},MenuType.prototype.setProgressEnd=function(shouldComplete,currentStepValue,done){var _this=this,isOpen=this.isOpening&&shouldComplete;this.isOpening||shouldComplete||(isOpen=!0),this.ani.onFinish(function(){_this.isOpening=!1,done(isOpen)},!0),this.ani.progressEnd(shouldComplete,currentStepValue)},MenuType.prototype.destroy=function(){this.ani&&this.ani.destroy()},MenuType}();exports.MenuType=MenuType;var MenuRevealType=function(_super){function MenuRevealType(menu){_super.call(this);var openedX=menu.width()*("right"===menu.side?-1:1)+"px";this.ani.easing("ease").duration(250);var contentOpen=new animation_1.Animation(menu.getContentElement());contentOpen.fromTo("translateX","0px",openedX),this.ani.add(contentOpen)}return __extends(MenuRevealType,_super),MenuRevealType}(MenuType);menu_controller_1.MenuController.registerType("reveal",MenuRevealType);var MenuPushType=function(_super){function MenuPushType(menu){_super.call(this),this.ani.easing("ease").duration(250);var contentOpenedX,menuClosedX,menuOpenedX;"right"===menu.side?(contentOpenedX=-menu.width()+"px",menuOpenedX=menu._platform.width()-menu.width()+"px",menuClosedX=menu._platform.width()+"px"):(contentOpenedX=menu.width()+"px",menuOpenedX="0px",menuClosedX=-menu.width()+"px");var menuAni=new animation_1.Animation(menu.getMenuElement());menuAni.fromTo("translateX",menuClosedX,menuOpenedX),this.ani.add(menuAni);var contentApi=new animation_1.Animation(menu.getContentElement());contentApi.fromTo("translateX","0px",contentOpenedX),this.ani.add(contentApi)}return __extends(MenuPushType,_super),MenuPushType}(MenuType);menu_controller_1.MenuController.registerType("push",MenuPushType);var MenuOverlayType=function(_super){function MenuOverlayType(menu){_super.call(this),this.ani.easing("ease").duration(250);var closedX,openedX;"right"===menu.side?(closedX=menu._platform.width()+"px",openedX=menu._platform.width()-menu.width()-8+"px"):(closedX=-menu.width()+"px",openedX="8px");var menuAni=new animation_1.Animation(menu.getMenuElement());menuAni.fromTo("translateX",closedX,openedX),this.ani.add(menuAni);var backdropApi=new animation_1.Animation(menu.getBackdropElement());backdropApi.fromTo("opacity",.01,.35),this.ani.add(backdropApi)}return __extends(MenuOverlayType,_super),MenuOverlayType}(MenuType);menu_controller_1.MenuController.registerType("overlay",MenuOverlayType)},{"../../animations/animation":262,"./menu-controller":289}],293:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),ion_1=require("../ion"),config_1=require("../../config/config"),platform_1=require("../../platform/platform"),keyboard_1=require("../../util/keyboard"),menu_gestures_1=require("./menu-gestures"),menu_controller_1=require("./menu-controller"),util_1=require("../../util/util"),Menu=function(_super){function Menu(_menuCtrl,_elementRef,_config,_platform,_renderer,_keyboard,_zone){_super.call(this,_elementRef),this._menuCtrl=_menuCtrl,this._elementRef=_elementRef,this._config=_config,this._platform=_platform,this._renderer=_renderer,this._keyboard=_keyboard,this._zone=_zone,this._preventTime=0,this._isEnabled=!0,this._isSwipeEnabled=!0,this._isPers=!1,this._init=!1,this.isOpen=!1,this.opening=new core_1.EventEmitter}return __extends(Menu,_super),Object.defineProperty(Menu.prototype,"enabled",{get:function(){return this._isEnabled},set:function(val){this._isEnabled=util_1.isTrueProperty(val),this._setListeners()},enumerable:!0,configurable:!0}),Object.defineProperty(Menu.prototype,"swipeEnabled",{get:function(){return this._isSwipeEnabled},set:function(val){this._isSwipeEnabled=util_1.isTrueProperty(val),this._setListeners()},enumerable:!0,configurable:!0}),Object.defineProperty(Menu.prototype,"persistent",{get:function(){return this._isPers},set:function(val){this._isPers=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Menu.prototype.ngOnInit=function(){var self=this;self._init=!0;var content=self.content;if(self._cntEle=content instanceof Node?content:content&&content.getNativeElement&&content.getNativeElement(),self._cntEle){"left"!==self.side&&"right"!==self.side&&(self.side="left"),self._renderer.setElementAttribute(self._elementRef.nativeElement,"side",self.side),self.type||(self.type=self._config.get("menuType")),self._renderer.setElementAttribute(self._elementRef.nativeElement,"type",self.type),self._cntGesture=new menu_gestures_1.MenuContentGesture(self,self.getContentElement()),self._menuGesture=new menu_gestures_1.MenuTargetGesture(self,self.getNativeElement());var hasEnabledSameSideMenu=self._menuCtrl.getMenus().some(function(m){return m.side===self.side&&m.enabled});hasEnabledSameSideMenu&&(self._isEnabled=!1),self._setListeners(),self.onContentClick=function(ev){self._isEnabled&&(ev.preventDefault(),ev.stopPropagation(),self.close())},self._cntEle.classList.add("menu-content"),self._cntEle.classList.add("menu-content-"+self.type),self._menuCtrl.register(self)}},Menu.prototype._setListeners=function(){var self=this;self._init&&(self._isEnabled&&self._isSwipeEnabled&&!self._cntGesture.isListening?self._zone.runOutsideAngular(function(){self._cntGesture.listen(),self._menuGesture.listen()}):!self._cntGesture.isListening||self._isEnabled&&self._isSwipeEnabled||(self._cntGesture.unlisten(),self._menuGesture.unlisten()))},Menu.prototype._getType=function(){return this._type||(this._type=menu_controller_1.MenuController.create(this.type,this),this._config.get("animate")===!1&&this._type.ani.duration(0)),this._type},Menu.prototype.setOpen=function(shouldOpen){var _this=this;return shouldOpen&&this.isOpen||this._isPrevented()?Promise.resolve(this.isOpen):(this._before(),new Promise(function(resolve){_this._getType().setOpen(shouldOpen,function(){_this._after(shouldOpen),resolve(_this.isOpen)})}))},Menu.prototype.swipeStart=function(){!this._isPrevented()&&this._isEnabled&&this._isSwipeEnabled&&(this._before(),this._getType().setProgressStart(this.isOpen))},Menu.prototype.swipeProgress=function(stepValue){this._isEnabled&&this._isSwipeEnabled&&(this._prevent(),this._getType().setProgessStep(stepValue),this.opening.next(stepValue))},Menu.prototype.swipeEnd=function(shouldComplete,currentStepValue){var _this=this;this._isEnabled&&this._isSwipeEnabled&&(this._prevent(),this._getType().setProgressEnd(shouldComplete,currentStepValue,function(isOpen){_this._after(isOpen)}))},Menu.prototype._before=function(){this._isEnabled&&(this.getNativeElement().classList.add("show-menu"),this.getBackdropElement().classList.add("show-backdrop"),this._prevent(),this._keyboard.close())},Menu.prototype._after=function(isOpen){(this._isEnabled&&isOpen||!isOpen)&&(this._prevent(),this.isOpen=isOpen,this._cntEle.classList[isOpen?"add":"remove"]("menu-content-open"),this._cntEle.removeEventListener("click",this.onContentClick),isOpen?this._cntEle.addEventListener("click",this.onContentClick):(this.getNativeElement().classList.remove("show-menu"),this.getBackdropElement().classList.remove("show-backdrop")))},Menu.prototype._prevent=function(){this._preventTime=Date.now()+20},Menu.prototype._isPrevented=function(){return this._preventTime>Date.now()},Menu.prototype.open=function(){return this.setOpen(!0)},Menu.prototype.close=function(){return this.setOpen(!1)},Menu.prototype.toggle=function(){return this.setOpen(!this.isOpen)},Menu.prototype.enable=function(shouldEnable){var _this=this;if(this.enabled=shouldEnable,!shouldEnable&&this.isOpen&&this.close(),shouldEnable){this._menuCtrl.getMenus().filter(function(m){return m.side===_this.side&&m!==_this}).map(function(m){return m.enabled=!1})}return this},Menu.prototype.swipeEnable=function(shouldEnable){return this.swipeEnabled=shouldEnable,this},Menu.prototype.getMenuElement=function(){return this.getNativeElement()},Menu.prototype.getContentElement=function(){return this._cntEle},Menu.prototype.getBackdropElement=function(){return this.backdrop.elementRef.nativeElement},Menu.prototype.ngOnDestroy=function(){this._menuCtrl.unregister(this),this._cntGesture&&this._cntGesture.destroy(),this._menuGesture&&this._menuGesture.destroy(),this._type&&this._type.destroy(),this._resizeUnreg&&this._resizeUnreg(),this._cntEle=null},__decorate([core_1.Input(),__metadata("design:type",Object)],Menu.prototype,"content",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Menu.prototype,"id",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Menu.prototype,"side",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Menu.prototype,"type",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Menu.prototype,"enabled",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Menu.prototype,"swipeEnabled",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Menu.prototype,"persistent",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Menu.prototype,"maxEdgeStart",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Menu.prototype,"opening",void 0),Menu=__decorate([core_1.Component({selector:"ion-menu",host:{role:"navigation"},template:'<ng-content></ng-content><div tappable disable-activated class="backdrop"></div>',directives:[core_1.forwardRef(function(){return MenuBackdrop})],changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[menu_controller_1.MenuController,core_1.ElementRef,config_1.Config,platform_1.Platform,core_1.Renderer,keyboard_1.Keyboard,core_1.NgZone])],Menu)}(ion_1.Ion);exports.Menu=Menu;var MenuBackdrop=function(){function MenuBackdrop(_menuCtrl,elementRef){this._menuCtrl=_menuCtrl,this.elementRef=elementRef,_menuCtrl.backdrop=this}return MenuBackdrop.prototype.clicked=function(ev){ev.preventDefault(),ev.stopPropagation(),this._menuCtrl.close()},MenuBackdrop=__decorate([core_1.Directive({selector:".backdrop",host:{"(click)":"clicked($event)"}}),__param(0,core_1.Host()),__metadata("design:paramtypes",[Menu,core_1.ElementRef])],MenuBackdrop)}();exports.MenuBackdrop=MenuBackdrop},{"../../config/config":332,"../../platform/platform":343,"../../util/keyboard":361,"../../util/util":363,"../ion":281,"./menu-controller":289,"./menu-gestures":290,"angular2/core":11}],294:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},view_controller_1=require("../nav/view-controller"),animation_1=require("../../animations/animation"),transition_1=require("../../transitions/transition"),Modal=function(_super){function Modal(componentType,data){void 0===data&&(data={}),_super.call(this,componentType,data),this.viewType="modal",this.isOverlay=!0}return __extends(Modal,_super),Modal.prototype.getTransitionName=function(direction){var key="back"===direction?"modalLeave":"modalEnter";return this._nav&&this._nav.config.get(key)},Modal.create=function(componentType,data){return void 0===data&&(data={}),new Modal(componentType,data)},Modal}(view_controller_1.ViewController);exports.Modal=Modal;var ModalSlideIn=function(_super){function ModalSlideIn(enteringView,leavingView,opts){if(_super.call(this,opts),this.element(enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(400).fromTo("translateY","100%","0%").before.addClass("show-page"),enteringView.hasNavbar()){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar)}}return __extends(ModalSlideIn,_super),ModalSlideIn}(transition_1.Transition);transition_1.Transition.register("modal-slide-in",ModalSlideIn);var ModalSlideOut=function(_super){function ModalSlideOut(enteringView,leavingView,opts){_super.call(this,opts),this.element(leavingView.pageRef()).easing("ease-out").duration(250).fromTo("translateY","0%","100%")}return __extends(ModalSlideOut,_super),ModalSlideOut}(transition_1.Transition);transition_1.Transition.register("modal-slide-out",ModalSlideOut);var ModalMDSlideIn=function(_super){function ModalMDSlideIn(enteringView,leavingView,opts){if(_super.call(this,opts),this.element(enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).fromTo("translateY","40px","0px").fadeIn().before.addClass("show-page"),enteringView.hasNavbar()){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar)}}return __extends(ModalMDSlideIn,_super),ModalMDSlideIn}(transition_1.Transition);transition_1.Transition.register("modal-md-slide-in",ModalMDSlideIn);var ModalMDSlideOut=function(_super){function ModalMDSlideOut(enteringView,leavingView,opts){_super.call(this,opts),this.element(leavingView.pageRef()).duration(200).easing("cubic-bezier(0.47,0,0.745,0.715)").fromTo("translateY","0px","40px").fadeOut()}return __extends(ModalMDSlideOut,_super),ModalMDSlideOut}(transition_1.Transition);transition_1.Transition.register("modal-md-slide-out",ModalMDSlideOut)},{"../../animations/animation":262,"../../transitions/transition":352,"../nav/view-controller":303}],295:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},core_1=require("angular2/core"),instrumentation_1=require("angular2/instrumentation"),ion_1=require("../ion"),nav_params_1=require("./nav-params"),util_1=require("../../util/util"),swipe_back_1=require("./swipe-back"),transition_1=require("../../transitions/transition"),view_controller_1=require("./view-controller"),NavController=function(_super){function NavController(parent,_app,config,_keyboard,elementRef,_anchorName,_compiler,_viewManager,_zone,_renderer){_super.call(this,elementRef),this._app=_app,this._keyboard=_keyboard,this._anchorName=_anchorName,this._compiler=_compiler,this._viewManager=_viewManager,this._zone=_zone,this._renderer=_renderer,this._transIds=0,this._init=!1,this._children=[],this._ids=-1,this._trnsTime=0,this._views=[],this.routers=[],this.isPortal=!1,this.parent=parent,this.config=config,this._trnsDelay=config.get("pageTransitionDelay"),this._sbEnabled=config.getBoolean("swipeBackEnabled"),this._sbThreshold=config.getNumber("swipeBackThreshold",40),this.id=(++ctrlIds).toString(),this.providers=core_1.Injector.resolve([core_1.provide(NavController,{useValue:this})])}return __extends(NavController,_super),NavController.prototype.setPortal=function(val){this._portal=val},NavController.prototype.setRoot=function(page,params,opts){return this.setPages([{page:page,params:params}],opts)},NavController.prototype.setPages=function(pages,opts){if(!pages||!pages.length)return Promise.resolve(!1);util_1.isBlank(opts)&&(opts={}),pages.forEach(function(pg){pg.componentType?pg.page=pg.componentType:!pg.page});var leavingView=this._remove(0,this._views.length),views=pages.map(function(p){return new view_controller_1.ViewController(p.page,p.params)}),enteringView=this._insert(0,views);opts.animate!==!0&&(opts.animate=!1),opts.direction=opts.direction||"back";var resolve,promise=new Promise(function(res){resolve=res});return this._transition(enteringView,leavingView,opts,function(hasCompleted){resolve(hasCompleted)}),promise},NavController.prototype.push=function(page,params,opts){return this.insertPages(-1,[{page:page,params:params}],opts)},NavController.prototype.present=function(enteringView,opts){var rootNav=this.rootNav;if(!rootNav._tabs)return util_1.isBlank(opts)&&(opts={}),enteringView.usePortal&&rootNav._portal?rootNav._portal.present(enteringView,opts):(enteringView.setNav(rootNav),opts.keyboardClose=!1,opts.direction="forward",opts.animation||(opts.animation=enteringView.getTransitionName("forward")),enteringView.setLeavingOpts({keyboardClose:!1,direction:"back",animation:enteringView.getTransitionName("back")}),rootNav._insertViews(-1,[enteringView],opts))},NavController.prototype.insert=function(insertIndex,page,params,opts){return this.insertPages(insertIndex,[{page:page,params:params}],opts)},NavController.prototype.insertPages=function(insertIndex,insertPages,opts){var views=insertPages.map(function(p){return new view_controller_1.ViewController(p.page,p.params)});return this._insertViews(insertIndex,views,opts)},NavController.prototype._insertViews=function(insertIndex,insertViews,opts){if(!insertViews||!insertViews.length)return Promise.reject("invalid pages");util_1.isBlank(opts)&&(opts={});var enteringView=this._insert(insertIndex,insertViews);opts.direction=opts.direction||"forward",opts.animation||(opts.animation=enteringView.getTransitionName(opts.direction));for(var resolve,promise=new Promise(function(res){resolve=res}),i=this._views.length-1;i>=0;i--)if(this._views[i].state===STATE_ACTIVE||this._views[i].state===STATE_INIT_ENTER){if(this._views[i]===enteringView){var leavingView=this.getByState(STATE_INIT_LEAVE);return this._transition(enteringView,leavingView,opts,function(hasCompleted){resolve(hasCompleted)}),promise}break}return Promise.resolve(enteringView)},NavController.prototype._insert=function(insertIndex,insertViews){var _this=this;(0>insertIndex||insertIndex>this._views.length)&&(insertIndex=this._views.length);var view=this.getActive();view?view.state=STATE_INIT_LEAVE:(view=this.getByState(STATE_INIT_ENTER))&&(view.state=STATE_INACTIVE);var insertView=null;return insertViews.forEach(function(view,i){insertView=view,view.setNav(_this),view.state=STATE_INACTIVE,_this._incId(view),_this._views.splice(insertIndex+i,0,view)}),insertView&&(insertView.state=STATE_INIT_ENTER),insertView},NavController.prototype.pop=function(opts){var activeView=this.getByState(STATE_TRANS_ENTER)||this.getByState(STATE_INIT_ENTER)||this.getActive();return util_1.isBlank(opts)&&(opts={}),util_1.isBlank(opts.climbNav)&&(opts.climbNav=!0),this.remove(this.indexOf(activeView),1,opts)},NavController.prototype.popToRoot=function(opts){return this.popTo(this.first(),opts)},NavController.prototype.popTo=function(view,opts){var startIndex=this.indexOf(view),activeView=this.getByState(STATE_TRANS_ENTER)||this.getByState(STATE_INIT_ENTER)||this.getActive(),removeCount=this.indexOf(activeView)-startIndex;return this.remove(startIndex+1,removeCount,opts)},NavController.prototype.remove=function(startIndex,removeCount,opts){if(void 0===startIndex&&(startIndex=-1),void 0===removeCount&&(removeCount=1),-1===startIndex)startIndex=this._views.length-1;else if(0>startIndex||startIndex>=this._views.length)return Promise.reject("remove index out of range");util_1.isBlank(opts)&&(opts={}),opts.direction=opts.direction||"back";var leavingView=this._remove(startIndex,removeCount);if(!leavingView){var forcedActive=this.getByState(STATE_FORCE_ACTIVE);if(forcedActive)return this._trans&&(this._trans.stop(),this._trans.destroy(),this._trans=null,this._cleanup()),Promise.resolve(!1)}if(leavingView){var enteringView=this.getByState(STATE_INIT_ENTER);if(!enteringView&&!this.isPortal){if(opts.climbNav)for(var parentNav=this.parent;parentNav;){if(!parentNav._tabs)return leavingView.willLeave(),parentNav.pop(opts).then(function(rtnVal){return leavingView.didLeave(),rtnVal});parentNav=parentNav.parent}return leavingView.state=STATE_ACTIVE,Promise.resolve(!1)}var resolve_1,promise=new Promise(function(res){resolve_1=res});return opts.animation||(opts.animation=leavingView.getTransitionName(opts.direction)),this._transition(enteringView,leavingView,opts,function(hasCompleted){resolve_1(hasCompleted)}),promise}return Promise.resolve(!1)},NavController.prototype._remove=function(startIndex,removeCount){for(var _this=this,view=null,i=startIndex,ii=removeCount+startIndex;ii>i&&(view=this.getByIndex(i),view);i++)view.state===STATE_TRANS_ENTER||view.state===STATE_TRANS_LEAVE?view.state=STATE_REMOVE_AFTER_TRANS:view.state=STATE_REMOVE;if(view=this.getByState(STATE_INIT_LEAVE)){var enteringView=this.getByState(STATE_INIT_ENTER);enteringView&&(enteringView.state=STATE_INACTIVE);for(var i=this.indexOf(view)-1;i>=0;i--)if(this._views[i].state===STATE_INACTIVE){this._views[i].state=STATE_INIT_ENTER;break}}else if(view=this.getByState(STATE_TRANS_LEAVE))view.state=STATE_FORCE_ACTIVE;else if(view=this.getByState(STATE_REMOVE)){view.state=STATE_INIT_LEAVE,view.willUnload();for(var i=this.indexOf(view)-1;i>=0;i--)if(this._views[i].state===STATE_INACTIVE){this._views[i].state=STATE_INIT_ENTER;break}}return view=this.getActive(),view&&(view=this.getByState(STATE_INIT_ENTER),view&&(view.state=STATE_INACTIVE),view=this.getByState(STATE_INIT_LEAVE),view&&(view.state=STATE_REMOVE)),this._views.filter(function(v){return v.state===STATE_REMOVE}).forEach(function(view){view.willLeave(),view.didLeave(),_this._views.splice(_this.indexOf(view),1),view.destroy()}),this.getByState(STATE_INIT_LEAVE)},NavController.prototype._transition=function(enteringView,leavingView,opts,done){var _this=this,transId=++this._transIds;if(enteringView===leavingView)return this._transFinish(transId,enteringView,leavingView,null,!1),done(!1);var wtfScope=instrumentation_1.wtfStartTimeRange("NavController#_transition",enteringView&&enteringView.name);util_1.isBlank(opts)&&(opts={}),this._setAnimate(opts),leavingView||(leavingView=new view_controller_1.ViewController),enteringView||(enteringView=new view_controller_1.ViewController,enteringView.loaded()),this._render(transId,enteringView,leavingView,opts,function(hasCompleted){_this._transFinish(transId,enteringView,leavingView,opts.direction,hasCompleted),instrumentation_1.wtfEndTimeRange(wtfScope),done(hasCompleted)})},NavController.prototype._setAnimate=function(opts){(1!==this._views.length||this._init||this.isPortal)&&this.config.get("animate")!==!1||(opts.animate=!1)},NavController.prototype._render=function(transId,enteringView,leavingView,opts,done){var _this=this;if(enteringView.state===STATE_INACTIVE)return done();enteringView.state=STATE_INIT_ENTER,leavingView.state=STATE_INIT_LEAVE;var isAlreadyTransitioning=this.isTransitioning();enteringView.isLoaded()?this._postRender(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done):(this.setTransitioning(!0,500),this.loadPage(enteringView,null,opts,function(){enteringView.onReady?enteringView.onReady(function(){enteringView.loaded(),_this._postRender(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done)}):(enteringView.loaded(),_this._postRender(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done))}))},NavController.prototype._postRender=function(transId,enteringView,leavingView,isAlreadyTransitioning,opts,done){if(enteringView.state===STATE_INACTIVE)return done();if(opts.preload)opts.animate=!1;else{var lastestLeavingView=this.getByState(STATE_TRANS_ENTER)||leavingView;if(this._setZIndex(enteringView,lastestLeavingView,opts.direction),isAlreadyTransitioning)enteringView.domShow(!0,this._renderer),leavingView.domShow(!0,this._renderer);else for(var view,shouldShow,i=0,ii=this._views.length;ii>i;i++)view=this._views[i],shouldShow=view===enteringView||view===leavingView||view.isOverlay||(ii-1>i?this._views[i+1].isOverlay:!1),view.domShow(shouldShow,this._renderer);leavingView.fireOtherLifecycles&&enteringView.willEnter(),enteringView.fireOtherLifecycles&&leavingView.willLeave()}this._beforeTrans(enteringView,leavingView,opts,done)},NavController.prototype._beforeTrans=function(enteringView,leavingView,opts,done){var _this=this;return enteringView.state===STATE_INACTIVE?done():(enteringView.state=STATE_TRANS_ENTER,leavingView.state=STATE_TRANS_LEAVE,void this._zone.runOutsideAngular(function(){var transitionOpts={animation:opts.animation,direction:opts.direction,duration:opts.duration,easing:opts.easing,renderDelay:opts.transitionDelay||_this._trnsDelay,isRTL:_this.config.platform.isRTL()},transAnimation=transition_1.Transition.createTransition(enteringView,leavingView,transitionOpts);_this._trans&&_this._trans.destroy(),_this._trans=transAnimation,opts.animate===!1&&transAnimation.duration(0);var duration=transAnimation.getDuration(),enableApp=64>duration;_this._app.setEnabled(enableApp,duration),_this.setTransitioning(!enableApp,duration),enteringView.viewType&&transAnimation.before.addClass(enteringView.viewType),transAnimation.onFinish(function(trans){trans.destroy(),_this._afterTrans(enteringView,leavingView,opts,trans.hasCompleted,done)}),opts.progressAnimation?transAnimation.progressStart():transAnimation.play()}))},NavController.prototype._afterTrans=function(enteringView,leavingView,opts,hasCompleted,done){var _this=this;this._zone.run(function(){return!opts.preload&&hasCompleted&&(leavingView.fireOtherLifecycles&&enteringView.didEnter(),enteringView.fireOtherLifecycles&&leavingView.didLeave()),enteringView.state===STATE_INACTIVE?done(hasCompleted):void(opts.keyboardClose!==!1&&_this._keyboard.isOpen()?(_this._keyboard.close(),_this._keyboard.onClose(function(){done(hasCompleted)},32)):done(hasCompleted))})},NavController.prototype._transFinish=function(transId,enteringView,leavingView,direction,hasCompleted){var _this=this;transId===this._transIds?(hasCompleted?(enteringView.state!==STATE_REMOVE_AFTER_TRANS&&(enteringView.state=STATE_ACTIVE),leavingView.state!==STATE_REMOVE_AFTER_TRANS&&(leavingView.state=STATE_INACTIVE),this._cleanup(),leavingView=this.getPrevious(enteringView),this.hasOverlay()?enteringView.domShow(!0,this._renderer):this._views.forEach(function(view){var shouldShow=view===enteringView||view===leavingView;view.domShow(shouldShow,_this._renderer)}),this._init||(this._init=!0,this._renderer.setElementClass(this.elementRef.nativeElement,"has-views",!0))):(leavingView.state=STATE_ACTIVE,enteringView.state=STATE_INACTIVE),this._app&&this._app.setEnabled(!0),this.setTransitioning(!1),null!==direction&&hasCompleted&&!this.isPortal&&this.routers.forEach(function(router){router.stateChange(direction,enteringView)}),this._sbCheck(),this._portal&&this._portal._views.forEach(function(view){view.data&&view.data.dismissOnPageChange&&view.dismiss()})):(enteringView.state===STATE_TRANS_ENTER&&(enteringView.state=STATE_INACTIVE),leavingView.state===STATE_TRANS_LEAVE&&(leavingView.state=STATE_INACTIVE))},NavController.prototype._cleanup=function(){for(var _this=this,activeViewIndex=this.indexOf(this.getActive()),destroys=this._views.filter(function(v){return v.state===STATE_REMOVE_AFTER_TRANS}),i=activeViewIndex+1;i<this._views.length;i++)this._views[i].state===STATE_INACTIVE&&destroys.push(this._views[i]);destroys.forEach(function(view){_this._views.splice(_this.indexOf(view),1),view.destroy()});var shouldResetZIndex=this._views.some(function(v){return v.zIndex<0});shouldResetZIndex&&this._views.forEach(function(view){view.setZIndex(view.zIndex+INIT_ZINDEX+1,_this._renderer)})},NavController.prototype.getActiveChildNav=function(){return this._children[this._children.length-1]},NavController.prototype.registerChildNav=function(nav){this._children.push(nav)},NavController.prototype.unregisterChildNav=function(nav){var index=this._children.indexOf(nav);index>-1&&this._children.splice(index,1)},NavController.prototype.ngOnDestroy=function(){for(var i=this._views.length-1;i>=0;i--)this._views[i].destroy();this._views.length=0,this.parent&&this.parent.unregisterChildNav&&this.parent.unregisterChildNav(this)},NavController.prototype.loadPage=function(view,navbarContainerRef,opts,done){var _this=this,wtfTimeRangeScope=instrumentation_1.wtfStartTimeRange("NavController#loadPage",view.name);this._compiler&&this._compiler.compileInHost(view.componentType).then(function(hostProtoViewRef){var wtfScope=instrumentation_1.wtfCreateScope("NavController#loadPage_After_Compile")(),providers=_this.providers.concat(core_1.Injector.resolve([core_1.provide(view_controller_1.ViewController,{useValue:view}),core_1.provide(nav_params_1.NavParams,{useValue:view.getNavParams()})])),location=_this.elementRef;_this._anchorName&&(location=_this._viewManager.getNamedElementInComponentView(location,_this._anchorName));
var viewContainer=_this._viewManager.getViewContainer(location),hostViewRef=viewContainer.createHostView(hostProtoViewRef,viewContainer.length,providers),pageElementRef=_this._viewManager.getHostElement(hostViewRef),component=_this._viewManager.getComponent(pageElementRef),cssClassName=util_1.pascalCaseToDashCase(view.componentType.name);_this._renderer.setElementClass(pageElementRef.nativeElement,cssClassName,!0),view.addDestroy(function(){_this._renderer.setElementAttribute(pageElementRef.nativeElement,"class",null),_this._renderer.setElementAttribute(pageElementRef.nativeElement,"style",null);var index=viewContainer.indexOf(hostViewRef);hostViewRef.destroyed||-1===index||viewContainer.remove(index),view.setInstance(null)}),view.setInstance(component),view.setChangeDetector(hostViewRef.changeDetectorRef),view.setPageRef(pageElementRef),navbarContainerRef||(navbarContainerRef=view.getNavbarViewRef());var navbarTemplateRef=view.getNavbarTemplateRef();if(navbarContainerRef&&navbarTemplateRef){var navbarViewRef_1=navbarContainerRef.createEmbeddedView(navbarTemplateRef);view.addDestroy(function(){var index=navbarContainerRef.indexOf(navbarViewRef_1);!navbarViewRef_1.destroyed&&index>-1&&navbarContainerRef.remove(index)})}opts.postLoad&&opts.postLoad(view),instrumentation_1.wtfEndTimeRange(wtfTimeRangeScope),instrumentation_1.wtfLeave(wtfScope),done(view)})},NavController.prototype.swipeBackStart=function(){var opts={direction:"back",progressAnimation:!0},leavingView=this._remove(this._views.length-1,1);if(leavingView){opts.animation=leavingView.getTransitionName(opts.direction);var enteringView=this.getByState(STATE_INIT_ENTER);this._transition(enteringView,leavingView,opts,function(hasCompleted){})}},NavController.prototype.swipeBackProgress=function(stepValue){this._trans&&this._sbGesture&&(this._app.setEnabled(!1,4e3),this.setTransitioning(!0,4e3),this._trans.progressStep(stepValue))},NavController.prototype.swipeBackEnd=function(shouldComplete,currentStepValue){this._trans&&this._sbGesture&&this._trans.progressEnd(shouldComplete,currentStepValue)},NavController.prototype._sbCheck=function(){var _this=this;if(this._sbEnabled){if(!this._sbGesture){var opts={edge:"left",threshold:this._sbThreshold};this._sbGesture=new swipe_back_1.SwipeBackGesture(this.getNativeElement(),opts,this)}this.canSwipeBack()?this._sbGesture.isListening||this._zone.runOutsideAngular(function(){_this._sbGesture.listen()}):this._sbGesture.isListening&&this._sbGesture.unlisten()}},NavController.prototype.canSwipeBack=function(){return this._sbEnabled&&!this.isTransitioning()&&this._app.isEnabled()&&this.canGoBack()},NavController.prototype.canGoBack=function(){var activeView=this.getActive();return activeView?activeView.enableBack():!1},NavController.prototype.isTransitioning=function(){return this._trnsTime>Date.now()},NavController.prototype.setTransitioning=function(isTransitioning,fallback){void 0===fallback&&(fallback=700),this._trnsTime=isTransitioning?Date.now()+fallback:0},NavController.prototype.hasOverlay=function(){for(var i=this._views.length-1;i>=0;i--)if(this._views[i].isOverlay)return!0;return!1},NavController.prototype.getByState=function(state){for(var i=this._views.length-1;i>=0;i--)if(this._views[i].state===state)return this._views[i];return null},NavController.prototype.getByIndex=function(index){return index<this._views.length&&index>-1?this._views[index]:null},NavController.prototype.getActive=function(){return this.getByState(STATE_ACTIVE)},NavController.prototype.isActive=function(view){return!(!view||view.state!==STATE_ACTIVE)},NavController.prototype.getPrevious=function(view){return this.getByIndex(this.indexOf(view)-1)},NavController.prototype.first=function(){return this._views.length?this._views[0]:null},NavController.prototype.last=function(){return this._views.length?this._views[this._views.length-1]:null},NavController.prototype.indexOf=function(view){return this._views.indexOf(view)},NavController.prototype.length=function(){return this._views.length},Object.defineProperty(NavController.prototype,"rootNav",{get:function(){for(var nav=this;nav.parent;)nav=nav.parent;return nav},enumerable:!0,configurable:!0}),NavController.prototype.registerRouter=function(router){this.routers.push(router)},NavController.prototype._incId=function(view){view.id=this.id+"-"+ ++this._ids},NavController.prototype._setZIndex=function(enteringView,leavingView,direction){if(enteringView)if(leavingView&&leavingView.isLoaded())"back"===direction?enteringView.setZIndex(leavingView.zIndex-1,this._renderer):enteringView.setZIndex(leavingView.zIndex+1,this._renderer);else{var previousView=this.getPrevious(enteringView);previousView&&previousView.isLoaded()?enteringView.setZIndex(previousView.zIndex+1,this._renderer):enteringView.setZIndex(this.isPortal?PORTAL_ZINDEX:INIT_ZINDEX,this._renderer)}},NavController}(ion_1.Ion);exports.NavController=NavController;var STATE_ACTIVE="active",STATE_INACTIVE="inactive",STATE_INIT_ENTER="init_enter",STATE_INIT_LEAVE="init_leave",STATE_TRANS_ENTER="trans_enter",STATE_TRANS_LEAVE="trans_leave",STATE_REMOVE="remove",STATE_REMOVE_AFTER_TRANS="remove_after_trans",STATE_FORCE_ACTIVE="force_active",INIT_ZINDEX=100,PORTAL_ZINDEX=9999,ctrlIds=-1},{"../../transitions/transition":352,"../../util/util":363,"../ion":281,"./nav-params":296,"./swipe-back":302,"./view-controller":303,"angular2/core":11,"angular2/instrumentation":13}],296:[function(require,module,exports){"use strict";var NavParams=function(){function NavParams(data){void 0===data&&(data={}),this.data=data}return NavParams.prototype.get=function(param){return this.data[param]},NavParams}();exports.NavParams=NavParams},{}],297:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),app_1=require("../app/app"),config_1=require("../../config/config"),keyboard_1=require("../../util/keyboard"),nav_controller_1=require("./nav-controller"),view_controller_1=require("./view-controller"),Portal=function(_super){function Portal(hostNavCtrl,viewCtrl,app,config,keyboard,elementRef,compiler,viewManager,zone,renderer){_super.call(this,hostNavCtrl,app,config,keyboard,elementRef,null,compiler,viewManager,zone,renderer),this.isPortal=!0}return __extends(Portal,_super),Portal=__decorate([core_1.Directive({selector:"[portal]"}),__param(0,core_1.Optional()),__param(1,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController,view_controller_1.ViewController,app_1.IonicApp,config_1.Config,keyboard_1.Keyboard,core_1.ElementRef,core_1.Compiler,core_1.AppViewManager,core_1.NgZone,core_1.Renderer])],Portal)}(nav_controller_1.NavController);exports.Portal=Portal},{"../../config/config":332,"../../util/keyboard":361,"../app/app":267,"./nav-controller":295,"./view-controller":303,"angular2/core":11}],298:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),nav_controller_1=require("./nav-controller"),nav_registry_1=require("./nav-registry"),NavPush=function(){function NavPush(_nav,registry){this._nav=_nav,this.registry=registry}return NavPush.prototype.onClick=function(){var destination,params;if(this.navPush instanceof Array){if(this.navPush.length>2)throw"Too many [navPush] arguments, expects [View, { params }]";destination=this.navPush[0],params=this.navPush[1]||this.navParams}else destination=this.navPush,params=this.navParams;"string"==typeof destination&&(destination=this.registry.get(destination)),this._nav&&this._nav.push(destination,params)},__decorate([core_1.Input(),__metadata("design:type",Object)],NavPush.prototype,"navPush",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],NavPush.prototype,"navParams",void 0),NavPush=__decorate([core_1.Directive({selector:"[navPush]",host:{"(click)":"onClick()",role:"link"}}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController,nav_registry_1.NavRegistry])],NavPush)}();exports.NavPush=NavPush;var NavPop=function(){function NavPop(_nav){this._nav=_nav}return NavPop.prototype.onClick=function(){this._nav&&this._nav.pop()},NavPop=__decorate([core_1.Directive({selector:"[nav-pop]",host:{"(click)":"onClick()",role:"link"}}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController])],NavPop)}();exports.NavPop=NavPop},{"./nav-controller":295,"./nav-registry":299,"angular2/core":11}],299:[function(require,module,exports){"use strict";var NavRegistry=function(){function NavRegistry(pages){void 0===pages&&(pages=[]);var pagePairs=pages.map(function(page){return[page.name,page]});this._pages=new Map;for(var i=0;i<pagePairs.length;i++){var pair=pagePairs[i];this._pages.set(pair[0],pair[1])}}return NavRegistry.prototype.get=function(pageName){return this._pages.get(pageName)},NavRegistry.prototype.set=function(page){this._pages.set(page.name,page)},NavRegistry}();exports.NavRegistry=NavRegistry},{}],300:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),router_1=require("angular2/router"),nav_1=require("./nav"),NavRouter=function(_super){function NavRouter(elementRef,loader,parentRouter,nameAttr,nav){nav.parent&&(parentRouter=parentRouter.childRouter(nav)),_super.call(this,elementRef,loader,parentRouter,nameAttr),this._nav=nav,this._parent=parentRouter,nav.registerRouter(this)}return __extends(NavRouter,_super),NavRouter.prototype.stateChange=function(direction,viewCtrl){if(viewCtrl){var pathRecognizer=this.getPathRecognizerByComponent(viewCtrl.componentType);if(pathRecognizer){var componentInstruction=pathRecognizer.generate(viewCtrl.data),instruction=new ResolvedInstruction(componentInstruction,null,null);if(instruction){var url=instruction.toRootUrl();if(url===this._lastUrl)return;this._lastUrl=url,this._parent.navigateByInstruction(instruction)}}}},NavRouter.prototype.activate=function(nextInstruction){this._currentInstruction;this._currentInstruction=nextInstruction;var url,componentType=nextInstruction.componentType,instruction=(this._parent.childRouter(componentType),new ResolvedInstruction(nextInstruction,null,null));return instruction&&(url=instruction.toRootUrl(),url===this._lastUrl)?Promise.resolve():this._nav.push(componentType,nextInstruction.params)},NavRouter.prototype.reuse=function(nextInstruction){return Promise.resolve()},NavRouter.prototype.getPathRecognizerByComponent=function(componentType){var rules=this._parent.registry._rules,pathRecognizer=null;return rules.forEach(function(rule){pathRecognizer=rule.rules.find(function(routeRule){return routeRule.handler.componentType===componentType})}),pathRecognizer},NavRouter=__decorate([core_1.Directive({selector:"ion-nav"}),__param(3,core_1.Attribute("name")),__metadata("design:paramtypes",[core_1.ElementRef,core_1.DynamicComponentLoader,router_1.Router,String,nav_1.Nav])],NavRouter)}(router_1.RouterOutlet);exports.NavRouter=NavRouter;var ResolvedInstruction=function(_super){function ResolvedInstruction(component,child,auxInstruction){_super.call(this,component,child,auxInstruction),this.component=component,this.child=child,this.auxInstruction=auxInstruction}return __extends(ResolvedInstruction,_super),ResolvedInstruction.prototype.resolveComponent=function(){return Promise.resolve(this.component)},ResolvedInstruction}(router_1.Instruction)},{"./nav":301,"angular2/core":11,"angular2/router":16}],301:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),app_1=require("../app/app"),config_1=require("../../config/config"),keyboard_1=require("../../util/keyboard"),util_1=require("../../util/util"),nav_controller_1=require("./nav-controller"),nav_portal_1=require("./nav-portal"),view_controller_1=require("./view-controller"),Nav=function(_super){function Nav(parent,viewCtrl,app,config,keyboard,elementRef,compiler,viewManager,zone,renderer){_super.call(this,parent,app,config,keyboard,elementRef,"contents",compiler,viewManager,zone,renderer),this._hasInit=!1,viewCtrl&&(viewCtrl.setContent(this),viewCtrl.setContentRef(elementRef)),parent?parent.registerChildNav(this):app&&this._app.setRootNav(this)}return __extends(Nav,_super),Object.defineProperty(Nav.prototype,"root",{get:function(){return this._root},set:function(page){this._root=page,this._hasInit&&this.setRoot(page)},enumerable:!0,configurable:!0}),Object.defineProperty(Nav.prototype,"swipeBackEnabled",{get:function(){return this._sbEnabled},set:function(val){this._sbEnabled=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Nav.prototype.ngOnInit=function(){if(this._hasInit=!0,this._root){if("function"!=typeof this._root)throw"The [root] property in <ion-nav> must be given a reference to a component class from within the constructor.";this.push(this._root)}},Object.defineProperty(Nav.prototype,"_navPortal",{set:function(val){this.setPortal(val)},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",core_1.Type)],Nav.prototype,"root",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Nav.prototype,"swipeBackEnabled",null),__decorate([core_1.ViewChild(nav_portal_1.Portal),__metadata("design:type",nav_portal_1.Portal),__metadata("design:paramtypes",[nav_portal_1.Portal])],Nav.prototype,"_navPortal",null),Nav=__decorate([core_1.Component({selector:"ion-nav",template:"<div #contents></div><div portal></div>",directives:[nav_portal_1.Portal],encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Optional()),__param(1,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController,view_controller_1.ViewController,app_1.IonicApp,config_1.Config,keyboard_1.Keyboard,core_1.ElementRef,core_1.Compiler,core_1.AppViewManager,core_1.NgZone,core_1.Renderer])],Nav)}(nav_controller_1.NavController);exports.Nav=Nav},{"../../config/config":332,"../../util/keyboard":361,"../../util/util":363,"../app/app":267,"./nav-controller":295,"./nav-portal":297,"./view-controller":303,"angular2/core":11}],302:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},slide_edge_gesture_1=require("../../gestures/slide-edge-gesture"),util_1=require("../../util/util"),SwipeBackGesture=function(_super){function SwipeBackGesture(element,options,_nav){_super.call(this,element,util_1.assign({direction:"x",maxEdgeStart:75},options)),this._nav=_nav}return __extends(SwipeBackGesture,_super),SwipeBackGesture.prototype.canStart=function(ev){return ev.angle>-40&&ev.angle<40&&ev.distance<50&&this._nav.canSwipeBack()?_super.prototype.canStart.call(this,ev):!1},SwipeBackGesture.prototype.onSlideBeforeStart=function(){this._nav.swipeBackStart()},SwipeBackGesture.prototype.onSlide=function(slide){var stepValue=slide.distance/slide.max;this._nav.swipeBackProgress(stepValue)},SwipeBackGesture.prototype.onSlideEnd=function(slide,ev){var shouldComplete=Math.abs(ev.velocityX)>.2||Math.abs(slide.delta)>.5*Math.abs(slide.max),currentStepValue=slide.distance/slide.max;this._nav.swipeBackEnd(shouldComplete,currentStepValue)},SwipeBackGesture}(slide_edge_gesture_1.SlideEdgeGesture);exports.SwipeBackGesture=SwipeBackGesture},{"../../gestures/slide-edge-gesture":340,"../../util/util":363}],303:[function(require,module,exports){"use strict";function ctrlFn(viewCtrl,fnName){if(viewCtrl.instance&&viewCtrl.instance[fnName])try{viewCtrl.instance[fnName]()}catch(e){}}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),nav_params_1=require("./nav-params"),util_1=require("../../util/util"),ViewController=function(){function ViewController(componentType,data){this.componentType=componentType,this._destroys=[],this._hdAttr=null,this._leavingOpts=null,this._loaded=!1,this._onDismiss=null,this.instance={},this.state="",this.viewType="",this.fireOtherLifecycles=!0,this.isOverlay=!1,this.usePortal=!1,this._emitter=new core_1.EventEmitter,this.data=data instanceof nav_params_1.NavParams?data.data:util_1.isPresent(data)?data:{}}return ViewController.prototype.subscribe=function(generatorOrNext){return this._emitter.subscribe(generatorOrNext)},ViewController.prototype.emit=function(data){this._emitter.emit(data)},ViewController.prototype.onDismiss=function(callback){this._onDismiss=callback},ViewController.prototype.dismiss=function(data,role){var _this=this;return this._nav.remove(this._nav.indexOf(this),1,this._leavingOpts).then(function(){return _this._onDismiss&&_this._onDismiss(data,role),data})},ViewController.prototype.setNav=function(navCtrl){this._nav=navCtrl},ViewController.prototype.getTransitionName=function(direction){return this._nav&&this._nav.config.get("pageTransition")},ViewController.prototype.getNavParams=function(){return new nav_params_1.NavParams(this.data)},ViewController.prototype.setLeavingOpts=function(opts){this._leavingOpts=opts},ViewController.prototype.enableBack=function(){if(this._nav){var previousItem=this._nav.getPrevious(this);return!!previousItem}return!1},ViewController.prototype.setChangeDetector=function(cd){this._cd=cd},ViewController.prototype.setInstance=function(instance){this.instance=instance},Object.defineProperty(ViewController.prototype,"name",{get:function(){return this.componentType?this.componentType.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(ViewController.prototype,"index",{get:function(){return this._nav?this._nav.indexOf(this):-1},enumerable:!0,configurable:!0}),ViewController.prototype.isRoot=function(){return this.isFirst()},ViewController.prototype.isFirst=function(){return this._nav?this._nav.first()===this:!1},ViewController.prototype.isLast=function(){return this._nav?this._nav.last()===this:!1},ViewController.prototype.domShow=function(shouldShow,renderer){if(this._pgRef&&(shouldShow&&""===this._hdAttr||!shouldShow&&""!==this._hdAttr)){this._hdAttr=shouldShow?null:"",renderer.setElementAttribute(this._pgRef.nativeElement,"hidden",this._hdAttr);var navbarRef=this.navbarRef();navbarRef&&renderer.setElementAttribute(navbarRef.nativeElement,"hidden",this._hdAttr)}},ViewController.prototype.setZIndex=function(zIndex,renderer){this._pgRef&&zIndex!==this.zIndex&&(this.zIndex=zIndex,renderer.setElementStyle(this._pgRef.nativeElement,"z-index",zIndex.toString()))},ViewController.prototype.setNavbarTemplateRef=function(templateRef){this._nbTmpRef=templateRef},ViewController.prototype.getNavbarTemplateRef=function(){return this._nbTmpRef},ViewController.prototype.getNavbarViewRef=function(){return this._nbVwRef},ViewController.prototype.setNavbarViewRef=function(viewContainerRef){this._nbVwRef=viewContainerRef},ViewController.prototype.setPageRef=function(elementRef){this._pgRef=elementRef},ViewController.prototype.pageRef=function(){return this._pgRef},ViewController.prototype.setContentRef=function(elementRef){this._cntRef=elementRef},ViewController.prototype.contentRef=function(){return this._cntRef},ViewController.prototype.setContent=function(directive){this._cntDir=directive},ViewController.prototype.getContent=function(){return this._cntDir},ViewController.prototype.setNavbar=function(directive){this._nbDir=directive},ViewController.prototype.getNavbar=function(){return this._nbDir},ViewController.prototype.hasNavbar=function(){return!!this.getNavbar()},ViewController.prototype.navbarRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getElementRef()},ViewController.prototype.titleRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getTitleRef()},ViewController.prototype.navbarItemRefs=function(){var navbar=this.getNavbar();return navbar&&navbar.getItemRefs()},ViewController.prototype.backBtnRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getBackButtonRef()},ViewController.prototype.backBtnTextRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getBackButtonTextRef()},ViewController.prototype.navbarBgRef=function(){var navbar=this.getNavbar();return navbar&&navbar.getBackgroundRef()},ViewController.prototype.setBackButtonText=function(val){var navbar=this.getNavbar();navbar&&navbar.setBackButtonText(val)},ViewController.prototype.showBackButton=function(shouldShow){var navbar=this.getNavbar();navbar&&(navbar.hideBackButton=!shouldShow)},ViewController.prototype.isLoaded=function(){return this._loaded},ViewController.prototype.loaded=function(){this._loaded=!0,ctrlFn(this,"onPageLoaded")},ViewController.prototype.willEnter=function(){this._cd&&(this._cd.reattach(),this._cd.detectChanges()),ctrlFn(this,"onPageWillEnter")},ViewController.prototype.didEnter=function(){var navbar=this.getNavbar();navbar&&navbar.didEnter(),ctrlFn(this,"onPageDidEnter")},ViewController.prototype.willLeave=function(){ctrlFn(this,"onPageWillLeave")},ViewController.prototype.didLeave=function(){ctrlFn(this,"onPageDidLeave"),this._cd&&this._cd.detach()},ViewController.prototype.willUnload=function(){ctrlFn(this,"onPageWillUnload")},ViewController.prototype.addDestroy=function(destroyFn){this._destroys.push(destroyFn)},ViewController.prototype.destroy=function(){ctrlFn(this,"onPageDidUnload");for(var i=0;i<this._destroys.length;i++)this._destroys[i]();this._destroys=[]},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],ViewController.prototype,"_emitter",void 0),ViewController}();exports.ViewController=ViewController},{"../../util/util":363,"./nav-params":296,"angular2/core":11}],304:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),ion_1=require("../ion"),icon_1=require("../icon/icon"),toolbar_1=require("../toolbar/toolbar"),config_1=require("../../config/config"),app_1=require("../app/app"),util_1=require("../../util/util"),view_controller_1=require("../nav/view-controller"),nav_controller_1=require("../nav/nav-controller"),BackButton=function(_super){function BackButton(_nav,elementRef,navbar){_super.call(this,elementRef),this._nav=_nav,navbar&&navbar.setBackButtonRef(elementRef)}return __extends(BackButton,_super),BackButton.prototype.goBack=function(ev){ev.stopPropagation(),ev.preventDefault(),this._nav&&this._nav.pop()},BackButton=__decorate([core_1.Directive({selector:".back-button",host:{"(click)":"goBack($event)"}}),__param(0,core_1.Optional()),__param(2,core_1.Optional()),__param(2,core_1.Inject(core_1.forwardRef(function(){return Navbar}))),__metadata("design:paramtypes",[nav_controller_1.NavController,core_1.ElementRef,Navbar])],BackButton)}(ion_1.Ion),BackButtonText=function(){function BackButtonText(elementRef,navbar){navbar.setBackButtonTextRef(elementRef)}return BackButtonText=__decorate([core_1.Directive({selector:".back-button-text"}),__param(1,core_1.Inject(core_1.forwardRef(function(){return Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,Navbar])],BackButtonText)}(),ToolbarBackground=function(){function ToolbarBackground(elementRef,navbar){navbar.setBackgroundRef(elementRef)}return ToolbarBackground=__decorate([core_1.Directive({selector:".toolbar-background"}),__param(1,core_1.Inject(core_1.forwardRef(function(){return Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,Navbar])],ToolbarBackground)}(),Navbar=function(_super){function Navbar(_app,viewCtrl,elementRef,config,_renderer){_super.call(this,elementRef),this._app=_app,this._renderer=_renderer,this._hidden=!1,this._hideBb=!1,viewCtrl&&viewCtrl.setNavbar(this),this._bbIcon=config.get("backButtonIcon"),this._bbText=config.get("backButtonText"),this._sbPadding=config.getBoolean("statusbarPadding",!1)}return __extends(Navbar,_super),Object.defineProperty(Navbar.prototype,"hideBackButton",{get:function(){return this._hideBb},set:function(val){this._hideBb=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Navbar.prototype.setBackButtonText=function(text){this._bbText=text},Navbar.prototype.getBackButtonRef=function(){return this._bbRef},Navbar.prototype.setBackButtonRef=function(backButtonElementRef){this._bbRef=backButtonElementRef},Navbar.prototype.getBackButtonTextRef=function(){return this._bbtRef},Navbar.prototype.setBackButtonTextRef=function(backButtonTextElementRef){this._bbtRef=backButtonTextElementRef},Navbar.prototype.setBackgroundRef=function(backgrouneElementRef){this._bgRef=backgrouneElementRef},Navbar.prototype.getBackgroundRef=function(){return this._bgRef},Navbar.prototype.didEnter=function(){try{this._app.setTitle(this.getTitleText())}catch(e){}},Navbar.prototype.setHidden=function(isHidden){this._hidden=isHidden},__decorate([core_1.Input(),__metadata("design:type",Boolean)],Navbar.prototype,"hideBackButton",null),Navbar=__decorate([core_1.Component({selector:"ion-navbar",template:'<div class="toolbar-background"></div><button category="bar-button" class="back-button" [hidden]="_hideBb"><span class="button-inner"><ion-icon class="back-button-icon" [name]="_bbIcon"></ion-icon><span class="back-button-text"><span class="back-default">{{_bbText}}</span></span></span><ion-button-effect></ion-button-effect></button><ng-content select="[menuToggle],ion-buttons[left]"></ng-content><ng-content select="ion-buttons[start]"></ng-content><ng-content select="ion-buttons[end],ion-buttons[right]"></ng-content><div class="toolbar-content"><ng-content></ng-content></div>',host:{"[hidden]":"_hidden","class":"toolbar","[class.statusbar-padding]":"_sbPadding"},directives:[BackButton,BackButtonText,icon_1.Icon,ToolbarBackground]}),__param(1,core_1.Optional()),__metadata("design:paramtypes",[app_1.IonicApp,view_controller_1.ViewController,core_1.ElementRef,config_1.Config,core_1.Renderer])],Navbar)}(toolbar_1.ToolbarBase);exports.Navbar=Navbar;var NavbarTemplate=function(){function NavbarTemplate(viewContainerRef,templateRef,viewCtrl){viewCtrl&&(viewCtrl.setNavbarTemplateRef(templateRef),viewCtrl.setNavbarViewRef(viewContainerRef))}return NavbarTemplate=__decorate([core_1.Directive({selector:"template[navbar]"}),__param(2,core_1.Optional()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,view_controller_1.ViewController])],NavbarTemplate)}();exports.NavbarTemplate=NavbarTemplate},{"../../config/config":332,"../../util/util":363,"../app/app":267,"../icon/icon":274,"../ion":281,"../nav/nav-controller":295,"../nav/view-controller":303,"../toolbar/toolbar":327,"angular2/core":11}],305:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),util_1=require("../../util/util"),Option=function(){
function Option(_elementRef){this._elementRef=_elementRef,this._checked=!1,this.select=new core_1.EventEmitter}return Object.defineProperty(Option.prototype,"checked",{get:function(){return this._checked},set:function(val){this._checked=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Option.prototype,"value",{get:function(){return util_1.isPresent(this._value)?this._value:this.text},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Object.defineProperty(Option.prototype,"text",{get:function(){return this._elementRef.nativeElement.textContent},enumerable:!0,configurable:!0}),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Option.prototype,"select",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Option.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Option.prototype,"value",null),Option=__decorate([core_1.Directive({selector:"ion-option"}),__metadata("design:paramtypes",[core_1.ElementRef])],Option)}();exports.Option=Option},{"../../util/util":363,"angular2/core":11}],306:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),form_1=require("../../util/form"),util_1=require("../../util/util"),item_1=require("../item/item"),radio_group_1=require("./radio-group"),RadioButton=function(){function RadioButton(_form,_item,_group){this._form=_form,this._item=_item,this._group=_group,this._checked=!1,this._disabled=!1,this._value=null,this.select=new core_1.EventEmitter,_form.register(this),_group&&(this.id="rb-"+_group.add(this)),_item&&(this.id="rb-"+_item.registerInput("radio"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-radio",!0))}return Object.defineProperty(RadioButton.prototype,"value",{get:function(){return util_1.isBlank(this._value)?this.id:this._value},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Object.defineProperty(RadioButton.prototype,"checked",{get:function(){return this._checked},set:function(isChecked){this._checked=util_1.isTrueProperty(isChecked),this._item&&this._item.setCssClass("item-radio-checked",this._checked)},enumerable:!0,configurable:!0}),Object.defineProperty(RadioButton.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-radio-disabled",this._disabled)},enumerable:!0,configurable:!0}),RadioButton.prototype._click=function(ev){ev.preventDefault(),ev.stopPropagation(),this.checked=!0,this.select.emit(this.value)},RadioButton.prototype.ngOnInit=function(){this._group&&util_1.isPresent(this._group.value)&&(this.checked=util_1.isCheckedProperty(this._group.value,this.value))},RadioButton.prototype.ngOnDestroy=function(){this._form.deregister(this),this._group.remove(this)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],RadioButton.prototype,"select",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],RadioButton.prototype,"value",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],RadioButton.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],RadioButton.prototype,"disabled",null),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],RadioButton.prototype,"_click",null),RadioButton=__decorate([core_1.Component({selector:"ion-radio",template:'<div class="radio-icon" [class.radio-checked]="_checked"><div class="radio-inner"></div></div><button role="radio" type="button" category="item-cover" [id]="id" [attr.aria-checked]="_checked" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"></button>',host:{"[class.radio-disabled]":"_disabled"},encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,item_1.Item,radio_group_1.RadioGroup])],RadioButton)}();exports.RadioButton=RadioButton},{"../../util/form":360,"../../util/util":363,"../item/item":284,"./radio-group":307,"angular2/core":11}],307:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),list_1=require("../list/list"),util_1=require("../../util/util"),RADIO_VALUE_ACCESSOR=new core_1.Provider(common_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return RadioGroup}),multi:!0}),RadioGroup=function(){function RadioGroup(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._btns=[],this._ids=-1,this._init=!1,this.change=new core_1.EventEmitter,this.id=++radioGroupIds}return RadioGroup.prototype.writeValue=function(val){this.value=val,this._init&&(this._update(),this.onTouched(),this.change.emit(val)),this._init=!0},RadioGroup.prototype.ngAfterContentInit=function(){var activeButton=this._btns.find(function(b){return b.checked});activeButton&&this._setActive(activeButton)},RadioGroup.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(val){fn(val),_this.value=val,_this._update(),_this.onTouched(),_this.change.emit(val)}},RadioGroup.prototype.registerOnTouched=function(fn){this.onTouched=fn},RadioGroup.prototype._update=function(){var _this=this,hasChecked=!1;this._btns.forEach(function(radioButton){radioButton.checked=util_1.isCheckedProperty(_this.value,radioButton.value)&&!hasChecked,radioButton.checked&&(_this._setActive(radioButton),hasChecked=!0)})},RadioGroup.prototype._setActive=function(radioButton){this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-activedescendant",radioButton.id)},RadioGroup.prototype.add=function(button){var _this=this;return this._btns.push(button),button.select.subscribe(function(val){_this.onChange(val)}),this.id+"-"+ ++this._ids},RadioGroup.prototype.remove=function(button){var index=this._btns.indexOf(button);index>-1&&(button.value===this.value&&(this.value=null),this._btns.splice(index,1))},Object.defineProperty(RadioGroup.prototype,"_header",{set:function(header){header&&(header.id||(header.id="rg-hdr-"+this.id),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-describedby",header.id))},enumerable:!0,configurable:!0}),RadioGroup.prototype.onChange=function(val){this.value=val,this._update(),this.onTouched(),this.change.emit(val)},RadioGroup.prototype.onTouched=function(){},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],RadioGroup.prototype,"change",void 0),__decorate([core_1.ContentChild(list_1.ListHeader),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RadioGroup.prototype,"_header",null),RadioGroup=__decorate([core_1.Directive({selector:"[radio-group]",host:{"[attr.aria-activedescendant]":"activeId",role:"radiogroup"},providers:[RADIO_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],RadioGroup)}();exports.RadioGroup=RadioGroup;var radioGroupIds=-1},{"../../util/util":363,"../list/list":286,"angular2/common":9,"angular2/core":11}],308:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),config_1=require("../../config/config"),icon_1=require("../icon/icon"),refresher_1=require("./refresher"),spinner_1=require("../spinner/spinner"),RefresherContent=function(){function RefresherContent(r,_config){this.r=r,this._config=_config}return RefresherContent.prototype.ngOnInit=function(){this.pullingIcon||(this.pullingIcon=this._config.get("refresherPullingIcon","arrow-down")),this.refreshingSpinner||(this.refreshingSpinner=this._config.get("refresherRefreshingSpinner",this._config.get("spinner","ios")))},__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"pullingIcon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"pullingText",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"refreshingSpinner",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],RefresherContent.prototype,"refreshingText",void 0),RefresherContent=__decorate([core_1.Component({selector:"ion-refresher-content",template:'<div class="refresher-pulling"><div class="refresher-pulling-icon" *ngIf="pullingIcon"><ion-icon [name]="pullingIcon"></ion-icon></div><div class="refresher-pulling-text" [innerHTML]="pullingText" *ngIf="pullingText"></div></div><div class="refresher-refreshing"><div class="refresher-refreshing-icon"><ion-spinner [name]="refreshingSpinner"></ion-spinner></div><div class="refresher-refreshing-text" [innerHTML]="refreshingText" *ngIf="refreshingText"></div></div>',directives:[common_1.NgIf,icon_1.Icon,spinner_1.Spinner],host:{"[attr.state]":"r.state"},changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[refresher_1.Refresher,config_1.Config])],RefresherContent)}();exports.RefresherContent=RefresherContent},{"../../config/config":332,"../icon/icon":274,"../spinner/spinner":317,"./refresher":309,"angular2/common":9,"angular2/core":11}],309:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),content_1=require("../content/content"),util_1=require("../../util/util"),dom_1=require("../../util/dom"),Refresher=function(){function Refresher(_content,_zone,elementRef){this._content=_content,this._zone=_zone,this._appliedStyles=!1,this._lastStart=0,this._lastCheck=0,this._isEnabled=!0,this.state=STATE_INACTIVE,this.startY=null,this.currentY=null,this.deltaY=null,this.progress=0,this.pullMin=60,this.pullMax=null,this.closeDuration=280,this.snapbackDuration=280,this.refresh=new core_1.EventEmitter,this.pulling=new core_1.EventEmitter,this.start=new core_1.EventEmitter,_content.addCssClass("has-refresher");var ele=elementRef.nativeElement,deprecatedAttrs=["pullingIcon","pullingText","refreshingIcon","refreshingText","spinner"];deprecatedAttrs.forEach(function(attrName){ele.hasAttribute(attrName)}),!ele.children.length}return Object.defineProperty(Refresher.prototype,"enabled",{get:function(){return this._isEnabled},set:function(val){this._isEnabled=util_1.isTrueProperty(val),this._setListeners(this._isEnabled)},enumerable:!0,configurable:!0}),Refresher.prototype._onStart=function(ev){if(ev.touches&&ev.touches.length>1)return 1;var coord=dom_1.pointerCoord(ev),now=Date.now();return this._lastStart+100>now?2:(this._lastStart=now,"mousedown"!==ev.type||this._mMove||(this._mMove=this._content.addMouseMoveListener(this._onMove.bind(this))),this.startY=this.currentY=coord.y,this.progress=0,void(this.pullMax||(this.pullMax=this.pullMin+60)))},Refresher.prototype._onMove=function(ev){var _this=this;if(ev.touches&&ev.touches.length>1)return 1;if(null===this.startY||this.state===STATE_REFRESHING||this.state===STATE_CANCELLING||this.state===STATE_COMPLETING)return 2;var now=Date.now();if(this._lastCheck+16>now)return 3;this._lastCheck=now;var coord=dom_1.pointerCoord(ev);if(this.currentY=coord.y,this.deltaY=coord.y-this.startY,this.deltaY<=0)return this.progress=0,this.state!==STATE_INACTIVE&&this._zone.run(function(){_this.state=STATE_INACTIVE}),this._appliedStyles?(this._setCss(0,"",!1,""),5):6;if(this.state===STATE_INACTIVE){var scrollHostScrollTop=this._content.getContentDimensions().scrollTop;if(scrollHostScrollTop>0)return this.progress=0,this.startY=null,7;this.state=STATE_PULLING}return ev.preventDefault(),this._setCss(this.deltaY,"0ms",!0,""),this.deltaY?void this._zone.run(function(){_this._onMoveInZone()}):(this.progress=0,8)},Refresher.prototype._onMoveInZone=function(){return this.progress=this.deltaY/this.pullMin,this._didStart||(this._didStart=!0,this.start.emit(this)),this.pulling.emit(this),this.deltaY<this.pullMin?(this.state=STATE_PULLING,2):this.deltaY>this.pullMax?(this._beginRefresh(),3):(this.state=STATE_READY,4)},Refresher.prototype._onEnd=function(ev){var _this=this;this.state===STATE_READY?this._zone.run(function(){_this._beginRefresh()}):this.state===STATE_PULLING&&this._zone.run(function(){_this.cancel()}),this.startY=null,this._mMove&&(this._mMove(),this._mMove=null)},Refresher.prototype._beginRefresh=function(){this.state=STATE_REFRESHING,this._setCss(this.pullMin,this.snapbackDuration+"ms",!0,""),this.refresh.emit(this)},Refresher.prototype.complete=function(){this._close(STATE_COMPLETING,"120ms")},Refresher.prototype.cancel=function(){this._close(STATE_CANCELLING,"")},Refresher.prototype._close=function(state,delay){function close(ev){ev&&clearTimeout(timer),this.state=STATE_INACTIVE,this.progress=0,this._didStart=this.startY=this.currentY=this.deltaY=null,this._setCss(0,"0ms",!1,"")}var timer;timer=setTimeout(close.bind(this),600),this._content.onScrollElementTransitionEnd(close.bind(this)),this.state=state,this._setCss(0,"",!0,delay),this._mMove&&(this._mMove(),this._mMove=null)},Refresher.prototype._setCss=function(y,duration,overflowVisible,delay){this._appliedStyles=y>0;var content=this._content;content.setScrollElementStyle(dom_1.CSS.transform,y>0?"translateY("+y+"px) translateZ(0px)":"translateZ(0px)"),content.setScrollElementStyle(dom_1.CSS.transitionDuration,duration),content.setScrollElementStyle(dom_1.CSS.transitionDelay,delay),content.setScrollElementStyle("overflow",overflowVisible?"hidden":"")},Refresher.prototype._setListeners=function(shouldListen){var self=this,content=self._content;shouldListen?self._zone.runOutsideAngular(function(){self._tStart||(self._tStart=content.addTouchStartListener(self._onStart.bind(self))),self._tMove||(self._tMove=content.addTouchMoveListener(self._onMove.bind(self))),self._tEnd||(self._tEnd=content.addTouchEndListener(self._onEnd.bind(self))),self._mDown||(self._mDown=content.addMouseDownListener(self._onStart.bind(self))),self._mUp||(self._mUp=content.addMouseUpListener(self._onEnd.bind(self)))}):(self._mDown&&self._mDown(),self._mMove&&self._mMove(),self._mUp&&self._mUp(),self._tStart&&self._tStart(),self._tMove&&self._tMove(),self._tEnd&&self._tEnd(),self._mDown=self._mMove=self._mUp=self._tStart=self._tMove=self._tEnd=null)},Refresher.prototype.ngOnInit=function(){this._setListeners(this._isEnabled)},Refresher.prototype.ngOnDestroy=function(){this._setListeners(!1)},__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"pullMin",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"pullMax",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"closeDuration",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Refresher.prototype,"snapbackDuration",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Refresher.prototype,"enabled",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Refresher.prototype,"refresh",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Refresher.prototype,"pulling",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Refresher.prototype,"start",void 0),Refresher=__decorate([core_1.Directive({selector:"ion-refresher",host:{"[class.refresher-active]":'state !== "inactive"'}}),__param(0,core_1.Host()),__metadata("design:paramtypes",[content_1.Content,core_1.NgZone,core_1.ElementRef])],Refresher)}();exports.Refresher=Refresher;var STATE_INACTIVE="inactive",STATE_PULLING="pulling",STATE_READY="ready",STATE_REFRESHING="refreshing",STATE_CANCELLING="cancelling",STATE_COMPLETING="completing"},{"../../util/dom":357,"../../util/util":363,"../content/content":273,"angular2/core":11}],310:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),ion_1=require("../ion"),Scroll=function(_super){function Scroll(elementRef){_super.call(this,elementRef),this.maxScale=3,this.zoomDuration=250}return __extends(Scroll,_super),Scroll.prototype.ngOnInit=function(){this.scrollElement=this.getNativeElement().children[0]},Scroll.prototype.addScrollEventListener=function(handler){var _this=this;if(this.scrollElement)return this.scrollElement.addEventListener("scroll",handler),function(){_this.scrollElement.removeEventListener("scroll",handler)}},Scroll=__decorate([core_1.Component({selector:"ion-scroll",inputs:["scrollX","scrollY","zoom","maxZoom"],host:{"[class.scroll-x]":"scrollX","[class.scroll-y]":"scrollY"},template:'<scroll-content><div class="scroll-zoom-wrapper"><ng-content></ng-content></div></scroll-content>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.ElementRef])],Scroll)}(ion_1.Ion);exports.Scroll=Scroll},{"../ion":281,"angular2/core":11}],311:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),ion_1=require("../ion"),config_1=require("../../config/config"),icon_1=require("../icon/icon"),button_1=require("../button/button"),util_1=require("../../util/util"),SearchbarInput=function(){function SearchbarInput(_elementRef){this._elementRef=_elementRef}return SearchbarInput.prototype.stopInput=function(ev){ev.preventDefault(),ev.stopPropagation()},__decorate([core_1.HostListener("input",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],SearchbarInput.prototype,"stopInput",null),SearchbarInput=__decorate([core_1.Directive({selector:".searchbar-input"}),__metadata("design:paramtypes",[core_1.ElementRef])],SearchbarInput)}();exports.SearchbarInput=SearchbarInput;var Searchbar=function(_super){function Searchbar(_elementRef,_config,ngControl){_super.call(this,_elementRef),this._elementRef=_elementRef,this._config=_config,this.debounce=250,this.input=new core_1.EventEmitter,this.blur=new core_1.EventEmitter,this.focus=new core_1.EventEmitter,this.cancel=new core_1.EventEmitter,this.clear=new core_1.EventEmitter,this.value="",this.blurInput=!0,this.onChange=function(_){},this.onTouched=function(){},ngControl&&(ngControl.valueAccessor=this)}return __extends(Searchbar,_super),Searchbar.prototype.ngOnInit=function(){this.mode=this._config.get("mode");var hideCancelButton=this.hideCancelButton;"string"==typeof hideCancelButton&&(this.hideCancelButton=""===hideCancelButton||"true"===hideCancelButton),this.cancelButtonText=this.cancelButtonText||"Cancel",this.placeholder=this.placeholder||"Search",this.ngModel&&(this.value=this.ngModel),this.onChange(this.value),this.shouldLeftAlign=this.value&&""!==this.value.trim(),this.inputElement=this._elementRef.nativeElement.querySelector(".searchbar-input"),this.searchIconElement=this._elementRef.nativeElement.querySelector(".searchbar-search-icon"),this.setElementLeft()},Searchbar.prototype.ngAfterViewInit=function(){util_1.isPresent(this.value)||(this.value="",this.onChange(this.value))},Searchbar.prototype.setElementLeft=function(){"ios"===this.mode&&(this.shouldLeftAlign?(this.inputElement.removeAttribute("style"),this.searchIconElement.removeAttribute("style")):this.addElementLeft())},Searchbar.prototype.addElementLeft=function(){var tempSpan=document.createElement("span");tempSpan.innerHTML=this.placeholder,document.body.appendChild(tempSpan);var textWidth=tempSpan.offsetWidth;tempSpan.remove();var inputLeft="calc(50% - "+textWidth/2+"px)";this.inputElement.style.paddingLeft=inputLeft;var iconLeft="calc(50% - "+(textWidth/2+30)+"px)";this.searchIconElement.style.marginLeft=iconLeft},Searchbar.prototype.inputChanged=function(ev){var _this=this,value=ev.target.value;clearTimeout(this._tmr),this._tmr=setTimeout(function(){_this.value=value,_this.onChange(value),_this.input.emit(_this)},Math.round(this.debounce))},Searchbar.prototype.inputFocused=function(){this.focus.emit(this),this.isFocused=!0,this.shouldLeftAlign=!0,this.setElementLeft()},Searchbar.prototype.inputBlurred=function(){return this.blurInput===!1?(this.searchbarInput._elementRef.nativeElement.focus(),void(this.blurInput=!0)):(this.blur.emit(this),this.isFocused=!1,this.shouldLeftAlign=this.value&&""!==this.value.trim(),void this.setElementLeft())},Searchbar.prototype.clearInput=function(){this.clear.emit(this),this.value="",this.onChange(this.value),this.input.emit(this),this.blurInput=!1},Searchbar.prototype.cancelSearchbar=function(){this.cancel.emit(this),this.clearInput(),this.blurInput=!0},Searchbar.prototype.writeValue=function(value){this.value=value},Searchbar.prototype.registerOnChange=function(fn){this.onChange=fn},Searchbar.prototype.registerOnTouched=function(fn){this.onTouched=fn},__decorate([core_1.ViewChild(SearchbarInput),__metadata("design:type",Object)],Searchbar.prototype,"searchbarInput",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"cancelButtonText",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Searchbar.prototype,"hideCancelButton",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],Searchbar.prototype,"debounce",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Searchbar.prototype,"placeholder",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Searchbar.prototype,"ngModel",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"input",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"blur",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"focus",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"cancel",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Searchbar.prototype,"clear",void 0),__decorate([core_1.HostBinding("class.searchbar-focused"),__metadata("design:type",Object)],Searchbar.prototype,"isFocused",void 0),__decorate([core_1.HostBinding("class.searchbar-left-aligned"),__metadata("design:type",Object)],Searchbar.prototype,"shouldLeftAlign",void 0),Searchbar=__decorate([core_1.Component({selector:"ion-searchbar",host:{"[class.searchbar-has-value]":"value","[class.searchbar-hide-cancel]":"hideCancelButton"},template:'<div class="searchbar-input-container"><button (click)="cancelSearchbar()" (mousedown)="cancelSearchbar()" [hidden]="hideCancelButton" clear dark class="searchbar-md-cancel"><ion-icon name="arrow-back"></ion-icon></button><div class="searchbar-search-icon"></div><input [value]="value" (input)="inputChanged($event)" (blur)="inputBlurred()" (focus)="inputFocused()" class="searchbar-input" type="search" [attr.placeholder]="placeholder" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><button clear class="searchbar-clear-icon" (click)="clearInput()" (mousedown)="clearInput()"></button></div><button clear (click)="cancelSearchbar()" (mousedown)="cancelSearchbar()" [hidden]="hideCancelButton" class="searchbar-ios-cancel">{{cancelButtonText}}</button>',directives:[common_1.FORM_DIRECTIVES,common_1.NgIf,common_1.NgClass,icon_1.Icon,button_1.Button,SearchbarInput],encapsulation:core_1.ViewEncapsulation.None}),__param(2,core_1.Optional()),__metadata("design:paramtypes",[core_1.ElementRef,config_1.Config,common_1.NgControl])],Searchbar)}(ion_1.Ion);exports.Searchbar=Searchbar},{"../../config/config":332,"../../util/util":363,"../button/button":271,"../icon/icon":274,"../ion":281,"angular2/common":9,"angular2/core":11}],312:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),util_1=require("../../util/util"),SegmentButton=function(){function SegmentButton(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.select=new core_1.EventEmitter}return SegmentButton.prototype.onClick=function(ev){this.select.emit(this)},SegmentButton.prototype.ngOnInit=function(){!util_1.isPresent(this.value)},Object.defineProperty(SegmentButton.prototype,"isActive",{set:function(isActive){this._renderer.setElementClass(this._elementRef.nativeElement,"segment-activated",isActive),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-pressed",isActive)},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],SegmentButton.prototype,"value",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SegmentButton.prototype,"select",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],SegmentButton.prototype,"onClick",null),SegmentButton=__decorate([core_1.Component({selector:"ion-segment-button",template:"<ng-content></ng-content><ion-button-effect></ion-button-effect>",host:{tappable:"","class":"segment-button",role:"button"},encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],SegmentButton)}();exports.SegmentButton=SegmentButton;var Segment=function(){function Segment(ngControl){this.change=new core_1.EventEmitter,this.onChange=function(_){},this.onTouched=function(_){},ngControl&&(ngControl.valueAccessor=this)}return Segment.prototype.writeValue=function(value){if(this.value=util_1.isPresent(value)?value:"",this._buttons)for(var buttons=this._buttons.toArray(),_i=0,buttons_1=buttons;_i<buttons_1.length;_i++){var button=buttons_1[_i];button.isActive=button.value===this.value}},Segment.prototype.ngAfterViewInit=function(){for(var _this=this,buttons=this._buttons.toArray(),_i=0,buttons_2=buttons;_i<buttons_2.length;_i++){var button=buttons_2[_i];button.select.subscribe(function(selectedButton){_this.writeValue(selectedButton.value),_this.onChange(selectedButton.value),_this.change.emit(selectedButton)}),util_1.isPresent(this.value)&&(button.isActive=button.value===this.value)}},Segment.prototype.registerOnChange=function(fn){this.onChange=fn},Segment.prototype.registerOnTouched=function(fn){this.onTouched=fn},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Segment.prototype,"change",void 0),__decorate([core_1.ContentChildren(SegmentButton),__metadata("design:type",core_1.QueryList)],Segment.prototype,"_buttons",void 0),Segment=__decorate([core_1.Directive({selector:"ion-segment"}),__param(0,core_1.Optional()),__metadata("design:paramtypes",[common_1.NgControl])],Segment)}();exports.Segment=Segment},{"../../util/util":363,"angular2/common":9,"angular2/core":11}],313:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),alert_1=require("../alert/alert"),action_sheet_1=require("../action-sheet/action-sheet"),form_1=require("../../util/form"),item_1=require("../item/item"),util_1=require("../../util/util"),nav_controller_1=require("../nav/nav-controller"),option_1=require("../option/option"),SELECT_VALUE_ACCESSOR=new core_1.Provider(common_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Select}),multi:!0}),Select=function(){function Select(_form,_elementRef,_renderer,_item,_nav){this._form=_form,this._elementRef=_elementRef,this._renderer=_renderer,this._item=_item,this._nav=_nav,this._disabled=!1,this._multi=!1,this._values=[],this._texts=[],this._text="",this._isOpen=!1,this.cancelText="Cancel",this.okText="OK",this.alertOptions={},this.checked=!1,this["interface"]="",this.change=new core_1.EventEmitter,this.cancel=new core_1.EventEmitter,this._form.register(this),_item&&(this.id="sel-"+_item.registerInput("select"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-select",!0))}return Select.prototype._click=function(ev){0!==ev.detail&&(ev.preventDefault(),ev.stopPropagation(),this._open())},Select.prototype._keyup=function(ev){this._isOpen||this._open()},Select.prototype._open=function(){var _this=this;if(!this._disabled){var alertOptions=util_1.merge({},this.alertOptions);alertOptions.buttons=[{text:this.cancelText,role:"cancel",handler:function(){_this.cancel.emit(null)}}],!alertOptions.title&&this._item&&(alertOptions.title=this._item.getLabelText());var options=this._options.toArray();"action-sheet"===this["interface"]&&options.length>6&&(this["interface"]=null);var overlay;if("action-sheet"===this["interface"]){if(this._multi)throw new Error("action-sheet interface cannot use multivalue selector");alertOptions.buttons=alertOptions.buttons.concat(options.map(function(input){return{role:input.checked?"selected":"",text:input.text,handler:function(){_this.onChange(input.value),_this.change.emit(input.value)}}})),alertOptions.cssClass="select-action-sheet",overlay=action_sheet_1.ActionSheet.create(alertOptions)}else this["interface"]="alert",alertOptions.inputs=this._options.toArray().map(function(input){return{type:_this._multi?"checkbox":"radio",label:input.text,value:input.value,checked:input.checked}}),overlay=alert_1.Alert.create(alertOptions),this._multi?overlay.setCssClass("select-alert multiple-select-alert"):overlay.setCssClass("select-alert single-select-alert"),overlay.addButton({text:this.okText,handler:function(selectedValues){_this.onChange(selectedValues),_this.change.emit(selectedValues)}});this._nav.present(overlay,alertOptions),this._isOpen=!0,overlay.onDismiss(function(){_this._isOpen=!1})}},Object.defineProperty(Select.prototype,"multiple",{get:function(){return this._multi},set:function(val){this._multi=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Select.prototype,"text",{get:function(){return this._multi?this._texts:this._texts.join()},enumerable:!0,configurable:!0}),Object.defineProperty(Select.prototype,"options",{set:function(val){this._options=val,this._values.length||(this._values=val.toArray().filter(function(o){return o.checked}).map(function(o){return o.value})),this._updOpts()},enumerable:!0,configurable:!0}),Select.prototype._updOpts=function(){var _this=this;this._texts=[],this._options&&this._options.toArray().forEach(function(option){option.checked=_this._values.some(function(selectValue){return util_1.isCheckedProperty(selectValue,option.value)}),option.checked&&_this._texts.push(option.text)}),this._text=this._texts.join(", ")},Object.defineProperty(Select.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-select-disabled",this._disabled)},enumerable:!0,configurable:!0}),Select.prototype.writeValue=function(val){this._values=Array.isArray(val)?val:util_1.isBlank(val)?[]:[val],this._updOpts()},Select.prototype.ngAfterContentInit=function(){this._updOpts()},Select.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(val){fn(val),_this._values=Array.isArray(val)?val:util_1.isBlank(val)?[]:[val],_this._updOpts(),_this.onTouched()}},Select.prototype.registerOnTouched=function(fn){this.onTouched=fn},Select.prototype.onChange=function(val){this._values=Array.isArray(val)?val:util_1.isBlank(val)?[]:[val],this._updOpts(),this.onTouched()},Select.prototype.onTouched=function(){},Select.prototype.ngOnDestroy=function(){this._form.deregister(this)},__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"cancelText",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"okText",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"alertOptions",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"checked",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Select.prototype,"interface",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Select.prototype,"change",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Select.prototype,"cancel",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],Select.prototype,"_click",null),__decorate([core_1.HostListener("keyup.space",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],Select.prototype,"_keyup",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"multiple",null),__decorate([core_1.ContentChildren(option_1.Option),__metadata("design:type",core_1.QueryList),__metadata("design:paramtypes",[core_1.QueryList])],Select.prototype,"options",null),__decorate([core_1.Input(),__metadata("design:type",Object)],Select.prototype,"disabled",null),Select=__decorate([core_1.Component({selector:"ion-select",template:'<div class="select-text">{{_text}}</div><div class="select-icon"><div class="select-icon-inner"></div></div><button aria-haspopup="true" [id]="id" category="item-cover" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"></button>',host:{"[class.select-disabled]":"_disabled"},providers:[SELECT_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(3,core_1.Optional()),__param(4,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,core_1.ElementRef,core_1.Renderer,item_1.Item,nav_controller_1.NavController])],Select)}();exports.Select=Select},{"../../util/form":360,"../../util/util":363,"../action-sheet/action-sheet":265,"../alert/alert":266,"../item/item":284,"../nav/nav-controller":295,"../option/option":305,"angular2/common":9,"angular2/core":11}],314:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),platform_1=require("../../platform/platform"),DisplayWhen=function(){function DisplayWhen(conditions,platform,ngZone){var _this=this;if(this.isMatch=!1,this.platform=platform,conditions){this.conditions=conditions.split(",");for(var i=0;i<this.conditions.length;i++)if(this.conditions[i]&&platform.is(this.conditions[i]))return void(this.isMatch=!0);return this.orientation()?void platform.onResize(function(){ngZone.run(function(){_this.orientation()})}):void 0}}return DisplayWhen.prototype.orientation=function(){for(var i=0;i<this.conditions.length;i++){if("portrait"===this.conditions[i])return this.isMatch=this.platform.isPortrait(),!0;if("landscape"===this.conditions[i])return this.isMatch=this.platform.isLandscape(),!0}},DisplayWhen}();exports.DisplayWhen=DisplayWhen;var ShowWhen=function(_super){function ShowWhen(showWhen,platform,ngZone){_super.call(this,showWhen,platform,ngZone)}return __extends(ShowWhen,_super),ShowWhen=__decorate([core_1.Directive({selector:"[showWhen]",host:{"[class.hidden-show-when]":"!isMatch"}}),__param(0,core_1.Attribute("showWhen")),__metadata("design:paramtypes",[String,platform_1.Platform,core_1.NgZone])],ShowWhen)}(DisplayWhen);exports.ShowWhen=ShowWhen;var HideWhen=function(_super){function HideWhen(hideWhen,platform,ngZone){_super.call(this,hideWhen,platform,ngZone)}return __extends(HideWhen,_super),HideWhen=__decorate([core_1.Directive({selector:"[hideWhen]",host:{"[class.hidden-hide-when]":"isMatch"}}),__param(0,core_1.Attribute("hideWhen")),__metadata("design:paramtypes",[String,platform_1.Platform,core_1.NgZone])],HideWhen)}(DisplayWhen);exports.HideWhen=HideWhen},{"../../platform/platform":343,"angular2/core":11}],315:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),ion_1=require("../ion"),animation_1=require("../../animations/animation"),gesture_1=require("../../gestures/gesture"),util_1=require("../../util"),dom_1=require("../../util/dom"),util_2=require("../../util/util"),swiper_widget_1=require("./swiper-widget"),Slides=function(_super){function Slides(elementRef){var _this=this;_super.call(this,elementRef),this.slideChangeStart=new core_1.EventEmitter,this.change=new core_1.EventEmitter,this.willChange=new core_1.EventEmitter,this.didChange=new core_1.EventEmitter,this.move=new core_1.EventEmitter,this.rapidUpdate=util_2.debounce(function(){_this.update()},10),this.id=++slidesId,this.slideId="slides-"+this.id}return __extends(Slides,_super),Slides.prototype.ngOnInit=function(){var _this=this;this.options||(this.options={}),util_2.isPresent(this.pager)&&(this.showPager=util_2.isTrueProperty(this.pager)),util_2.isPresent(this.zoom),util_2.isPresent(this.options.pager)&&(this.showPager=util_2.isTrueProperty(this.options.pager));var paginationId="."+this.slideId+" .swiper-pagination",options=util_2.defaults({pagination:paginationId},this.options);options.onTap=function(swiper,e){return _this.onTap(swiper,e),_this.options.onTap&&_this.options.onTap(swiper,e)},options.onClick=function(swiper,e){return _this.onClick(swiper,e),_this.options.onClick&&_this.options.onClick(swiper,e)},options.onDoubleTap=function(swiper,e){return _this.onDoubleTap(swiper,e),_this.options.onDoubleTap&&_this.options.onDoubleTap(swiper,e)},options.onTransitionStart=function(swiper,e){return _this.onTransitionStart(swiper,e),_this.options.onTransitionStart&&_this.options.onTransitionStart(swiper,e)},options.onTransitionEnd=function(swiper,e){return _this.onTransitionEnd(swiper,e),_this.options.onTransitionEnd&&_this.options.onTransitionEnd(swiper,e)},options.onSlideChangeStart=function(swiper){return _this.slideChangeStart.emit(swiper),_this.willChange.emit(swiper),_this.options.onSlideChangeStart&&_this.options.onSlideChangeStart(swiper)},options.onSlideChangeEnd=function(swiper){return _this.change.emit(swiper),_this.didChange.emit(swiper),_this.options.onSlideChangeEnd&&_this.options.onSlideChangeEnd(swiper)},options.onLazyImageLoad=function(swiper,slide,img){return _this.options.onLazyImageLoad&&_this.options.onLazyImageLoad(swiper,slide,img)},options.onLazyImageReady=function(swiper,slide,img){return _this.options.onLazyImageReady&&_this.options.onLazyImageReady(swiper,slide,img)},options.onSliderMove=function(swiper,e){return _this.move.emit(swiper),_this.options.onSliderMove&&_this.options.onSliderMove(swiper,e)},setTimeout(function(){var swiper=new swiper_widget_1.Swiper(_this.getNativeElement().children[0],options);_this.slider=swiper})},Slides.prototype.onTap=function(swiper,e){},Slides.prototype.onClick=function(swiper,e){},Slides.prototype.onDoubleTap=function(swiper,e){this.toggleZoom(swiper,e)},Slides.prototype.onLazyImageLoad=function(swiper,slide,img){},Slides.prototype.onLazyImageReady=function(swiper,slide,img){},Slides.prototype.initZoom=function(){var _this=this;this.zoomDuration=this.zoomDuration||230,this.maxScale=this.zoomMax||3,this.zoomElement=this.getNativeElement().children[0].children[0],this.zoomElement&&this.zoomElement.classList.add("ion-scroll-zoom"),this.zoomGesture=new gesture_1.Gesture(this.zoomElement),this.zoomGesture.listen(),this.scale=1,this.zoomLastPosX=0,this.zoomLastPosY=0;var last_scale,zoomRect;this.viewportWidth=this.getNativeElement().offsetWidth,this.viewportHeight=this.getNativeElement().offsetHeight,this.zoomElement.addEventListener("touchstart",function(e){_this.onTouchStart(e)}),this.zoomElement.addEventListener("touchmove",function(e){_this.onTouchMove(e)}),this.zoomElement.addEventListener("touchend",function(e){_this.onTouchEnd(e)}),this.zoomGesture.on("pinchstart",function(e){last_scale=_this.scale}),this.zoomGesture.on("pinch",function(e){_this.scale=Math.max(1,Math.min(last_scale*e.scale,10)),_this.zoomElement.style[dom_1.CSS.transform]="scale("+_this.scale+")",zoomRect=_this.zoomElement.getBoundingClientRect()}),this.zoomGesture.on("pinchend",function(){if(_this.scale>_this.maxScale){var za=new animation_1.Animation(_this.zoomElement).duration(_this.zoomDuration).easing("linear").from("scale",_this.scale).to("scale",_this.maxScale);za.play(),_this.scale=_this.maxScale}})},Slides.prototype.resetZoom=function(){this.zoomElement&&(this.zoomElement.parentElement.style[dom_1.CSS.transform]="",this.zoomElement.style[dom_1.CSS.transform]="scale(1)"),this.scale=1,this.zoomLastPosX=0,this.zoomLastPosY=0},Slides.prototype.toggleZoom=function(swiper,e){if(this.enableZoom){var zi=new animation_1.Animation(this.touch.target.children[0]).duration(this.zoomDuration).easing("linear"),za=(new animation_1.Animation(this.touch.target.children[0]).duration(this.zoomDuration).easing("linear"),new animation_1.Animation);za.add(zi),this.scale>1?(zi.from("scale",this.scale),zi.to("scale",1),za.play(),this.scale=1):(zi.from("scale",this.scale),zi.to("scale",this.maxScale),za.play(),this.scale=this.maxScale)}},Slides.prototype.onTransitionStart=function(swiper,e){},Slides.prototype.onTransitionEnd=function(swiper,e){},Slides.prototype.onTouchStart=function(e){var target=util_1.dom.closest(e.target,".slide").children[0].children[0];this.touch={x:null,y:null,startX:e.touches[0].clientX,startY:e.touches[0].clientY,deltaX:0,deltaY:0,lastX:0,lastY:0,target:target.parentElement,zoomable:target,zoomableWidth:target.offsetWidth,zoomableHeight:target.offsetHeight}},Slides.prototype.onTouchMove=function(e){this.touch.deltaX=e.touches[0].clientX-this.touch.startX,this.touch.deltaY=e.touches[0].clientY-this.touch.startY;var zoomableScaledWidth=this.touch.zoomableWidth*this.scale,zoomableScaledHeight=this.touch.zoomableHeight*this.scale,x1=Math.min(this.viewportWidth/2-zoomableScaledWidth/2,0),x2=-x1;Math.min(this.viewportHeight/2-zoomableScaledHeight/2,0);if(!(this.scale<=1))if(this.touch.x=this.touch.deltaX+this.touch.lastX,this.touch.y=this.touch.deltaY+this.touch.lastY,this.touch.x<x1,this.touch.x>x2,this.touch.x>this.viewportWidth);else if(!(-this.touch.x>this.viewportWidth))return this.touch.target.style[dom_1.CSS.transform]="translateX("+this.touch.x+"px) translateY("+this.touch.y+"px)",e.preventDefault(),e.stopPropagation(),!1},Slides.prototype.onTouchEnd=function(e){if(this.scale>1){if(Math.abs(this.touch.x)>this.viewportWidth)var posX=posX>0?this.viewportWidth-1:-(this.viewportWidth-1);this.touch.lastX=this.touch.x,this.touch.lastY=this.touch.y}},Slides.prototype.update=function(){var _this=this;setTimeout(function(){_this.slider.update(),_this.length()>10&&(_this.showPager=!1)})},Slides.prototype.slideTo=function(index,speed,runCallbacks){this.slider.slideTo(index,speed,runCallbacks)},Slides.prototype.slideNext=function(speed,runCallbacks){this.slider.slideNext(runCallbacks,speed)},Slides.prototype.slidePrev=function(speed,runCallbacks){this.slider.slidePrev(runCallbacks,speed)},Slides.prototype.getActiveIndex=function(){return this.slider.activeIndex},Slides.prototype.getPreviousIndex=function(){return this.slider.previousIndex},Slides.prototype.length=function(){return this.slider.slides.length},Slides.prototype.isEnd=function(){return this.slider.isEnd},Slides.prototype.isBeginning=function(){return this.slider.isBeginning},Slides.prototype.getSlider=function(){return this.slider},__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"options",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"pager",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"zoom",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"zoomDuration",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Slides.prototype,"zoomMax",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"slideChangeStart",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"change",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"willChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"didChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Slides.prototype,"move",void 0),Slides=__decorate([core_1.Component({selector:"ion-slides",template:'<div class="swiper-container"><div class="swiper-wrapper"><ng-content></ng-content></div><div [class.hide]="!showPager" class="swiper-pagination"></div></div>',directives:[common_1.NgClass],host:{"[class]":"slideId"},changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[core_1.ElementRef])],Slides)}(ion_1.Ion);exports.Slides=Slides;var Slide=function(){function Slide(elementRef,slides){this.ele=elementRef.nativeElement,this.ele.classList.add("swiper-slide"),slides.rapidUpdate()}return __decorate([core_1.Input(),__metadata("design:type",Object)],Slide.prototype,"zoom",void 0),Slide=__decorate([core_1.Component({selector:"ion-slide",template:'<div class="slide-zoom"><ng-content></ng-content></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Host()),__metadata("design:paramtypes",[core_1.ElementRef,Slides])],Slide)}();exports.Slide=Slide;var SlideLazy=function(){function SlideLazy(){}return SlideLazy=__decorate([core_1.Directive({selector:"slide-lazy",host:{"class":"swiper-lazy"}}),__metadata("design:paramtypes",[])],SlideLazy)}();exports.SlideLazy=SlideLazy;var slidesId=-1},{"../../animations/animation":262,"../../gestures/gesture":338,"../../util":355,"../../util/dom":357,"../../util/util":363,"../ion":281,"./swiper-widget":316,"angular2/common":9,"angular2/core":11}],316:[function(require,module,exports){"use strict";function Swiper(container,params){function isH(){return"horizontal"===s.params.direction}function round(a){return Math.floor(a)}function autoplay(){s.autoplayTimeoutId=setTimeout(function(){s.params.loop?(s.fixLoop(),s._slideNext()):s.isEnd?params.autoplayStopOnLast?s.stopAutoplay():s._slideTo(0):s._slideNext()},s.params.autoplay)}function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector))if("string"==typeof selector)el=el.parents(selector);else if(selector.nodeType){var found;return el.parents().each(function(index,_el){_el===selector&&(found=selector)}),found?selector:void 0}if(0!==el.length)return el[0]}function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver,observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(!0),s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:"undefined"==typeof options.attributes?!0:options.attributes,childList:"undefined"==typeof options.childList?!0:options.childList,characterData:"undefined"==typeof options.characterData?!0:options.characterData}),s.observers.push(observer)}function handleKeyboard(e){e.originalEvent&&(e=e.originalEvent);var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(isH()&&39===kc||!isH()&&40===kc))return!1;if(!s.params.allowSwipeToPrev&&(isH()&&37===kc||!isH()&&38===kc))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===kc||39===kc||38===kc||40===kc){var inView=!1;if(s.container.parents(".swiper-slide").length>0&&0===s.container.parents(".swiper-slide-active").length)return;var windowScroll={left:window.pageXOffset,top:window.pageYOffset},windowWidth=window.innerWidth,windowHeight=window.innerHeight,swiperOffset=s.container.offset();s.rtl&&(swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft);for(var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]],i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight&&(inView=!0)}if(!inView)return}isH()?(37!==kc&&39!==kc||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===kc&&!s.rtl||37===kc&&s.rtl)&&s.slideNext(),(37===kc&&!s.rtl||39===kc&&s.rtl)&&s.slidePrev()):(38!==kc&&40!==kc||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===kc&&s.slideNext(),38===kc&&s.slidePrev())}}function handleMousewheel(e){e.originalEvent&&(e=e.originalEvent);var we=s.mousewheel.event,delta=0;if(e.detail)delta=-e.detail;else if("mousewheel"===we)if(s.params.mousewheelForceToAxis)if(isH()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;delta=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;delta=e.wheelDeltaY}else delta=e.wheelDelta;else if("DOMMouseScroll"===we)delta=-e.detail;else if("wheel"===we)if(s.params.mousewheelForceToAxis)if(isH()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;delta=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;delta=-e.deltaY}else delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(s.params.mousewheelInvert&&(delta=-delta),s.params.freeMode){var position=s.getWrapperTranslate()+delta*s.params.mousewheelSensitivity;if(position>0&&(position=0),position<s.maxTranslate()&&(position=s.maxTranslate()),s.setWrapperTransition(0),s.setWrapperTranslate(position),s.updateProgress(),s.updateActiveIndex(),s.params.freeModeSticky&&(clearTimeout(s.mousewheel.timeout),s.mousewheel.timeout=setTimeout(function(){s.slideReset()},300)),0===position||position===s.maxTranslate())return}else{if((new window.Date).getTime()-s.mousewheel.lastScrollTime>60)if(0>delta)if(s.isEnd&&!s.params.loop||s.animating){if(s.params.mousewheelReleaseOnEdges)return!0}else s.slideNext();else if(s.isBeginning&&!s.params.loop||s.animating){if(s.params.mousewheelReleaseOnEdges)return!0}else s.slidePrev();s.mousewheel.lastScrollTime=(new window.Date).getTime()}return s.params.autoplay&&s.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;p=el.attr("data-swiper-parallax")||"0",pX=el.attr("data-swiper-parallax-x"),pY=el.attr("data-swiper-parallax-y"),pX||pY?(pX=pX||"0",pY=pY||"0"):isH()?(pX=p,pY="0"):(pY=p,pX="0"),pX=pX.indexOf("%")>=0?parseInt(pX,10)*progress+"%":pX*progress+"px",pY=pY.indexOf("%")>=0?parseInt(pY,10)*progress+"%":pY*progress+"px",el.transform("translate3d("+pX+", "+pY+",0px)")}function normalizeEventName(eventName){return 0!==eventName.indexOf("on")&&(eventName=eventName[0]!==eventName[0].toUpperCase()?"on"+eventName[0].toUpperCase()+eventName.substring(1):"on"+eventName),eventName}if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};for(var def in defaults)if("undefined"==typeof params[def])params[def]=defaults[def];else if("object"==typeof params[def])for(var deepDef in defaults[def])"undefined"==typeof params[def][deepDef]&&(params[def][deepDef]=defaults[def][deepDef]);var s=this;if(s.version="3.1.0",s.params=params,s.classNames=[],"undefined"!=typeof $&&"undefined"!=typeof Dom7&&($=Dom7),("undefined"!=typeof $||($="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(s.$=$,s.container=$(container),0!==s.container.length)){if(s.container.length>1)return void s.container.each(function(){new Swiper(this,params)});s.container[0].swiper=s,s.container.data("swiper",s),s.classNames.push("swiper-container-"+s.params.direction),s.params.freeMode&&s.classNames.push("swiper-container-free-mode"),s.support.flexbox||(s.classNames.push("swiper-container-no-flexbox"),s.params.slidesPerColumn=1),(s.params.parallax||s.params.watchSlidesVisibility)&&(s.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(s.params.effect)>=0&&(s.support.transforms3d?(s.params.watchSlidesProgress=!0,s.classNames.push("swiper-container-3d")):s.params.effect="slide"),"slide"!==s.params.effect&&s.classNames.push("swiper-container-"+s.params.effect),"cube"===s.params.effect&&(s.params.resistanceRatio=0,s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.centeredSlides=!1,s.params.spaceBetween=0,s.params.virtualTranslate=!0,s.params.setWrapperSize=!1),"fade"===s.params.effect&&(s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.watchSlidesProgress=!0,s.params.spaceBetween=0,"undefined"==typeof initialVirtualTranslate&&(s.params.virtualTranslate=!0)),s.params.grabCursor&&s.support.touch&&(s.params.grabCursor=!1),s.wrapper=s.container.children("."+s.params.wrapperClass),s.params.pagination&&(s.paginationContainer=$(s.params.pagination),s.params.paginationClickable&&s.paginationContainer.addClass("swiper-pagination-clickable")),s.rtl=isH()&&("rtl"===s.container[0].dir.toLowerCase()||"rtl"===s.container.css("direction")),s.rtl&&s.classNames.push("swiper-container-rtl"),s.rtl&&(s.wrongRTL="-webkit-box"===s.wrapper.css("display")),s.params.slidesPerColumn>1&&s.classNames.push("swiper-container-multirow"),s.device.android&&s.classNames.push("swiper-container-android"),s.container.addClass(s.classNames.join(" ")),s.translate=0,s.progress=0,s.velocity=0,s.lockSwipeToNext=function(){s.params.allowSwipeToNext=!1},s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=!1},s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!1},s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=!0},s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=!0},s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!0},s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab"),s.imagesToLoad=[],s.imagesLoaded=0,s.loadImage=function(imgElement,src,checkForComplete,callback){function onReady(){callback&&callback()}var image;imgElement.complete&&checkForComplete?onReady():src?(image=new window.Image,
image.onload=onReady,image.onerror=onReady,image.src=src):onReady()},s.preloadImages=function(){function _onReady(){"undefined"!=typeof s&&null!==s&&(void 0!==s.imagesLoaded&&s.imagesLoaded++,s.imagesLoaded===s.imagesToLoad.length&&(s.params.updateOnImagesReady&&s.update(),s.emit("onImagesReady",s)))}s.imagesToLoad=s.container.find("img");for(var i=0;i<s.imagesToLoad.length;i++)s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),!0,_onReady)},s.autoplayTimeoutId=void 0,s.autoplaying=!1,s.autoplayPaused=!1,s.startAutoplay=function(){return"undefined"!=typeof s.autoplayTimeoutId?!1:s.params.autoplay?s.autoplaying?!1:(s.autoplaying=!0,s.emit("onAutoplayStart",s),void autoplay()):!1},s.stopAutoplay=function(internal){s.autoplayTimeoutId&&(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplaying=!1,s.autoplayTimeoutId=void 0,s.emit("onAutoplayStop",s))},s.pauseAutoplay=function(speed){s.autoplayPaused||(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplayPaused=!0,0===speed?(s.autoplayPaused=!1,autoplay()):s.wrapper.transitionEnd(function(){s&&(s.autoplayPaused=!1,s.autoplaying?autoplay():s.stopAutoplay())}))},s.minTranslate=function(){return-s.snapGrid[0]},s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]},s.updateContainerSize=function(){var width,height;width="undefined"!=typeof s.params.width?s.params.width:s.container[0].clientWidth,height="undefined"!=typeof s.params.height?s.params.height:s.container[0].clientHeight,0===width&&isH()||0===height&&!isH()||(width=width-parseInt(s.container.css("padding-left"),10)-parseInt(s.container.css("padding-right"),10),height=height-parseInt(s.container.css("padding-top"),10)-parseInt(s.container.css("padding-bottom"),10),s.width=width,s.height=height,s.size=isH()?s.width:s.height)},s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass),s.snapGrid=[],s.slidesGrid=[],s.slidesSizesGrid=[];var i,spaceBetween=s.params.spaceBetween,slidePosition=-s.params.slidesOffsetBefore,prevSlideSize=0,index=0;"string"==typeof spaceBetween&&spaceBetween.indexOf("%")>=0&&(spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size),s.virtualSize=-spaceBetween,s.rtl?s.slides.css({marginLeft:"",marginTop:""}):s.slides.css({marginRight:"",marginBottom:""});var slidesNumberEvenToRows;s.params.slidesPerColumn>1&&(slidesNumberEvenToRows=Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn?s.slides.length:Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn);var slideSize,slidesPerColumn=s.params.slidesPerColumn,slidesPerRow=slidesNumberEvenToRows/slidesPerColumn,numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex,column,row;"column"===s.params.slidesPerColumnFill?(column=Math.floor(i/slidesPerColumn),row=i-column*slidesPerColumn,(column>numFullColumns||column===numFullColumns&&row===slidesPerColumn-1)&&++row>=slidesPerColumn&&(row=0,column++),newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn,slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,order:newSlideOrderIndex})):(row=Math.floor(i/slidesPerRow),column=i-row*slidesPerRow),slide.css({"margin-top":0!==row&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}"none"!==slide.css("display")&&("auto"===s.params.slidesPerView?(slideSize=isH()?slide.outerWidth(!0):slide.outerHeight(!0),s.params.roundLengths&&(slideSize=round(slideSize))):(slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView,s.params.roundLengths&&(slideSize=round(slideSize)),isH()?s.slides[i].style.width=slideSize+"px":s.slides[i].style.height=slideSize+"px"),s.slides[i].swiperSlideSize=slideSize,s.slidesSizesGrid.push(slideSize),s.params.centeredSlides?(slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween,0===i&&(slidePosition=slidePosition-s.size/2-spaceBetween),Math.abs(slidePosition)<.001&&(slidePosition=0),index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition)):(index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition),slidePosition=slidePosition+slideSize+spaceBetween),s.virtualSize+=slideSize+spaceBetween,prevSlideSize=slideSize,index++)}s.virtualSize=Math.max(s.virtualSize,s.size)+s.params.slidesOffsetAfter;var newSlidesGrid;if(s.rtl&&s.wrongRTL&&("slide"===s.params.effect||"coverflow"===s.params.effect)&&s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.support.flexbox&&!s.params.setWrapperSize||(isH()?s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}):s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})),s.params.slidesPerColumn>1&&(s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows,s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween,s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.params.centeredSlides)){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<s.virtualSize+s.snapGrid[0]&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid}if(!s.params.centeredSlides){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<=s.virtualSize-s.size&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid,Math.floor(s.virtualSize-s.size)>Math.floor(s.snapGrid[s.snapGrid.length-1])&&s.snapGrid.push(s.virtualSize-s.size)}0===s.snapGrid.length&&(s.snapGrid=[0]),0!==s.params.spaceBetween&&(isH()?s.rtl?s.slides.css({marginLeft:spaceBetween+"px"}):s.slides.css({marginRight:spaceBetween+"px"}):s.slides.css({marginBottom:spaceBetween+"px"})),s.params.watchSlidesProgress&&s.updateSlidesOffset()},s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++)s.slides[i].swiperSlideOffset=isH()?s.slides[i].offsetLeft:s.slides[i].offsetTop},s.updateSlidesProgress=function(translate){if("undefined"==typeof translate&&(translate=s.translate||0),0!==s.slides.length){"undefined"==typeof s.slides[0].swiperSlideOffset&&s.updateSlidesOffset();var offsetCenter=-translate;s.rtl&&(offsetCenter=translate);s.container[0].getBoundingClientRect(),isH()?"left":"top",isH()?"right":"bottom";s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i],slideProgress=(offsetCenter-slide.swiperSlideOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset),slideAfter=slideBefore+s.slidesSizesGrid[i],isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||0>=slideBefore&&slideAfter>=s.size;isVisible&&s.slides.eq(i).addClass(s.params.slideVisibleClass)}slide.progress=s.rtl?-slideProgress:slideProgress}}},s.updateProgress=function(translate){"undefined"==typeof translate&&(translate=s.translate||0);var translatesDiff=s.maxTranslate()-s.minTranslate();0===translatesDiff?(s.progress=0,s.isBeginning=s.isEnd=!0):(s.progress=(translate-s.minTranslate())/translatesDiff,s.isBeginning=s.progress<=0,s.isEnd=s.progress>=1),s.isBeginning&&s.emit("onReachBeginning",s),s.isEnd&&s.emit("onReachEnd",s),s.params.watchSlidesProgress&&s.updateSlidesProgress(translate),s.emit("onProgress",s,s.progress)},s.updateActiveIndex=function(){var newActiveIndex,i,snapIndex,translate=s.rtl?s.translate:-s.translate;for(i=0;i<s.slidesGrid.length;i++)"undefined"!=typeof s.slidesGrid[i+1]?translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2?newActiveIndex=i:translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]&&(newActiveIndex=i+1):translate>=s.slidesGrid[i]&&(newActiveIndex=i);(0>newActiveIndex||"undefined"==typeof newActiveIndex)&&(newActiveIndex=0),snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup),snapIndex>=s.snapGrid.length&&(snapIndex=s.snapGrid.length-1),newActiveIndex!==s.activeIndex&&(s.snapIndex=snapIndex,s.previousIndex=s.activeIndex,s.activeIndex=newActiveIndex,s.updateClasses())},s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);if(activeSlide.addClass(s.params.slideActiveClass),activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass),activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass),s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);var bulletIndex;s.params.loop?(bulletIndex=Math.ceil(s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup,bulletIndex>s.slides.length-1-2*s.loopedSlides&&(bulletIndex-=s.slides.length-2*s.loopedSlides),bulletIndex>s.bullets.length-1&&(bulletIndex-=s.bullets.length)):bulletIndex="undefined"!=typeof s.snapIndex?s.snapIndex:s.activeIndex||0,s.paginationContainer.length>1?s.bullets.each(function(){$(this).index()===bulletIndex&&$(this).addClass(s.params.bulletActiveClass)}):s.bullets.eq(bulletIndex).addClass(s.params.bulletActiveClass)}s.params.loop||(s.params.prevButton&&(s.isBeginning?($(s.params.prevButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.prevButton))):($(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.prevButton)))),s.params.nextButton&&(s.isEnd?($(s.params.nextButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.nextButton))):($(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.nextButton)))))},s.updatePagination=function(){if(s.params.pagination&&s.paginationContainer&&s.paginationContainer.length>0){for(var bulletsHTML="",numberOfBullets=s.params.loop?Math.ceil((s.slides.length-2*s.loopedSlides)/s.params.slidesPerGroup):s.snapGrid.length,i=0;numberOfBullets>i;i++)bulletsHTML+=s.params.paginationBulletRender?s.params.paginationBulletRender(i,s.params.bulletClass):"<"+s.params.paginationElement+' class="'+s.params.bulletClass+'"></'+s.params.paginationElement+">";s.paginationContainer.html(bulletsHTML),s.bullets=s.paginationContainer.find("."+s.params.bulletClass),s.params.paginationClickable&&s.params.a11y&&s.a11y&&s.a11y.initPagination()}},s.update=function(updateTranslate){function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate()),s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),s.updatePagination(),s.updateClasses(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),updateTranslate){var translated,newTranslate;s.controller&&s.controller.spline&&(s.controller.spline=void 0),s.params.freeMode?forceSetTranslate():(translated=("auto"===s.params.slidesPerView||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),translated||forceSetTranslate())}},s.onResize=function(forceUpdatePagination){var allowSwipeToPrev=s.params.allowSwipeToPrev,allowSwipeToNext=s.params.allowSwipeToNext;if(s.params.allowSwipeToPrev=s.params.allowSwipeToNext=!0,s.updateContainerSize(),s.updateSlidesSize(),("auto"===s.params.slidesPerView||s.params.freeMode||forceUpdatePagination)&&s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),s.controller&&s.controller.spline&&(s.controller.spline=void 0),s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}else s.updateClasses(),("auto"===s.params.slidesPerView||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0);s.params.allowSwipeToPrev=allowSwipeToPrev,s.params.allowSwipeToNext=allowSwipeToNext};var desktopEvents=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?desktopEvents=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(desktopEvents=["MSPointerDown","MSPointerMove","MSPointerUp"]),s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===s.params.touchEventsTarget?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction),s.initEvents=function(detach){console.debug("swiper initEvents",detach?"detach":"attach");var actionDom=detach?"off":"on",action=detach?"removeEventListener":"addEventListener",touchEventsTarget="container"===s.params.touchEventsTarget?s.container[0]:s.wrapper[0],target=s.support.touch?touchEventsTarget:document,moveCapture=!!s.params.nested;s.browser.ie?(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),target[action](s.touchEvents.move,s.onTouchMove,moveCapture),target[action](s.touchEvents.end,s.onTouchEnd,!1)):(s.support.touch&&(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture),touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,!1)),!params.simulateTouch||s.device.ios||s.device.android||(touchEventsTarget[action]("mousedown",s.onTouchStart,!1),document[action]("mousemove",s.onTouchMove,moveCapture),document[action]("mouseup",s.onTouchEnd,!1))),window[action]("resize",s.onResize),s.params.nextButton&&($(s.params.nextButton)[actionDom]("click",s.onClickNext),s.params.a11y&&s.a11y&&$(s.params.nextButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.prevButton&&($(s.params.prevButton)[actionDom]("click",s.onClickPrev),s.params.a11y&&s.a11y&&$(s.params.prevButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.pagination&&s.params.paginationClickable&&($(s.paginationContainer)[actionDom]("click","."+s.params.bulletClass,s.onClickIndex),s.params.a11y&&s.a11y&&$(s.paginationContainer)[actionDom]("keydown","."+s.params.bulletClass,s.a11y.onEnterKey)),(s.params.preventClicks||s.params.preventClicksPropagation)&&touchEventsTarget[action]("click",s.preventClicks,!0)},s.attachEvents=function(detach){s.initEvents()},s.detachEvents=function(){s.initEvents(!0)},s.allowClick=!0,s.preventClicks=function(e){s.allowClick||(s.params.preventClicks&&e.preventDefault(),s.params.preventClicksPropagation&&s.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},s.onClickNext=function(e){e.preventDefault(),s.isEnd&&!s.params.loop||s.slideNext()},s.onClickPrev=function(e){e.preventDefault(),s.isBeginning&&!s.params.loop||s.slidePrev()},s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;s.params.loop&&(index+=s.loopedSlides),s.slideTo(index)},s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass),slideFound=!1;if(slide)for(var i=0;i<s.slides.length;i++)s.slides[i]===slide&&(slideFound=!0);if(!slide||!slideFound)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);if(s.clickedSlide=slide,s.clickedIndex=$(slide).index(),s.params.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex){var realIndex,slideToIndex=s.clickedIndex;if(s.params.loop)if(realIndex=$(s.clickedSlide).attr("data-swiper-slide-index"),slideToIndex>s.slides.length-s.params.slidesPerView)s.fixLoop(),slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]').eq(0).index(),setTimeout(function(){s.slideTo(slideToIndex)},0);else if(slideToIndex<s.params.slidesPerView-1){s.fixLoop();var duplicatedSlides=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]');slideToIndex=duplicatedSlides.eq(duplicatedSlides.length-1).index(),setTimeout(function(){s.slideTo(slideToIndex)},0)}else s.slideTo(slideToIndex);else s.slideTo(slideToIndex)}};var isTouched,isMoved,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,clickTimeout,allowMomentumBounce,formElements="input, select, textarea, button",lastClickTime=Date.now(),velocities=[];s.animating=!1,s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;if(s.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),isTouchEvent="touchstart"===e.type,isTouchEvent||!("which"in e)||3!==e.which){if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass))return void(s.allowClick=!0);if(!s.params.swipeHandler||findElementInEvent(e,s.params.swipeHandler)){var startX=s.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,startY=s.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(s.device.ios&&s.params.iOSEdgeSwipeDetection&&startX<=s.params.iOSEdgeSwipeThreshold)){if(isTouched=!0,isMoved=!1,isScrolling=void 0,startMoving=void 0,s.touches.startX=startX,s.touches.startY=startY,touchStartTime=Date.now(),s.allowClick=!0,s.updateContainerSize(),s.swipeDirection=void 0,s.params.threshold>0&&(allowThresholdMove=!1),"touchstart"!==e.type){var preventDefault=!0;$(e.target).is(formElements)&&(preventDefault=!1),document.activeElement&&$(document.activeElement).is(formElements)&&document.activeElement.blur(),preventDefault&&e.preventDefault()}s.emit("onTouchStart",s,e)}}}},s.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(isTouchEvent&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(s.params.onlyExternal)return s.allowClick=!1,void(isTouched&&(s.touches.startX=s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.startY=s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=Date.now()));if(isTouchEvent&&document.activeElement&&e.target===document.activeElement&&$(e.target).is(formElements))return isMoved=!0,void(s.allowClick=!1);if(s.emit("onTouchMove",s,e),!(e.targetTouches&&e.targetTouches.length>1)){if(s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof isScrolling){var touchAngle=180*Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))/Math.PI;isScrolling=isH()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling&&s.emit("onTouchMoveOpposite",s,e),"undefined"==typeof startMoving&&s.browser.ieTouch&&(s.touches.currentX===s.touches.startX&&s.touches.currentY===s.touches.startY||(startMoving=!0)),isTouched){if(isScrolling)return void(isTouched=!1);if(startMoving||!s.browser.ieTouch){s.allowClick=!1,s.emit("onSliderMove",s,e),e.preventDefault(),s.params.touchMoveStopPropagation&&!s.params.nested&&e.stopPropagation(),isMoved||(params.loop&&s.fixLoop(),startTranslate=s.getWrapperTranslate(),s.setWrapperTransition(0),s.animating&&s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),s.params.autoplay&&s.autoplaying&&(s.params.autoplayDisableOnInteraction?s.stopAutoplay():s.pauseAutoplay()),allowMomentumBounce=!1,s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grabbing",s.container[0].style.cursor="-moz-grabbin",s.container[0].style.cursor="grabbing")),isMoved=!0;var diff=s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff*=s.params.touchRatio,s.rtl&&(diff=-diff),s.swipeDirection=diff>0?"prev":"next",currentTranslate=diff+startTranslate;var disableParentSwiper=!0;if(diff>0&&currentTranslate>s.minTranslate()?(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio))):0>diff&&currentTranslate<s.maxTranslate()&&(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio))),disableParentSwiper&&(e.preventedByNestedSwiper=!0),!s.params.allowSwipeToNext&&"next"===s.swipeDirection&&startTranslate>currentTranslate&&(currentTranslate=startTranslate),!s.params.allowSwipeToPrev&&"prev"===s.swipeDirection&&currentTranslate>startTranslate&&(currentTranslate=startTranslate),s.params.followFinger){if(s.params.threshold>0){if(!(Math.abs(diff)>s.params.threshold||allowThresholdMove))return void(currentTranslate=startTranslate);if(!allowThresholdMove)return allowThresholdMove=!0,s.touches.startX=s.touches.currentX,s.touches.startY=s.touches.currentY,currentTranslate=startTranslate,void(s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY)}(s.params.freeMode||s.params.watchSlidesProgress)&&s.updateActiveIndex(),s.params.freeMode&&(0===velocities.length&&velocities.push({position:s.touches[isH()?"startX":"startY"],time:touchStartTime}),velocities.push({position:s.touches[isH()?"currentX":"currentY"],time:(new window.Date).getTime()})),s.updateProgress(currentTranslate),s.setWrapperTranslate(currentTranslate)}}}}}},s.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),s.emit("onTouchEnd",s,e),isTouched){s.params.grabCursor&&isMoved&&isTouched&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab");var touchEndTime=Date.now(),timeDiff=touchEndTime-touchStartTime;if(s.allowClick&&(s.updateClickedSlide(e),s.emit("onTap",s,e),300>timeDiff&&touchEndTime-lastClickTime>300&&(clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(function(){s&&(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)&&s.paginationContainer.toggleClass(s.params.paginationHiddenClass),s.emit("onClick",s,e))},300)),300>timeDiff&&300>touchEndTime-lastClickTime&&(clickTimeout&&clearTimeout(clickTimeout),s.emit("onDoubleTap",s,e))),lastClickTime=Date.now(),setTimeout(function(){s&&(s.allowClick=!0)},0),!isTouched||!isMoved||!s.swipeDirection||0===s.touches.diff||currentTranslate===startTranslate)return void(isTouched=isMoved=!1);isTouched=isMoved=!1;var currentPos;if(currentPos=s.params.followFinger?s.rtl?s.translate:-s.translate:-currentTranslate,s.params.freeMode){if(currentPos<-s.minTranslate())return void s.slideTo(s.activeIndex);if(currentPos>-s.maxTranslate())return void(s.slides.length<s.snapGrid.length?s.slideTo(s.snapGrid.length-1):s.slideTo(s.slides.length-1));if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop(),distance=lastMoveEvent.position-velocityEvent.position,time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time,s.velocity=s.velocity/2,Math.abs(s.velocity)<.02&&(s.velocity=0),(time>150||(new window.Date).getTime()-lastMoveEvent.time>300)&&(s.velocity=0)}else s.velocity=0;velocities.length=0;var momentumDuration=1e3*s.params.freeModeMomentumRatio,momentumDistance=s.velocity*momentumDuration,newPosition=s.translate+momentumDistance;s.rtl&&(newPosition=-newPosition);var afterBouncePosition,doBounce=!1,bounceAmount=20*Math.abs(s.velocity)*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate())s.params.freeModeMomentumBounce?(newPosition+s.maxTranslate()<-bounceAmount&&(newPosition=s.maxTranslate()-bounceAmount),afterBouncePosition=s.maxTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.maxTranslate();else if(newPosition>s.minTranslate())s.params.freeModeMomentumBounce?(newPosition-s.minTranslate()>bounceAmount&&(newPosition=s.minTranslate()+bounceAmount),afterBouncePosition=s.minTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.minTranslate();else if(s.params.freeModeSticky){var nextSlide,j=0;for(j=0;j<s.snapGrid.length;j+=1)if(s.snapGrid[j]>-newPosition){nextSlide=j;break}newPosition=Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||"next"===s.swipeDirection?s.snapGrid[nextSlide]:s.snapGrid[nextSlide-1],s.rtl||(newPosition=-newPosition)}if(0!==s.velocity)momentumDuration=s.rtl?Math.abs((-newPosition-s.translate)/s.velocity):Math.abs((newPosition-s.translate)/s.velocity);else if(s.params.freeModeSticky)return void s.slideReset();s.params.freeModeMomentumBounce&&doBounce?(s.updateProgress(afterBouncePosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating=!0,s.wrapper.transitionEnd(function(){s&&allowMomentumBounce&&(s.emit("onMomentumBounce",s),s.setWrapperTransition(s.params.speed),s.setWrapperTranslate(afterBouncePosition),s.wrapper.transitionEnd(function(){s&&s.onTransitionEnd()}))})):s.velocity?(s.updateProgress(newPosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s&&s.onTransitionEnd()}))):s.updateProgress(newPosition),s.updateActiveIndex()}return void((!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs)&&(s.updateProgress(),s.updateActiveIndex()))}var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup)"undefined"!=typeof s.slidesGrid[i+s.params.slidesPerGroup]?currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]&&(stopIndex=i,groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]):currentPos>=s.slidesGrid[i]&&(stopIndex=i,groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]);var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&(ratio>=s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex)),"prev"===s.swipeDirection&&(ratio>1-s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex))}else{if(!s.params.shortSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&s.slideTo(stopIndex+s.params.slidesPerGroup),"prev"===s.swipeDirection&&s.slideTo(stopIndex)}}},s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,!0,!0)},s.slideTo=function(slideIndex,speed,runCallbacks,internal){"undefined"==typeof runCallbacks&&(runCallbacks=!0),"undefined"==typeof slideIndex&&(slideIndex=0),0>slideIndex&&(slideIndex=0),s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup),s.snapIndex>=s.snapGrid.length&&(s.snapIndex=s.snapGrid.length-1);var translate=-s.snapGrid[s.snapIndex];s.params.autoplay&&s.autoplaying&&(internal||!s.params.autoplayDisableOnInteraction?s.pauseAutoplay(speed):s.stopAutoplay()),s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++)-Math.floor(100*translate)>=Math.floor(100*s.slidesGrid[i])&&(slideIndex=i);if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate())return!1;if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate()&&(s.activeIndex||0)!==slideIndex)return!1;if("undefined"==typeof speed&&(speed=s.params.speed),s.previousIndex=s.activeIndex||0,s.activeIndex=slideIndex,translate===s.translate)return s.updateClasses(),!1;s.updateClasses(),s.onTransitionStart(runCallbacks);isH()?translate:0,isH()?0:translate;return 0===speed?(s.setWrapperTransition(0),s.setWrapperTranslate(translate),s.onTransitionEnd(runCallbacks)):(s.setWrapperTransition(speed),s.setWrapperTranslate(translate),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s&&s.onTransitionEnd(runCallbacks)}))),!0},s.onTransitionStart=function(runCallbacks){"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionStart(),runCallbacks&&(s.emit("onTransitionStart",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeStart",s))},s.onTransitionEnd=function(runCallbacks){s.animating=!1,s.setWrapperTransition(0),"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionEnd(),runCallbacks&&(s.emit("onTransitionEnd",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeEnd",s)),s.params.hashnav&&s.hashnav&&s.hashnav.setHash()},s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return!1;s.fixLoop();s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)}return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)},s._slideNext=function(speed){return s.slideNext(!0,speed,!0)},s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return!1;s.fixLoop();s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)}return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)},s._slidePrev=function(speed){return s.slidePrev(!0,speed,!0)},s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks)},s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTransition(duration),s.params.parallax&&s.parallax&&s.parallax.setTransition(duration),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTransition(duration),s.params.control&&s.controller&&s.controller.setTransition(duration,byController),s.emit("onSetTransition",s,duration)},s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;isH()?x=s.rtl?-translate:translate:y=translate,s.params.virtualTranslate||(s.support.transforms3d?s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)"):s.wrapper.transform("translate("+x+"px, "+y+"px)")),s.translate=isH()?x:y,updateActiveIndex&&s.updateActiveIndex(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTranslate(s.translate),s.params.parallax&&s.parallax&&s.parallax.setTranslate(s.translate),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTranslate(s.translate),s.params.control&&s.controller&&s.controller.setTranslate(s.translate,byController),s.emit("onSetTranslate",s,s.translate)},s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;return"undefined"==typeof axis&&(axis="x"),s.params.virtualTranslate?s.rtl?-s.translate:s.translate:(curStyle=window.getComputedStyle(el,null),window.WebKitCSSMatrix?transformMatrix=new window.WebKitCSSMatrix("none"===curStyle.webkitTransform?"":curStyle.webkitTransform):(transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),"x"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m41:16===matrix.length?parseFloat(matrix[12]):parseFloat(matrix[4])),"y"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m42:16===matrix.length?parseFloat(matrix[13]):parseFloat(matrix[5])),s.rtl&&curTransform&&(curTransform=-curTransform),curTransform||0)},s.getWrapperTranslate=function(axis){return"undefined"==typeof axis&&(axis=isH()?"x":"y"),s.getTranslate(s.wrapper[0],axis)},s.observers=[],s.initObservers=function(){if(s.params.observeParents)for(var containerParents=s.container.parents(),i=0;i<containerParents.length;i++)initObserver(containerParents[i]);initObserver(s.container[0],{childList:!1}),initObserver(s.wrapper[0],{attributes:!1})},s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++)s.observers[i].disconnect();s.observers=[]},s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();
var slides=s.wrapper.children("."+s.params.slideClass);"auto"!==s.params.slidesPerView||s.params.loopedSlides||(s.params.loopedSlides=slides.length),s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10),s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides,s.loopedSlides>slides.length&&(s.loopedSlides=slides.length);var i,prependSlides=[],appendSlides=[];for(slides.each(function(index,el){var slide=$(this);index<s.loopedSlides&&appendSlides.push(el),index<slides.length&&index>=slides.length-s.loopedSlides&&prependSlides.push(el),slide.attr("data-swiper-slide-index",index)}),i=0;i<appendSlides.length;i++)s.wrapper.append($(appendSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass));for(i=prependSlides.length-1;i>=0;i--)s.wrapper.prepend($(prependSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass))},s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove(),s.slides.removeAttr("data-swiper-slide-index")},s.fixLoop=function(){var newIndex;s.activeIndex<s.loopedSlides?(newIndex=s.slides.length-3*s.loopedSlides+s.activeIndex,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0)):("auto"===s.params.slidesPerView&&s.activeIndex>=2*s.loopedSlides||s.activeIndex>s.slides.length-2*s.params.slidesPerView)&&(newIndex=-s.slides.length+s.activeIndex+s.loopedSlides,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0))},s.appendSlide=function(slides){if(s.params.loop&&s.destroyLoop(),"object"==typeof slides&&slides.length)for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.append(slides[i]);else s.wrapper.append(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0)},s.prependSlide=function(slides){s.params.loop&&s.destroyLoop();var newActiveIndex=s.activeIndex+1;if("object"==typeof slides&&slides.length){for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.prepend(slides[i]);newActiveIndex=s.activeIndex+slides.length}else s.wrapper.prepend(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.slideTo(newActiveIndex,0,!1)},s.removeSlide=function(slidesIndexes){s.params.loop&&(s.destroyLoop(),s.slides=s.wrapper.children("."+s.params.slideClass));var indexToRemove,newActiveIndex=s.activeIndex;if("object"==typeof slidesIndexes&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++)indexToRemove=slidesIndexes[i],s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),newActiveIndex>indexToRemove&&newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}else indexToRemove=slidesIndexes,s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),newActiveIndex>indexToRemove&&newActiveIndex--,newActiveIndex=Math.max(newActiveIndex,0);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.params.loop?s.slideTo(newActiveIndex+s.loopedSlides,0,!1):s.slideTo(newActiveIndex,0,!1)},s.removeAllSlides=function(){for(var slidesIndexes=[],i=0;i<s.slides.length;i++)slidesIndexes.push(i);s.removeSlide(slidesIndexes)},s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),offset=slide[0].swiperSlideOffset,tx=-offset;s.params.virtualTranslate||(tx-=s.translate);var ty=0;isH()||(ty=tx,tx=0);var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform("translate3d("+tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){if(s.slides.transition(duration),s.params.virtualTranslate&&0!==duration){var eventTriggered=!1;s.slides.transitionEnd(function(){if(!eventTriggered&&s){eventTriggered=!0,s.animating=!1;for(var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<triggerEvents.length;i++)s.wrapper.trigger(triggerEvents[i])}})}}},cube:{setTranslate:function(){var cubeShadow,wrapperRotate=0;s.params.cube.shadow&&(isH()?(cubeShadow=s.wrapper.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.wrapper.append(cubeShadow)),cubeShadow.css({height:s.width+"px"})):(cubeShadow=s.container.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.container.append(cubeShadow))));for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),slideAngle=90*i,round=Math.floor(slideAngle/360);s.rtl&&(slideAngle=-slideAngle,round=Math.floor(-slideAngle/360));var progress=Math.max(Math.min(slide[0].progress,1),-1),tx=0,ty=0,tz=0;i%4===0?(tx=4*-round*s.size,tz=0):(i-1)%4===0?(tx=0,tz=4*-round*s.size):(i-2)%4===0?(tx=s.size+4*round*s.size,tz=s.size):(i-3)%4===0&&(tx=-s.size,tz=3*s.size+4*s.size*round),s.rtl&&(tx=-tx),isH()||(ty=tx,tx=0);var transform="rotateX("+(isH()?0:-slideAngle)+"deg) rotateY("+(isH()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(1>=progress&&progress>-1&&(wrapperRotate=90*i+90*progress,s.rtl&&(wrapperRotate=90*-i-90*progress)),slide.transform(transform),s.params.cube.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter));slide[0].progress;shadowBefore.length&&(shadowBefore[0].style.opacity=-slide[0].progress),shadowAfter.length&&(shadowAfter[0].style.opacity=slide[0].progress)}}if(s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"}),s.params.cube.shadow)if(isH())cubeShadow.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")");else{var shadowAngle=Math.abs(wrapperRotate)-90*Math.floor(Math.abs(wrapperRotate)/90),multiplier=1.5-(Math.sin(2*shadowAngle*Math.PI/360)/2+Math.cos(2*shadowAngle*Math.PI/360)/2),scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(isH()?0:wrapperRotate)+"deg) rotateY("+(isH()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration),s.params.cube.shadow&&!isH()&&s.container.find(".swiper-cube-shadow").transition(duration)}},coverflow:{setTranslate:function(){for(var transform=s.translate,center=isH()?-transform+s.width/2:-transform+s.height/2,rotate=isH()?s.params.coverflow.rotate:-s.params.coverflow.rotate,translate=s.params.coverflow.depth,i=0,length=s.slides.length;length>i;i++){var slide=s.slides.eq(i),slideSize=s.slidesSizesGrid[i],slideOffset=slide[0].swiperSlideOffset,offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier,rotateY=isH()?rotate*offsetMultiplier:0,rotateX=isH()?0:rotate*offsetMultiplier,translateZ=-translate*Math.abs(offsetMultiplier),translateY=isH()?0:s.params.coverflow.stretch*offsetMultiplier,translateX=isH()?s.params.coverflow.stretch*offsetMultiplier:0;Math.abs(translateX)<.001&&(translateX=0),Math.abs(translateY)<.001&&(translateY=0),Math.abs(translateZ)<.001&&(translateZ=0),Math.abs(rotateY)<.001&&(rotateY=0),Math.abs(rotateX)<.001&&(rotateX=0);var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";if(slide.transform(slideTransform),slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1,s.params.coverflow.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter)),shadowBefore.length&&(shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0),shadowAfter.length&&(shadowAfter[0].style.opacity=-offsetMultiplier>0?-offsetMultiplier:0)}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}},s.lazy={initialImageLoaded:!1,loadImageInSlide:function(index,loadInDuplicate){if("undefined"!=typeof index&&("undefined"==typeof loadInDuplicate&&(loadInDuplicate=!0),0!==s.slides.length)){var slide=s.slides.eq(index),img=slide.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!slide.hasClass("swiper-lazy")||slide.hasClass("swiper-lazy-loaded")||slide.hasClass("swiper-lazy-loading")||img.add(slide[0]),0!==img.length&&img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var background=_img.attr("data-background"),src=_img.attr("data-src");s.loadImage(_img[0],src||background,!1,function(){if(background?(_img.css("background-image","url("+background+")"),_img.removeAttr("data-background")):(_img.attr("src",src),_img.removeAttr("data-src")),_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),slide.find(".swiper-lazy-preloader, .preloader").remove(),s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr("data-swiper-slide-index");if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=s.wrapper.children('[data-swiper-slide-index="'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+")");s.lazy.loadImageInSlide(originalSlide.index(),!1)}else{var duplicatedSlide=s.wrapper.children("."+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),!1)}}s.emit("onLazyImageReady",s,slide[0],_img[0])}),s.emit("onLazyImageLoad",s,slide[0],_img[0])})}},load:function(){var i;if(s.params.watchSlidesVisibility)s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())});else if(s.params.slidesPerView>1)for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++)s.slides[i]&&s.lazy.loadImageInSlide(i);else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext)if(s.params.slidesPerView>1){for(i=s.activeIndex+s.params.slidesPerView;i<s.activeIndex+s.params.slidesPerView+s.params.slidesPerView;i++)s.slides[i]&&s.lazy.loadImageInSlide(i);for(i=s.activeIndex-s.params.slidesPerView;i<s.activeIndex;i++)s.slides[i]&&s.lazy.loadImageInSlide(i)}else{var nextSlide=s.wrapper.children("."+s.params.slideNextClass);nextSlide.length>0&&s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);prevSlide.length>0&&s.lazy.loadImageInSlide(prevSlide.index())}},onTransitionStart:function(){s.params.lazyLoading&&(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)&&s.lazy.load()},onTransitionEnd:function(){s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart&&s.lazy.load()}},s.scrollbar={set:function(){if(s.params.scrollbar){var sb=s.scrollbar;sb.track=$(s.params.scrollbar),sb.drag=sb.track.find(".swiper-scrollbar-drag"),0===sb.drag.length&&(sb.drag=$('<div class="swiper-scrollbar-drag"></div>'),sb.track.append(sb.drag)),sb.drag[0].style.width="",sb.drag[0].style.height="",sb.trackSize=isH()?sb.track[0].offsetWidth:sb.track[0].offsetHeight,sb.divider=s.size/s.virtualSize,sb.moveDivider=sb.divider*(sb.trackSize/s.size),sb.dragSize=sb.trackSize*sb.divider,isH()?sb.drag[0].style.width=sb.dragSize+"px":sb.drag[0].style.height=sb.dragSize+"px",sb.divider>=1?sb.track[0].style.display="none":sb.track[0].style.display="",s.params.scrollbarHide&&(sb.track[0].style.opacity=0)}},setTranslate:function(){if(s.params.scrollbar){var newPos,sb=s.scrollbar,newSize=(s.translate||0,sb.dragSize);newPos=(sb.trackSize-sb.dragSize)*s.progress,s.rtl&&isH()?(newPos=-newPos,newPos>0?(newSize=sb.dragSize-newPos,newPos=0):-newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize+newPos)):0>newPos?(newSize=sb.dragSize+newPos,newPos=0):newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize-newPos),isH()?(s.support.transforms3d?sb.drag.transform("translate3d("+newPos+"px, 0, 0)"):sb.drag.transform("translateX("+newPos+"px)"),sb.drag[0].style.width=newSize+"px"):(s.support.transforms3d?sb.drag.transform("translate3d(0px, "+newPos+"px, 0)"):sb.drag.transform("translateY("+newPos+"px)"),sb.drag[0].style.height=newSize+"px"),s.params.scrollbarHide&&(clearTimeout(sb.timeout),sb.track[0].style.opacity=1,sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0,sb.track.transition(400)},1e3))}},setTransition:function(duration){s.params.scrollbar&&s.scrollbar.drag.transition(duration)}},s.controller={LinearSpline:function(x,y){this.x=x,this.y=y,this.lastIndex=x.length-1;var i1,i3;this.x.length;this.interpolate=function(x2){return x2?(i3=binarySearch(this.x,x2),i1=i3-1,(x2-this.x[i1])*(this.y[i3]-this.y[i1])/(this.x[i3]-this.x[i1])+this.y[i1]):0};var binarySearch=function(){var maxIndex,minIndex,guess;return function(array,val){for(minIndex=-1,maxIndex=array.length;maxIndex-minIndex>1;)array[guess=maxIndex+minIndex>>1]<=val?minIndex=guess:maxIndex=guess;return maxIndex}}()},getInterpolateFunction:function(c){s.controller.spline||(s.controller.spline=s.params.loop?new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid):new s.controller.LinearSpline(s.snapGrid,c.snapGrid))},setTranslate:function(translate,byController){function setControlledTranslate(c){translate=c.rtl&&"horizontal"===c.params.direction?-s.translate:s.translate,"slide"===s.params.controlBy&&(s.controller.getInterpolateFunction(c),controlledTranslate=-s.controller.spline.interpolate(-translate)),controlledTranslate&&"container"!==s.params.controlBy||(multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate()),controlledTranslate=(translate-s.minTranslate())*multiplier+c.minTranslate()),s.params.controlInverse&&(controlledTranslate=c.maxTranslate()-controlledTranslate),c.updateProgress(controlledTranslate),c.setWrapperTranslate(controlledTranslate,!1,s),c.updateActiveIndex()}var multiplier,controlledTranslate,controlled=s.params.control;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&setControlledTranslate(controlled[i]);else controlled instanceof Swiper&&byController!==controlled&&setControlledTranslate(controlled)},setTransition:function(duration,byController){function setControlledTransition(c){c.setWrapperTransition(duration,s),0!==duration&&(c.onTransitionStart(),c.wrapper.transitionEnd(function(){controlled&&(c.params.loop&&"slide"===s.params.controlBy&&c.fixLoop(),c.onTransitionEnd())}))}var i,controlled=s.params.control;if(s.isArray(controlled))for(i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&setControlledTransition(controlled[i]);else controlled instanceof Swiper&&byController!==controlled&&setControlledTransition(controlled)}},s.hashnav={init:function(){if(s.params.hashnav){s.hashnav.initialized=!0;var hash=document.location.hash.replace("#","");if(hash)for(var speed=0,i=0,length=s.slides.length;length>i;i++){var slide=s.slides.eq(i),slideHash=slide.attr("data-hash");if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,!0)}}}},setHash:function(){s.hashnav.initialized&&s.params.hashnav&&(document.location.hash=s.slides.eq(s.activeIndex).attr("data-hash")||"")}},s.disableKeyboardControl=function(){$(document).off("keydown",handleKeyboard)},s.enableKeyboardControl=function(){$(document).on("keydown",handleKeyboard)},s.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},s.params.mousewheelControl){try{new window.WheelEvent("wheel"),s.mousewheel.event="wheel"}catch(e){}s.mousewheel.event||void 0===document.onmousewheel||(s.mousewheel.event="mousewheel"),s.mousewheel.event||(s.mousewheel.event="DOMMouseScroll")}s.disableMousewheelControl=function(){return s.mousewheel.event?(s.container.off(s.mousewheel.event,handleMousewheel),!0):!1},s.enableMousewheelControl=function(){return s.mousewheel.event?(s.container.on(s.mousewheel.event,handleMousewheel),!0):!1},s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)}),s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){"undefined"==typeof duration&&(duration=s.params.speed),s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this),parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;0===duration&&(parallaxDuration=0),el.transition(parallaxDuration)})}},s._plugins=[];for(var plugin in s.plugins){var p=s.plugins[plugin](s,s.params[plugin]);p&&s._plugins.push(p)}return s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++)eventName in s._plugins[i]&&s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.emitterEventListeners={},s.emit=function(eventName){s.params[eventName]&&s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(s.emitterEventListeners[eventName])for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);s.callPlugins&&s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.on=function(eventName,handler){return eventName=normalizeEventName(eventName),s.emitterEventListeners[eventName]||(s.emitterEventListeners[eventName]=[]),s.emitterEventListeners[eventName].push(handler),s},s.off=function(eventName,handler){var i;if(eventName=normalizeEventName(eventName),"undefined"==typeof handler)return s.emitterEventListeners[eventName]=[],s;if(s.emitterEventListeners[eventName]&&0!==s.emitterEventListeners[eventName].length){for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i]===handler&&s.emitterEventListeners[eventName].splice(i,1);return s}},s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),s.off(eventName,_handler)};return s.on(eventName,_handler),s},s.a11y={makeFocusable:function($el){return $el.attr("tabIndex","0"),$el},addRole:function($el,role){return $el.attr("role",role),$el},addLabel:function($el,label){return $el.attr("aria-label",label),$el},disable:function($el){return $el.attr("aria-disabled",!0),$el},enable:function($el){return $el.attr("aria-disabled",!1),$el},onEnterKey:function(event){13===event.keyCode&&($(event.target).is(s.params.nextButton)?(s.onClickNext(event),s.isEnd?s.a11y.notify(s.params.lastSlideMessage):s.a11y.notify(s.params.nextSlideMessage)):$(event.target).is(s.params.prevButton)&&(s.onClickPrev(event),s.isBeginning?s.a11y.notify(s.params.firstSlideMessage):s.a11y.notify(s.params.prevSlideMessage)),$(event.target).is("."+s.params.bulletClass)&&$(event.target)[0].click())},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;0!==notification.length&&(notification.html(""),notification.html(message))},init:function(){if(s.params.nextButton){var nextButton=$(s.params.nextButton);s.a11y.makeFocusable(nextButton),s.a11y.addRole(nextButton,"button"),s.a11y.addLabel(nextButton,s.params.nextSlideMessage)}if(s.params.prevButton){var prevButton=$(s.params.prevButton);s.a11y.makeFocusable(prevButton),s.a11y.addRole(prevButton,"button"),s.a11y.addLabel(prevButton,s.params.prevSlideMessage)}$(s.container).append(s.a11y.liveRegion)},initPagination:function(){s.params.pagination&&s.params.paginationClickable&&s.bullets&&s.bullets.length&&s.bullets.each(function(){var bullet=$(this);s.a11y.makeFocusable(bullet),s.a11y.addRole(bullet,"button"),s.a11y.addLabel(bullet,s.params.paginationBulletMessage.replace(/{{index}}/,bullet.index()+1))})},destroy:function(){s.a11y.liveRegion&&s.a11y.liveRegion.length>0&&s.a11y.liveRegion.remove()}},s.init=function(){s.params.loop&&s.createLoop(),s.updateContainerSize(),s.updateSlidesSize(),s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&(s.params.loop||s.updateProgress(),s.effects[s.params.effect].setTranslate()),s.params.loop?s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit):(s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit),0===s.params.initialSlide&&(s.parallax&&s.params.parallax&&s.parallax.setTranslate(),s.lazy&&s.params.lazyLoading&&(s.lazy.load(),s.lazy.initialImageLoaded=!0))),s.attachEvents(),s.params.observer&&s.support.observer&&s.initObservers(),s.params.preloadImages&&!s.params.lazyLoading&&s.preloadImages(),s.params.autoplay&&s.startAutoplay(),s.params.keyboardControl&&s.enableKeyboardControl&&s.enableKeyboardControl(),s.params.mousewheelControl&&s.enableMousewheelControl&&s.enableMousewheelControl(),s.params.hashnav&&s.hashnav&&s.hashnav.init(),s.params.a11y&&s.a11y&&s.a11y.init(),s.emit("onInit",s)},s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style"),s.wrapper.removeAttr("style"),s.slides&&s.slides.length&&s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),s.paginationContainer&&s.paginationContainer.length&&s.paginationContainer.removeClass(s.params.paginationHiddenClass),s.bullets&&s.bullets.length&&s.bullets.removeClass(s.params.bulletActiveClass),s.params.prevButton&&$(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.nextButton&&$(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.scrollbar&&s.scrollbar&&(s.scrollbar.track&&s.scrollbar.track.length&&s.scrollbar.track.removeAttr("style"),s.scrollbar.drag&&s.scrollbar.drag.length&&s.scrollbar.drag.removeAttr("style"))},s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents(),s.stopAutoplay(),s.params.loop&&s.destroyLoop(),cleanupStyles&&s.cleanupStyles(),s.disconnectObservers(),s.params.keyboardControl&&s.disableKeyboardControl&&s.disableKeyboardControl(),s.params.mousewheelControl&&s.disableMousewheelControl&&s.disableMousewheelControl(),s.params.a11y&&s.a11y&&s.a11y.destroy(),s.emit("onDestroy"),deleteInstance!==!1&&(s=null)},s.init(),s}}function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;return lib(this).each(function(){var s=new Swiper(this,params);firstInstance||(firstInstance=s)}),firstInstance}}var $;module.exports.Swiper=Swiper,Swiper.prototype={isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return"[object Array]"===Object.prototype.toString.apply(arr)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent,android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipod,android:android}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){for(var div=document.createElement("div").style,styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<styles.length;i++)if(styles[i]in div)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var Dom7=(function(){var Dom7=function(arr){var _this=this,i=0;for(i=0;i<arr.length;i++)_this[i]=arr[i];return _this.length=arr.length,this},$=function(selector,context){var arr=[],i=0;if(selector&&!context&&selector instanceof Dom7)return selector;if(selector)if("string"==typeof selector){var els,tempParent,html=selector.trim();if(html.indexOf("<")>=0&&html.indexOf(">")>=0){var toCreate="div";for(0===html.indexOf("<li")&&(toCreate="ul"),0===html.indexOf("<tr")&&(toCreate="tbody"),0!==html.indexOf("<td")&&0!==html.indexOf("<th")||(toCreate="tr"),0===html.indexOf("<tbody")&&(toCreate="table"),0===html.indexOf("<option")&&(toCreate="select"),tempParent=document.createElement(toCreate),tempParent.innerHTML=selector,i=0;i<tempParent.childNodes.length;i++)arr.push(tempParent.childNodes[i])}else for(els=context||"#"!==selector[0]||selector.match(/[ .<>:~]/)?(context||document).querySelectorAll(selector):[document.getElementById(selector.split("#")[1])],i=0;i<els.length;i++)els[i]&&arr.push(els[i])}else if(selector.nodeType||selector===window||selector===document)arr.push(selector);else if(selector.length>0&&selector[0].nodeType)for(i=0;i<selector.length;i++)arr.push(selector[i]);return new Dom7(arr)};return Dom7.prototype={addClass:function(className){if("undefined"==typeof className)return this;for(var classes=className.split(" "),i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.add(classes[i]);return this},removeClass:function(className){for(var classes=className.split(" "),i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.remove(classes[i]);return this},hasClass:function(className){return this[0]?this[0].classList.contains(className):!1},toggleClass:function(className){for(var classes=className.split(" "),i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.toggle(classes[i]);return this},attr:function(attrs,value){if(1===arguments.length&&"string"==typeof attrs)return this[0]?this[0].getAttribute(attrs):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(attrs,value);else for(var attrName in attrs)this[i][attrName]=attrs[attrName],this[i].setAttribute(attrName,attrs[attrName]);return this},removeAttr:function(attr){for(var i=0;i<this.length;i++)this[i].removeAttribute(attr);return this},data:function(key,value){if("undefined"!=typeof value){for(var i=0;i<this.length;i++){var el=this[i];el.dom7ElementDataStorage||(el.dom7ElementDataStorage={}),el.dom7ElementDataStorage[key]=value}return this}if(this[0]){var dataKey=this[0].getAttribute("data-"+key);return dataKey?dataKey:this[0].dom7ElementDataStorage&&key in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[key]:void 0}},transform:function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this},transition:function(duration){"string"!=typeof duration&&(duration+="ms");for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this},on:function(eventName,targetSelector,listener,capture){function handleLiveEvent(e){var target=e.target;if($(target).is(targetSelector))listener.call(target,e);else for(var parents=$(target).parents(),k=0;k<parents.length;k++)$(parents[k]).is(targetSelector)&&listener.call(parents[k],e)}var i,j,events=eventName.split(" ");for(i=0;i<this.length;i++)if("function"==typeof targetSelector||targetSelector===!1)for("function"==typeof targetSelector&&(listener=arguments[1],capture=arguments[2]||!1),j=0;j<events.length;j++)this[i].addEventListener(events[j],listener,capture);else for(j=0;j<events.length;j++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i].dom7LiveListeners.push({listener:listener,liveListener:handleLiveEvent}),this[i].addEventListener(events[j],handleLiveEvent,capture);return this},off:function(eventName,targetSelector,listener,capture){for(var events=eventName.split(" "),i=0;i<events.length;i++)for(var j=0;j<this.length;j++)if("function"==typeof targetSelector||targetSelector===!1)"function"==typeof targetSelector&&(listener=arguments[1],capture=arguments[2]||!1),this[j].removeEventListener(events[i],listener,capture);else if(this[j].dom7LiveListeners)for(var k=0;k<this[j].dom7LiveListeners.length;k++)this[j].dom7LiveListeners[k].listener===listener&&this[j].removeEventListener(events[i],this[j].dom7LiveListeners[k].liveListener,capture);return this},once:function(eventName,targetSelector,listener,capture){function proxy(e){listener(e),dom.off(eventName,targetSelector,proxy,capture)}var dom=this;"function"==typeof targetSelector&&(targetSelector=!1,listener=arguments[1],capture=arguments[2]),dom.on(eventName,targetSelector,proxy,capture)},trigger:function(eventName,eventData){for(var i=0;i<this.length;i++){var evt;try{evt=new window.CustomEvent(eventName,{detail:eventData,bubbles:!0,cancelable:!0})}catch(e){evt=document.createEvent("Event"),evt.initEvent(eventName,!0,!0),evt.detail=eventData}this[i].dispatchEvent(evt)}return this},transitionEnd:function(callback){function fireCallBack(e){if(e.target===this)for(callback.call(this,e),i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}var i,events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(includeMargins){return this.length>0?includeMargins?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(includeMargins){return this.length>0?includeMargins?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){
var el=this[0],box=el.getBoundingClientRect(),body=document.body,clientTop=el.clientTop||body.clientTop||0,clientLeft=el.clientLeft||body.clientLeft||0,scrollTop=window.pageYOffset||el.scrollTop,scrollLeft=window.pageXOffset||el.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}}return null},css:function(props,value){var i;if(1===arguments.length){if("string"!=typeof props){for(i=0;i<this.length;i++)for(var prop in props)this[i].style[prop]=props[prop];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(props)}if(2===arguments.length&&"string"==typeof props){for(i=0;i<this.length;i++)this[i].style[props]=value;return this}return this},each:function(callback){for(var i=0;i<this.length;i++)callback.call(this[i],i,this[i]);return this},html:function(html){if("undefined"==typeof html)return this[0]?this[0].innerHTML:void 0;for(var i=0;i<this.length;i++)this[i].innerHTML=html;return this},is:function(selector){if(!this[0])return!1;var compareWith,i;if("string"==typeof selector){var el=this[0];if(el===document)return selector===document;if(el===window)return selector===window;if(el.matches)return el.matches(selector);if(el.webkitMatchesSelector)return el.webkitMatchesSelector(selector);if(el.mozMatchesSelector)return el.mozMatchesSelector(selector);if(el.msMatchesSelector)return el.msMatchesSelector(selector);for(compareWith=$(selector),i=0;i<compareWith.length;i++)if(compareWith[i]===this[0])return!0;return!1}if(selector===document)return this[0]===document;if(selector===window)return this[0]===window;if(selector.nodeType||selector instanceof Dom7){for(compareWith=selector.nodeType?[selector]:selector,i=0;i<compareWith.length;i++)if(compareWith[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var child=this[0],i=0;null!==(child=child.previousSibling);)1===child.nodeType&&i++;return i}},eq:function(index){if("undefined"==typeof index)return this;var returnIndex,length=this.length;return index>length-1?new Dom7([]):0>index?(returnIndex=length+index,new Dom7(0>returnIndex?[]:[this[returnIndex]])):new Dom7([this[index]])},append:function(newChild){var i,j;for(i=0;i<this.length;i++)if("string"==typeof newChild){var tempDiv=document.createElement("div");for(tempDiv.innerHTML=newChild;tempDiv.firstChild;)this[i].appendChild(tempDiv.firstChild)}else if(newChild instanceof Dom7)for(j=0;j<newChild.length;j++)this[i].appendChild(newChild[j]);else this[i].appendChild(newChild);return this},prepend:function(newChild){var i,j;for(i=0;i<this.length;i++)if("string"==typeof newChild){var tempDiv=document.createElement("div");for(tempDiv.innerHTML=newChild,j=tempDiv.childNodes.length-1;j>=0;j--)this[i].insertBefore(tempDiv.childNodes[j],this[i].childNodes[0])}else if(newChild instanceof Dom7)for(j=0;j<newChild.length;j++)this[i].insertBefore(newChild[j],this[i].childNodes[0]);else this[i].insertBefore(newChild,this[i].childNodes[0]);return this},insertBefore:function(selector){for(var before=$(selector),i=0;i<this.length;i++)if(1===before.length)before[0].parentNode.insertBefore(this[i],before[0]);else if(before.length>1)for(var j=0;j<before.length;j++)before[j].parentNode.insertBefore(this[i].cloneNode(!0),before[j])},insertAfter:function(selector){for(var after=$(selector),i=0;i<this.length;i++)if(1===after.length)after[0].parentNode.insertBefore(this[i],after[0].nextSibling);else if(after.length>1)for(var j=0;j<after.length;j++)after[j].parentNode.insertBefore(this[i].cloneNode(!0),after[j].nextSibling)},next:function(selector){return new Dom7(this.length>0?selector?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(selector)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(selector){var nextEls=[],el=this[0];if(!el)return new Dom7([]);for(;el.nextElementSibling;){var next=el.nextElementSibling;selector?$(next).is(selector)&&nextEls.push(next):nextEls.push(next),el=next}return new Dom7(nextEls)},prev:function(selector){return new Dom7(this.length>0?selector?this[0].previousElementSibling&&$(this[0].previousElementSibling).is(selector)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(selector){var prevEls=[],el=this[0];if(!el)return new Dom7([]);for(;el.previousElementSibling;){var prev=el.previousElementSibling;selector?$(prev).is(selector)&&prevEls.push(prev):prevEls.push(prev),el=prev}return new Dom7(prevEls)},parent:function(selector){for(var parents=[],i=0;i<this.length;i++)selector?$(this[i].parentNode).is(selector)&&parents.push(this[i].parentNode):parents.push(this[i].parentNode);return $($.unique(parents))},parents:function(selector){for(var parents=[],i=0;i<this.length;i++)for(var parent=this[i].parentNode;parent;)selector?$(parent).is(selector)&&parents.push(parent):parents.push(parent),parent=parent.parentNode;return $($.unique(parents))},find:function(selector){for(var foundElements=[],i=0;i<this.length;i++)for(var found=this[i].querySelectorAll(selector),j=0;j<found.length;j++)foundElements.push(found[j]);return new Dom7(foundElements)},children:function(selector){for(var children=[],i=0;i<this.length;i++)for(var childNodes=this[i].childNodes,j=0;j<childNodes.length;j++)selector?1===childNodes[j].nodeType&&$(childNodes[j]).is(selector)&&children.push(childNodes[j]):1===childNodes[j].nodeType&&children.push(childNodes[j]);return new Dom7($.unique(children))},remove:function(){for(var i=0;i<this.length;i++)this[i].parentNode&&this[i].parentNode.removeChild(this[i]);return this},add:function(){var i,j,dom=this;for(i=0;i<arguments.length;i++){var toAdd=$(arguments[i]);for(j=0;j<toAdd.length;j++)dom[dom.length]=toAdd[j],dom.length++}return dom}},$.fn=Dom7.prototype,$.unique=function(arr){for(var unique=[],i=0;i<arr.length;i++)-1===unique.indexOf(arr[i])&&unique.push(arr[i]);return unique},$}()),swiperDomPlugins=["jQuery","Zepto","Dom7"],i=0;i<swiperDomPlugins.length;i++)window[swiperDomPlugins[i]]&&addLibraryPlugin(window[swiperDomPlugins[i]]);var domLib;domLib="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,domLib&&("transitionEnd"in domLib.fn||(domLib.fn.transitionEnd=function(callback){function fireCallBack(e){if(e.target===this)for(callback.call(this,e),i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}var i,events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this}),"transform"in domLib.fn||(domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this}),"transition"in domLib.fn||(domLib.fn.transition=function(duration){"string"!=typeof duration&&(duration+="ms");for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this}))},{}],317:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),config_1=require("../../config/config"),Spinner=function(){function Spinner(_config){this._config=_config,this._dur=null,this.paused=!1}return Object.defineProperty(Spinner.prototype,"name",{get:function(){return this._name},set:function(val){this._name=val,this.load()},enumerable:!0,configurable:!0}),Object.defineProperty(Spinner.prototype,"duration",{get:function(){return this._dur},set:function(val){this._dur=val,this.load()},enumerable:!0,configurable:!0}),Spinner.prototype.ngOnInit=function(){this._init=!0,this.load()},Spinner.prototype.load=function(){if(this._init){this._l=[],this._c=[];var name=this._name||this._config.get("spinner","ios"),spinner=SPINNERS[name];if(spinner)if(this._applied="spinner-"+name,spinner.lines)for(var i=0,l=spinner.lines;l>i;i++)this._l.push(this._loadEle(spinner,i,l));else if(spinner.circles)for(var i=0,l=spinner.circles;l>i;i++)this._c.push(this._loadEle(spinner,i,l))}},Spinner.prototype._loadEle=function(spinner,index,total){var duration=this._dur||spinner.dur,data=spinner.fn(duration,index,total);return data.style.animationDuration=duration+"ms",data},__decorate([core_1.Input(),__metadata("design:type",String)],Spinner.prototype,"name",null),__decorate([core_1.Input(),__metadata("design:type",Number)],Spinner.prototype,"duration",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Spinner.prototype,"paused",void 0),Spinner=__decorate([core_1.Component({selector:"ion-spinner",template:'<svg viewBox="0 0 64 64" *ngFor="#i of _c" [ngStyle]="i.style"><circle [attr.r]="i.r" transform="translate(32,32)"></circle></svg><svg viewBox="0 0 64 64" *ngFor="#i of _l" [ngStyle]="i.style"><line [attr.y1]="i.y1" [attr.y2]="i.y2" transform="translate(32,32)"></line></svg>',directives:[common_1.NgStyle],host:{"[class]":"_applied","[class.spinner-paused]":"paused"},changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[config_1.Config])],Spinner)}();exports.Spinner=Spinner;var SPINNERS={ios:{dur:1e3,lines:12,fn:function(dur,index,total){return{y1:17,y2:29,style:{transform:"rotate("+(30*index+(6>index?180:-180))+"deg)",animationDelay:-(dur-dur/total*index)+"ms"}}}},"ios-small":{dur:1e3,lines:12,fn:function(dur,index,total){return{y1:12,y2:20,style:{transform:"rotate("+(30*index+(6>index?180:-180))+"deg)",animationDelay:-(dur-dur/total*index)+"ms"}}}},bubbles:{dur:1e3,circles:9,fn:function(dur,index,total){return{r:5,style:{top:9*Math.sin(2*Math.PI*index/total),left:9*Math.cos(2*Math.PI*index/total),animationDelay:-(dur-dur/total*index)+"ms"}}}},circles:{dur:1e3,circles:8,fn:function(dur,index,total){return{r:5,style:{top:9*Math.sin(2*Math.PI*index/total),left:9*Math.cos(2*Math.PI*index/total),animationDelay:-(dur-dur/total*index)+"ms"}}}},crescent:{dur:750,circles:1,fn:function(dur){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(dur,index,total){return{r:6,style:{left:9-9*index,animationDelay:-(110*index)+"ms"}}}}}},{"../../config/config":332,"angular2/common":9,"angular2/core":11}],318:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),tab_1=require("./tab"),ion_1=require("../ion"),config_1=require("../../config/config"),TabButton=function(_super){function TabButton(config,elementRef){_super.call(this,elementRef),this.select=new core_1.EventEmitter,this.disHover=config.get("hoverCSS")===!1,this._layout=config.get("tabbarLayout")}return __extends(TabButton,_super),TabButton.prototype.ngOnInit=function(){this.tab.btn=this,this._layout=this.tab.parent.tabbarLayout||this._layout,this.hasTitle=!!this.tab.tabTitle,this.hasIcon=!!this.tab.tabIcon&&"icon-hide"!==this._layout,this.hasTitleOnly=this.hasTitle&&!this.hasIcon,this.hasIconOnly=this.hasIcon&&!this.hasTitle,this.hasBadge=!!this.tab.tabBadge},TabButton.prototype.onClick=function(){this.select.emit(this.tab)},__decorate([core_1.Input(),__metadata("design:type",tab_1.Tab)],TabButton.prototype,"tab",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],TabButton.prototype,"select",void 0),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],TabButton.prototype,"onClick",null),TabButton=__decorate([core_1.Directive({selector:".tab-button",host:{"[attr.id]":"tab._btnId","[attr.aria-controls]":"tab._panelId","[attr.aria-selected]":"tab.isSelected","[class.has-title]":"hasTitle","[class.has-icon]":"hasIcon","[class.has-title-only]":"hasTitleOnly","[class.icon-only]":"hasIconOnly","[class.has-badge]":"hasBadge","[class.disable-hover]":"disHover"}}),__metadata("design:paramtypes",[config_1.Config,core_1.ElementRef])],TabButton)}(ion_1.Ion);exports.TabButton=TabButton},{"../../config/config":332,"../ion":281,"./tab":320,"angular2/core":11}],319:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),dom_1=require("../../util/dom"),TabHighlight=function(){function TabHighlight(_elementRef){this._elementRef=_elementRef}return TabHighlight.prototype.select=function(tab){var _this=this;dom_1.rafFrames(3,function(){var d=tab.btn.getDimensions(),ele=_this._elementRef.nativeElement;ele.style.transform="translate3d("+d.left+"px,0,0) scaleX("+d.width+")",_this._init||(_this._init=!0,dom_1.rafFrames(6,function(){ele.classList.add("animate")}))})},TabHighlight=__decorate([core_1.Directive({selector:"tab-highlight"}),__metadata("design:paramtypes",[core_1.ElementRef])],TabHighlight)}();exports.TabHighlight=TabHighlight},{"../../util/dom":357,"angular2/core":11}],320:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),core_2=require("angular2/core"),app_1=require("../app/app"),config_1=require("../../config/config"),util_1=require("../../util/util"),keyboard_1=require("../../util/keyboard"),nav_controller_1=require("../nav/nav-controller"),tabs_1=require("./tabs"),Tab=function(_super){function Tab(parentTabs,app,config,keyboard,elementRef,compiler,viewManager,zone,renderer,_cd){_super.call(this,parentTabs,app,config,keyboard,elementRef,"contents",compiler,viewManager,zone,renderer),this._cd=_cd,this._isEnabled=!0,this._isShown=!0,this.select=new core_2.EventEmitter,parentTabs.add(this),this._panelId="tabpanel-"+this.id,this._btnId="tab-"+this.id}return __extends(Tab,_super),Object.defineProperty(Tab.prototype,"enabled",{get:function(){return this._isEnabled},set:function(val){this._isEnabled=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Object.defineProperty(Tab.prototype,"show",{get:function(){return this._isShown},set:function(val){this._isShown=util_1.isTrueProperty(val)},enumerable:!0,configurable:!0}),Tab.prototype.ngOnInit=function(){this.tabBadgeStyle=this.tabBadgeStyle?this.tabBadgeStyle:"default"},Tab.prototype.load=function(opts,done){!this._loaded&&this.root?(this.push(this.root,this.rootParams,opts).then(function(){done()}),this._loaded=!0):done()},Tab.prototype.preload=function(wait){var _this=this;this._loadTmr=setTimeout(function(){_this._loaded||_this.load({animate:!1,preload:!0,postLoad:function(viewCtrl){var navbar=viewCtrl.getNavbar();navbar&&navbar.setHidden(!0)}},function(){})},wait)},Tab.prototype.loadPage=function(viewCtrl,navbarContainerRef,opts,done){navbarContainerRef=this.parent.navbarContainerRef;var isTabSubPage=this.parent.subPages&&viewCtrl.index>0;isTabSubPage&&(navbarContainerRef=null),_super.prototype.loadPage.call(this,viewCtrl,navbarContainerRef,opts,function(){viewCtrl.instance&&(viewCtrl.instance._tabSubPage=isTabSubPage),done()})},Tab.prototype.setSelected=function(isSelected){this.isSelected=isSelected,isSelected?this._cd.reattach():this._cd.detach(),this.hideNavbars(!isSelected)},Tab.prototype.hideNavbars=function(shouldHideNavbars){this._views.forEach(function(viewCtrl){var navbar=viewCtrl.getNavbar();navbar&&navbar.setHidden(shouldHideNavbars)})},Object.defineProperty(Tab.prototype,"index",{get:function(){return this.parent.getIndex(this)},enumerable:!0,configurable:!0}),Tab.prototype.ngOnDestroy=function(){clearTimeout(this._loadTmr),_super.prototype.ngOnDestroy.call(this)},__decorate([core_2.Input(),__metadata("design:type",core_1.Type)],Tab.prototype,"root",void 0),__decorate([core_2.Input(),__metadata("design:type",Object)],Tab.prototype,"rootParams",void 0),__decorate([core_2.Input(),__metadata("design:type",String)],Tab.prototype,"tabTitle",void 0),__decorate([core_2.Input(),__metadata("design:type",String)],Tab.prototype,"tabIcon",void 0),__decorate([core_2.Input(),__metadata("design:type",String)],Tab.prototype,"tabBadge",void 0),__decorate([core_2.Input(),__metadata("design:type",String)],Tab.prototype,"tabBadgeStyle",void 0),__decorate([core_2.Input(),__metadata("design:type",Boolean)],Tab.prototype,"enabled",null),__decorate([core_2.Input(),__metadata("design:type",Boolean)],Tab.prototype,"show",null),__decorate([core_2.Output(),__metadata("design:type",core_2.EventEmitter)],Tab.prototype,"select",void 0),Tab=__decorate([core_1.Component({selector:"ion-tab",host:{"[class.show-tab]":"isSelected","[attr.id]":"_panelId","[attr.aria-labelledby]":"_btnId",role:"tabpanel"},template:"<div #contents></div>",encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Inject(core_1.forwardRef(function(){return tabs_1.Tabs}))),__metadata("design:paramtypes",[tabs_1.Tabs,app_1.IonicApp,config_1.Config,keyboard_1.Keyboard,core_1.ElementRef,core_1.Compiler,core_1.AppViewManager,core_1.NgZone,core_1.Renderer,core_1.ChangeDetectorRef])],Tab)}(nav_controller_1.NavController);exports.Tab=Tab},{"../../config/config":332,"../../util/keyboard":361,"../../util/util":363,"../app/app":267,"../nav/nav-controller":295,"./tabs":321,"angular2/core":11}],321:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),app_1=require("../app/app"),config_1=require("../../config/config"),tab_button_1=require("./tab-button"),tab_highlight_1=require("./tab-highlight"),ion_1=require("../ion"),platform_1=require("../../platform/platform"),nav_controller_1=require("../nav/nav-controller"),view_controller_1=require("../nav/view-controller"),icon_1=require("../icon/icon"),util_1=require("../../util/util"),Tabs=function(_super){function Tabs(parent,viewCtrl,_app,_config,_elementRef,_platform,_renderer){var _this=this;_super.call(this,_elementRef),this._app=_app,this._config=_config,this._elementRef=_elementRef,this._platform=_platform,this._renderer=_renderer,this._ids=-1,this._preloadTabs=null,this._tabs=[],this._onReady=null,this.change=new core_1.EventEmitter,this.parent=parent,this.id=++tabIds,this.subPages=_config.getBoolean("tabSubPages"),this._useHighlight=_config.getBoolean("tabbarHighlight"),this._sbPadding=_config.getBoolean("statusbarPadding",!1),parent?parent.registerChildNav(this):this._app&&this._app.setRootNav(this),viewCtrl&&(viewCtrl.setContent(this),viewCtrl.setContentRef(_elementRef),viewCtrl.onReady=function(done){_this._onReady=done})}return __extends(Tabs,_super),Tabs.prototype.ngAfterViewInit=function(){var _this=this;this._setConfig("tabbarPlacement","bottom"),this._setConfig("tabbarLayout","icon-top"),this._useHighlight&&this._platform.onResize(function(){_this._highlight.select(_this.getSelected())}),this._btns.toArray().forEach(function(tabButton){tabButton.select.subscribe(function(tab){_this.select(tab)})})},Tabs.prototype.ngAfterContentInit=function(){var _this=this,preloadTabs=util_1.isBlank(this.preloadTabs)?this._config.getBoolean("preloadTabs"):util_1.isTrueProperty(this.preloadTabs),selectedIndex=this.selectedIndex?parseInt(this.selectedIndex,10):0,availableIndex=-1;this._tabs.forEach(function(tab,index){tab.enabled&&tab.show&&0>availableIndex&&(availableIndex=index),index!==selectedIndex||tab.enabled&&tab.show||(selectedIndex=-1)}),0>selectedIndex&&(selectedIndex=availableIndex),this._tabs.forEach(function(tab,index){index===selectedIndex?_this.select(tab):preloadTabs&&tab.preload(1e3*index)})},Tabs.prototype._setConfig=function(attrKey,fallback){var val=this[attrKey];util_1.isBlank(val)&&(val=this._config.get(attrKey,fallback)),this._renderer.setElementAttribute(this._elementRef.nativeElement,attrKey,val)},Tabs.prototype.add=function(tab){tab.id=this.id+"-"+ ++this._ids,this._tabs.push(tab)},Tabs.prototype.select=function(tabOrIndex){var _this=this,selectedTab="number"==typeof tabOrIndex?this.getByIndex(tabOrIndex):tabOrIndex;if(selectedTab){var deselectedTab=this.getSelected();if(selectedTab===deselectedTab)return this._touchActive(selectedTab);var deselectedPage,opts={animate:!1};deselectedTab&&(deselectedPage=deselectedTab.getActive(),deselectedPage&&deselectedPage.willLeave());var selectedPage=selectedTab.getActive();selectedPage&&selectedPage.willEnter(),selectedTab.load(opts,function(){selectedTab.select.emit(selectedTab),_this.change.emit(selectedTab),selectedTab.root&&(_this._tabs.forEach(function(tab){tab.setSelected(tab===selectedTab)}),_this._useHighlight&&_this._highlight.select(selectedTab)),selectedPage&&selectedPage.didEnter(),deselectedPage&&deselectedPage.didLeave(),_this._onReady&&(_this._onReady(),_this._onReady=null)})}},Tabs.prototype.getByIndex=function(index){return index<this._tabs.length&&index>-1?this._tabs[index]:null},Tabs.prototype.getSelected=function(){for(var i=0;i<this._tabs.length;i++)if(this._tabs[i].isSelected)return this._tabs[i];return null},Tabs.prototype.getActiveChildNav=function(){return this.getSelected()},Tabs.prototype.getIndex=function(tab){return this._tabs.indexOf(tab)},Tabs.prototype._touchActive=function(tab){var active=tab.getActive();if(!active)return Promise.resolve();var instance=active.instance;return instance.tabSelected?instance.tabSelected():tab.length()>1?tab.popToRoot():tab.root!==active.componentType?tab.setRoot(tab.root):Promise.resolve()},Object.defineProperty(Tabs.prototype,"rootNav",{get:function(){for(var nav=this.parent;nav.parent;)nav=nav.parent;return nav},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Object)],Tabs.prototype,"selectedIndex",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],Tabs.prototype,"preloadTabs",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tabs.prototype,"tabbarLayout",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Tabs.prototype,"tabbarPlacement",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Tabs.prototype,"change",void 0),__decorate([core_1.ViewChild(tab_highlight_1.TabHighlight),__metadata("design:type",tab_highlight_1.TabHighlight)],Tabs.prototype,"_highlight",void 0),__decorate([core_1.ViewChildren(tab_button_1.TabButton),__metadata("design:type",Object)],Tabs.prototype,"_btns",void 0),Tabs=__decorate([core_1.Component({selector:"ion-tabs",template:'<ion-navbar-section [class.statusbar-padding]="_sbPadding"><template navbar-anchor></template></ion-navbar-section><ion-tabbar-section><tabbar role="tablist"><a *ngFor="#t of _tabs" [tab]="t" class="tab-button" [class.tab-disabled]="!t.enabled" [class.tab-hidden]="!t.show" role="tab"><ion-icon *ngIf="t.tabIcon" [name]="t.tabIcon" [isActive]="t.isSelected" class="tab-button-icon"></ion-icon><span *ngIf="t.tabTitle" class="tab-button-text">{{t.tabTitle}}</span><ion-badge *ngIf="t.tabBadge" class="tab-badge" [ngClass]="\'badge-\' + t.tabBadgeStyle">{{t.tabBadge}}</ion-badge><ion-button-effect></ion-button-effect></a><tab-highlight></tab-highlight></tabbar></ion-tabbar-section><ion-content-section><ng-content></ng-content></ion-content-section>',directives:[icon_1.Icon,common_1.NgFor,common_1.NgIf,tab_button_1.TabButton,tab_highlight_1.TabHighlight,core_1.forwardRef(function(){return TabNavBarAnchor})],encapsulation:core_1.ViewEncapsulation.None}),__param(0,core_1.Optional()),__param(1,core_1.Optional()),__metadata("design:paramtypes",[nav_controller_1.NavController,view_controller_1.ViewController,app_1.IonicApp,config_1.Config,core_1.ElementRef,platform_1.Platform,core_1.Renderer])],Tabs)}(ion_1.Ion);exports.Tabs=Tabs;var tabIds=-1,TabNavBarAnchor=function(){function TabNavBarAnchor(tabs,viewContainerRef){tabs.navbarContainerRef=viewContainerRef}return TabNavBarAnchor=__decorate([core_1.Directive({selector:"template[navbar-anchor]"}),__param(0,core_1.Host()),__metadata("design:paramtypes",[Tabs,core_1.ViewContainerRef])],TabNavBarAnchor)}()},{"../../config/config":332,"../../platform/platform":343,"../../util/util":363,"../app/app":267,"../icon/icon":274,"../ion":281,"../nav/nav-controller":295,"../nav/view-controller":303,"./tab-button":318,"./tab-highlight":319,"angular2/common":9,"angular2/core":11}],322:[function(require,module,exports){"use strict";var dom_1=require("../../util/dom"),Activator=function(){function Activator(app,config,_zone){this.app=app,this._zone=_zone,this._queue=[],this._active=[],this._css=config.get("activatedClass")||"activated"}return Activator.prototype.downAction=function(ev,activatableEle,pointerX,pointerY){var self=this;self.disableActivated(ev)||(self._queue.push(activatableEle),this._zone.runOutsideAngular(function(){dom_1.rafFrames(2,function(){for(var activatableEle,i=0;i<self._queue.length;i++)activatableEle=self._queue[i],activatableEle&&activatableEle.parentNode&&(self._active.push(activatableEle),activatableEle.classList.add(self._css));self._queue=[]})}))},Activator.prototype.upAction=function(ev,activatableEle,pointerX,pointerY){function activateUp(){self.clearState()}var self=this;this._zone.runOutsideAngular(function(){dom_1.rafFrames(CLEAR_STATE_DEFERS,activateUp)})},Activator.prototype.clearState=function(){var _this=this;this.app.isEnabled()?this.deactivate():setTimeout(function(){_this.clearState()},600)},Activator.prototype.deactivate=function(){var self=this;self._queue=[],dom_1.rafFrames(2,function(){for(var i=0;i<self._active.length;i++)self._active[i].classList.remove(self._css);self._active=[]})},Activator.prototype.disableActivated=function(ev){if(ev.defaultPrevented)return!0;for(var targetEle=ev.target,x=0;4>x&&targetEle;x++){if(targetEle.hasAttribute("disable-activated"))return!0;targetEle=targetEle.parentElement}return!1},Activator}();exports.Activator=Activator;var CLEAR_STATE_DEFERS=5},{"../../util/dom":357}],323:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},activator_1=require("./activator"),dom_1=require("../../util/dom"),RippleActivator=(window,function(_super){function RippleActivator(app,config,zone){_super.call(this,app,config,zone)}return __extends(RippleActivator,_super),RippleActivator.prototype.downAction=function(ev,activatableEle,pointerX,pointerY){var self=this;self.disableActivated(ev)||(self._queue.push(activatableEle),this._zone.runOutsideAngular(function(){dom_1.raf(function(){var i;for(i=0;i<self._queue.length;i++){var queuedEle=self._queue[i];if(queuedEle&&queuedEle.parentNode){self._active.push(queuedEle),queuedEle.classList.add(self._css);for(var j=queuedEle.childElementCount;j--;){var rippleEle=queuedEle.children[j];if("ION-BUTTON-EFFECT"===rippleEle.tagName){rippleEle.style.left="-9999px",rippleEle.style.opacity="",rippleEle.style[dom_1.CSS.transform]="scale(0.001) translateZ(0px)",rippleEle.style[dom_1.CSS.transition]="";var clientRect=activatableEle.getBoundingClientRect();rippleEle.$top=clientRect.top,rippleEle.$left=clientRect.left,rippleEle.$width=clientRect.width,rippleEle.$height=clientRect.height;break}}}}self._queue=[]})}))},RippleActivator.prototype.upAction=function(ev,activatableEle,pointerX,pointerY){for(var i=activatableEle.childElementCount;i--;){var rippleEle=activatableEle.children[i];if("ION-BUTTON-EFFECT"===rippleEle.tagName){var clientPointerX=pointerX-rippleEle.$left,clientPointerY=pointerY-rippleEle.$top,x=2*Math.max(Math.abs(rippleEle.$width-clientPointerX),clientPointerX),y=2*Math.max(Math.abs(rippleEle.$height-clientPointerY),clientPointerY),diameter=Math.min(Math.max(Math.sqrt(Math.pow(x,2)+Math.pow(y,2)),64),240);activatableEle.hasAttribute("ion-item")&&(diameter=Math.min(diameter,140));var radius=Math.sqrt(rippleEle.$width+rippleEle.$height),scaleTransitionDuration=Math.max(1600*Math.sqrt(radius/TOUCH_DOWN_ACCEL)+.5,260),opacityTransitionDuration=.7*scaleTransitionDuration,opacityTransitionDelay=scaleTransitionDuration-opacityTransitionDuration;rippleEle.style.width=rippleEle.style.height=diameter+"px",rippleEle.style.marginTop=rippleEle.style.marginLeft=-(diameter/2)+"px",rippleEle.style.left=clientPointerX+"px",rippleEle.style.top=clientPointerY+"px",rippleEle.style.opacity="0",rippleEle.style[dom_1.CSS.transform]="scale(1) translateZ(0px)",
rippleEle.style[dom_1.CSS.transition]="transform "+scaleTransitionDuration+"ms,opacity "+opacityTransitionDuration+"ms "+opacityTransitionDelay+"ms"}}_super.prototype.upAction.call(this,ev,activatableEle,pointerX,pointerY)},RippleActivator.prototype.deactivate=function(){var self=this;self._queue=[],dom_1.rafFrames(2,function(){for(var i=0;i<self._active.length;i++)self._active[i].classList.remove(self._css);self._active=[]})},RippleActivator}(activator_1.Activator));exports.RippleActivator=RippleActivator;var TOUCH_DOWN_ACCEL=300},{"../../util/dom":357,"./activator":322}],324:[function(require,module,exports){"use strict";function getActivatableTarget(ele){for(var targetEle=ele,x=0;4>x&&targetEle;x++){if(isActivatable(targetEle))return targetEle;targetEle=targetEle.parentElement}return null}function isActivatable(ele){if(ACTIVATABLE_ELEMENTS.test(ele.tagName))return!0;for(var attributes=ele.attributes,i=0,l=attributes.length;l>i;i++)if(ACTIVATABLE_ATTRIBUTES.test(attributes[i].name))return!0;return!1}function addListener(type,listener,useCapture){document.addEventListener(type,listener,useCapture)}function removeListener(type,listener){document.removeEventListener(type,listener)}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),app_1=require("../app/app"),config_1=require("../../config/config"),dom_1=require("../../util/dom"),activator_1=require("./activator"),ripple_1=require("./ripple"),TapClick=function(){function TapClick(config,app,zone){this.app=app,this.zone=zone,this.lastTouch=0,this.disableClick=0,this.lastActivated=0;var self=this;"ripple"===config.get("activator")?self.activator=new ripple_1.RippleActivator(app,config,zone):"highlight"===config.get("activator")&&(self.activator=new activator_1.Activator(app,config,zone)),self.usePolyfill=config.get("tapPolyfill")===!0,zone.runOutsideAngular(function(){addListener("click",self.click.bind(self),!0),addListener("touchstart",self.touchStart.bind(self)),addListener("touchend",self.touchEnd.bind(self)),addListener("touchcancel",self.pointerCancel.bind(self)),addListener("mousedown",self.mouseDown.bind(self),!0),addListener("mouseup",self.mouseUp.bind(self),!0)}),self.pointerMove=function(ev){dom_1.hasPointerMoved(POINTER_MOVE_UNTIL_CANCEL,self.startCoord,dom_1.pointerCoord(ev))&&self.pointerCancel(ev)}}return TapClick.prototype.touchStart=function(ev){this.lastTouch=Date.now(),this.pointerStart(ev)},TapClick.prototype.touchEnd=function(ev){if(this.lastTouch=Date.now(),this.usePolyfill&&this.startCoord&&this.app.isEnabled()){var endCoord=dom_1.pointerCoord(ev);if(!dom_1.hasPointerMoved(POINTER_TOLERANCE,this.startCoord,endCoord))if(this.disableClick=this.lastTouch+DISABLE_NATIVE_CLICK_AMOUNT,this.app.isScrolling());else{var clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent("click",!0,!0,window,1,0,0,endCoord.x,endCoord.y,!1,!1,!1,!1,0,null),clickEvent.isIonicTap=!0,ev.target.dispatchEvent(clickEvent)}}this.pointerEnd(ev)},TapClick.prototype.mouseDown=function(ev){this.isDisabledNativeClick()?ev.stopPropagation():this.lastTouch+DISABLE_NATIVE_CLICK_AMOUNT<Date.now()&&this.pointerStart(ev)},TapClick.prototype.mouseUp=function(ev){this.isDisabledNativeClick()&&(ev.preventDefault(),ev.stopPropagation()),this.lastTouch+DISABLE_NATIVE_CLICK_AMOUNT<Date.now()&&this.pointerEnd(ev)},TapClick.prototype.pointerStart=function(ev){var activatableEle=getActivatableTarget(ev.target);if(activatableEle){this.startCoord=dom_1.pointerCoord(ev);var now=Date.now();this.lastActivated+150<now&&(this.activator&&this.activator.downAction(ev,activatableEle,this.startCoord.x,this.startCoord.y),this.lastActivated=now),this.moveListeners(!0)}else this.startCoord=null},TapClick.prototype.pointerEnd=function(ev){var activatableEle=getActivatableTarget(ev.target);activatableEle&&this.activator&&this.activator.upAction(ev,activatableEle,this.startCoord.x,this.startCoord.y),this.moveListeners(!1)},TapClick.prototype.pointerCancel=function(ev){this.activator&&this.activator.clearState(),this.moveListeners(!1)},TapClick.prototype.moveListeners=function(shouldAdd){removeListener(this.usePolyfill?"touchmove":"mousemove",this.pointerMove),shouldAdd&&addListener(this.usePolyfill?"touchmove":"mousemove",this.pointerMove)},TapClick.prototype.click=function(ev){var preventReason=null;this.app.isEnabled()?!ev.isIonicTap&&this.isDisabledNativeClick()&&(preventReason="nativeClick"):preventReason="appDisabled",null!==preventReason&&(ev.preventDefault(),ev.stopPropagation())},TapClick.prototype.isDisabledNativeClick=function(){return this.disableClick>Date.now()},TapClick=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[config_1.Config,app_1.IonicApp,core_1.NgZone])],TapClick)}();exports.TapClick=TapClick,exports.isActivatable=isActivatable;var ACTIVATABLE_ELEMENTS=/^(A|BUTTON)$/,ACTIVATABLE_ATTRIBUTES=/tappable|button/i,POINTER_TOLERANCE=4,POINTER_MOVE_UNTIL_CANCEL=10,DISABLE_NATIVE_CLICK_AMOUNT=2500},{"../../config/config":332,"../../util/dom":357,"../app/app":267,"./activator":322,"./ripple":323,"angular2/core":11}],325:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),common_1=require("angular2/common"),button_1=require("../button/button"),icon_1=require("../icon/icon"),animation_1=require("../../animations/animation"),transition_1=require("../../transitions/transition"),config_1=require("../../config/config"),util_1=require("../../util/util"),nav_params_1=require("../nav/nav-params"),nav_controller_1=require("../nav/nav-controller"),view_controller_1=require("../nav/view-controller"),Toast=function(_super){function Toast(opts){void 0===opts&&(opts={}),opts.enableBackdropDismiss=util_1.isPresent(opts.enableBackdropDismiss)?!!opts.enableBackdropDismiss:!0,opts.dismissOnPageChange=util_1.isPresent(opts.dismissOnPageChange)?!!opts.dismissOnPageChange:!1,_super.call(this,ToastCmp,opts),this.viewType="toast",this.isOverlay=!0,this.usePortal=!0,this.fireOtherLifecycles=!1}return __extends(Toast,_super),Toast.prototype.getTransitionName=function(direction){var key="toast"+("back"===direction?"Leave":"Enter");return this._nav&&this._nav.config.get(key)},Toast.prototype.setMessage=function(message){this.data.message=message},Toast.create=function(opts){return void 0===opts&&(opts={}),new Toast(opts)},Toast}(view_controller_1.ViewController);exports.Toast=Toast;var ToastCmp=function(){function ToastCmp(_nav,_viewCtrl,_config,_elementRef,params,renderer){this._nav=_nav,this._viewCtrl=_viewCtrl,this._config=_config,this._elementRef=_elementRef,this.dismissTimeout=void 0,this.d=params.data,this.created=Date.now(),this.d.cssClass&&renderer.setElementClass(_elementRef.nativeElement,this.d.cssClass,!0),this.id=++toastIds,this.d.message&&(this.hdrId="toast-hdr-"+this.id)}return ToastCmp.prototype.onPageDidEnter=function(){var _this=this,activeElement=document.activeElement;activeElement&&activeElement.blur();var focusableEle=this._elementRef.nativeElement.querySelector("button");focusableEle&&focusableEle.focus(),this.d.duration&&(this.dismissTimeout=setTimeout(function(){_this.dismiss("backdrop")},this.d.duration))},ToastCmp.prototype.bdClick=function(){this.isEnabled()&&this.d.enableBackdropDismiss&&this.dismiss("backdrop")},ToastCmp.prototype.cbClick=function(){this.isEnabled()&&this.dismiss("close")},ToastCmp.prototype.dismiss=function(role){return clearTimeout(this.dismissTimeout),this.dismissTimeout=void 0,this._viewCtrl.dismiss(null,role)},ToastCmp.prototype.isEnabled=function(){var tm=this._config.getNumber("overlayCreatedDiff",750);return this.created+tm<Date.now()},ToastCmp=__decorate([core_1.Component({selector:"ion-toast",template:'\n    <div (click)="bdClick()" tappable disable-activated class="backdrop" role="presentation"></div>\n    <div class="toast-wrapper">\n      <div class="toast-container">\n        <div class="toast-message" id="{{hdrId}}" *ngIf="d.message">{{d.message}}</div>\n        <button clear class="toast-button" *ngIf="d.showCloseButton" (click)="cbClick()">\n          {{ d.closeButtonText || \'Close\' }}\n          <ion-button-effect></ion-button-effect>\n         </button>\n      </div>\n    </div>\n  ',host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},directives:[common_1.NgIf,icon_1.Icon,button_1.Button]}),__metadata("design:paramtypes",[nav_controller_1.NavController,view_controller_1.ViewController,config_1.Config,core_1.ElementRef,nav_params_1.NavParams,core_1.Renderer])],ToastCmp)}(),ToastSlideIn=function(_super){function ToastSlideIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,wrapper=new animation_1.Animation(ele.querySelector(".toast-wrapper"));wrapper.fromTo("translateY","120%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(wrapper)}return __extends(ToastSlideIn,_super),ToastSlideIn}(transition_1.Transition),ToastSlideOut=function(_super){function ToastSlideOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,wrapper=new animation_1.Animation(ele.querySelector(".toast-wrapper"));wrapper.fromTo("translateY","0%","120%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(wrapper)}return __extends(ToastSlideOut,_super),ToastSlideOut}(transition_1.Transition),ToastMdSlideIn=function(_super){function ToastMdSlideIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".toast-wrapper"));backdrop.fromTo("opacity",0,0),wrapper.fromTo("translateY","120%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(backdrop).add(wrapper)}return __extends(ToastMdSlideIn,_super),ToastMdSlideIn}(transition_1.Transition),ToastMdSlideOut=function(_super){function ToastMdSlideOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,wrapper=new animation_1.Animation(ele.querySelector(".toast-wrapper")),backdrop=new animation_1.Animation(ele.querySelector(".backdrop"));wrapper.fromTo("translateY","0%","120%"),backdrop.fromTo("opacity",0,0),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(backdrop).add(wrapper)}return __extends(ToastMdSlideOut,_super),ToastMdSlideOut}(transition_1.Transition),ToastWpPopIn=function(_super){function ToastWpPopIn(enteringView,leavingView,opts){_super.call(this,opts);var ele=enteringView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".toast-wrapper"));wrapper.fromTo("opacity","0.01","1").fromTo("scale","1.3","1"),backdrop.fromTo("opacity",0,0),this.easing("cubic-bezier(0,0 0.05,1)").duration(200).add(backdrop).add(wrapper)}return __extends(ToastWpPopIn,_super),ToastWpPopIn}(transition_1.Transition),ToastWpPopOut=function(_super){function ToastWpPopOut(enteringView,leavingView,opts){_super.call(this,opts);var ele=leavingView.pageRef().nativeElement,backdrop=new animation_1.Animation(ele.querySelector(".backdrop")),wrapper=new animation_1.Animation(ele.querySelector(".toast-wrapper"));wrapper.fromTo("opacity","1","0").fromTo("scale","1","1.3"),backdrop.fromTo("opacity",0,0),this.easing("ease-out").duration(150).add(backdrop).add(wrapper)}return __extends(ToastWpPopOut,_super),ToastWpPopOut}(transition_1.Transition);transition_1.Transition.register("toast-slide-in",ToastSlideIn),transition_1.Transition.register("toast-slide-out",ToastSlideOut),transition_1.Transition.register("toast-md-slide-in",ToastMdSlideIn),transition_1.Transition.register("toast-md-slide-out",ToastMdSlideOut),transition_1.Transition.register("toast-wp-slide-out",ToastWpPopOut),transition_1.Transition.register("toast-wp-slide-in",ToastWpPopIn);var toastIds=-1},{"../../animations/animation":262,"../../config/config":332,"../../transitions/transition":352,"../../util/util":363,"../button/button":271,"../icon/icon":274,"../nav/nav-controller":295,"../nav/nav-params":296,"../nav/view-controller":303,"angular2/common":9,"angular2/core":11}],326:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),common_1=require("angular2/common"),form_1=require("../../util/form"),util_1=require("../../util/util"),item_1=require("../item/item"),dom_1=require("../../util/dom"),TOGGLE_VALUE_ACCESSOR=new core_1.Provider(common_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return Toggle}),multi:!0}),Toggle=function(){function Toggle(_form,_elementRef,_renderer,_item){this._form=_form,this._elementRef=_elementRef,this._renderer=_renderer,this._item=_item,this._checked=!1,this._disabled=!1,this._activated=!1,this._msPrv=0,this.change=new core_1.EventEmitter,this._form.register(this),_item&&(this.id="tgl-"+_item.registerInput("toggle"),this._labelId="lbl-"+_item.id,this._item.setCssClass("item-toggle",!0))}return Toggle.prototype.pointerDown=function(ev){this._isPrevented(ev)||(this._startX=dom_1.pointerCoord(ev).x,this._activated=!0)},Toggle.prototype.pointerMove=function(ev){if(this._startX){if(this._isPrevented(ev))return;var currentX=dom_1.pointerCoord(ev).x;this._checked?currentX+15<this._startX&&(this.onChange(!1),this._startX=currentX,this._activated=!0):currentX-15>this._startX&&(this.onChange(!0),this._startX=currentX,this._activated=currentX<this._startX+5)}},Toggle.prototype.pointerUp=function(ev){if(this._startX){if(this._isPrevented(ev))return;var endX=dom_1.pointerCoord(ev).x;this.checked?this._startX+4>endX&&this.onChange(!1):this._startX-4<endX&&this.onChange(!0),this._activated=!1,this._startX=null}},Object.defineProperty(Toggle.prototype,"checked",{get:function(){return this._checked},set:function(val){this._setChecked(util_1.isTrueProperty(val)),this.onChange(this._checked)},enumerable:!0,configurable:!0}),Toggle.prototype._setChecked=function(isChecked){isChecked!==this._checked&&(this._checked=isChecked,this.change.emit(this),this._item&&this._item.setCssClass("item-toggle-checked",isChecked))},Toggle.prototype.writeValue=function(val){this._setChecked(util_1.isTrueProperty(val))},Toggle.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(isChecked){fn(isChecked),_this._setChecked(isChecked),_this.onTouched()}},Toggle.prototype.registerOnTouched=function(fn){this.onTouched=fn},Object.defineProperty(Toggle.prototype,"disabled",{get:function(){return this._disabled},set:function(val){this._disabled=util_1.isTrueProperty(val),this._item&&this._item.setCssClass("item-toggle-disabled",this._disabled)},enumerable:!0,configurable:!0}),Toggle.prototype.onChange=function(isChecked){this._setChecked(isChecked),this.onTouched()},Toggle.prototype.onTouched=function(){},Toggle.prototype.ngOnDestroy=function(){this._form.deregister(this)},Toggle.prototype._isPrevented=function(ev){if(ev.type.indexOf("touch")>-1)this._msPrv=Date.now()+2e3;else if(this._msPrv>Date.now()&&ev.type.indexOf("mouse")>-1)return ev.preventDefault(),ev.stopPropagation(),!0},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],Toggle.prototype,"change",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Toggle.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Toggle.prototype,"disabled",null),Toggle=__decorate([core_1.Component({selector:"ion-toggle",template:'<div class="toggle-icon" [class.toggle-checked]="_checked" [class.toggle-activated]="_activated"><div class="toggle-inner"></div></div><button role="checkbox" type="button" category="item-cover" [id]="id" [attr.aria-checked]="_checked" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" (touchstart)=pointerDown($event) (touchmove)=pointerMove($event) (mousemove)=pointerMove($event) (mousedown)=pointerDown($event) (touchend)=pointerUp($event) (mouseup)=pointerUp($event) (mouseout)=pointerUp($event) class="item-cover"></button>',host:{"[class.toggle-disabled]":"_disabled"},providers:[TOGGLE_VALUE_ACCESSOR],encapsulation:core_1.ViewEncapsulation.None}),__param(3,core_1.Optional()),__metadata("design:paramtypes",[form_1.Form,core_1.ElementRef,core_1.Renderer,item_1.Item])],Toggle)}();exports.Toggle=Toggle},{"../../util/dom":357,"../../util/form":360,"../../util/util":363,"../item/item":284,"angular2/common":9,"angular2/core":11}],327:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),button_1=require("../button/button"),config_1=require("../../config/config"),ion_1=require("../ion"),navbar_1=require("../navbar/navbar"),ToolbarBase=function(_super){function ToolbarBase(elementRef){_super.call(this,elementRef),this.itemRefs=[],this.titleRef=null}return __extends(ToolbarBase,_super),ToolbarBase.prototype.setTitleCmp=function(titleCmp){this.titleCmp=titleCmp},ToolbarBase.prototype.getTitleText=function(){return this.titleCmp&&this.titleCmp.getTitleText()||""},ToolbarBase.prototype.getTitleRef=function(){return this.titleCmp&&this.titleCmp.elementRef},ToolbarBase.prototype.getItemRefs=function(){return this.itemRefs},ToolbarBase.prototype.addItemRef=function(itemElementRef){this.itemRefs.push(itemElementRef)},ToolbarBase}(ion_1.Ion);exports.ToolbarBase=ToolbarBase;var Toolbar=function(_super){function Toolbar(elementRef,config){_super.call(this,elementRef),this._sbPadding=config.getBoolean("statusbarPadding",!1)}return __extends(Toolbar,_super),Toolbar=__decorate([core_1.Component({selector:"ion-toolbar",template:'<div class="toolbar-background"></div><ng-content select="[menuToggle],ion-buttons[left]"></ng-content><ng-content select="ion-buttons[start]"></ng-content><ng-content select="ion-buttons[end],ion-buttons[right]"></ng-content><div class="toolbar-content"><ng-content></ng-content></div>',host:{"class":"toolbar","[class.statusbar-padding]":"_sbPadding"},changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[core_1.ElementRef,config_1.Config])],Toolbar)}(ToolbarBase);exports.Toolbar=Toolbar;var ToolbarTitle=function(_super){function ToolbarTitle(elementRef,toolbar,navbar){_super.call(this,elementRef),toolbar&&toolbar.setTitleCmp(this),navbar&&navbar.setTitleCmp(this)}return __extends(ToolbarTitle,_super),ToolbarTitle.prototype.getTitleText=function(){return this.getNativeElement().textContent},ToolbarTitle=__decorate([core_1.Component({selector:"ion-title",template:'<div class="toolbar-title"><ng-content></ng-content></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,encapsulation:core_1.ViewEncapsulation.None}),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__param(2,core_1.Inject(core_1.forwardRef(function(){return navbar_1.Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,Toolbar,navbar_1.Navbar])],ToolbarTitle)}(ion_1.Ion);exports.ToolbarTitle=ToolbarTitle;var ToolbarItem=function(){function ToolbarItem(elementRef,toolbar,navbar){toolbar&&toolbar.addItemRef(elementRef),navbar&&navbar.addItemRef(elementRef),this.inToolbar=!(!toolbar&&!navbar),"ION-NAV-ITEMS"===elementRef.nativeElement.tagName&&(elementRef.nativeElement.hasAttribute("primary")?elementRef.nativeElement.setAttribute("start",""):elementRef.nativeElement.hasAttribute("secondary")&&elementRef.nativeElement.setAttribute("end",""))}return Object.defineProperty(ToolbarItem.prototype,"_buttons",{set:function(buttons){this.inToolbar&&button_1.Button.setRoles(buttons,"bar-button")},enumerable:!0,configurable:!0}),__decorate([core_1.ContentChildren(button_1.Button),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],ToolbarItem.prototype,"_buttons",null),ToolbarItem=__decorate([core_1.Directive({selector:"ion-buttons,[menuToggle],ion-nav-items"}),__param(1,core_1.Optional()),__param(2,core_1.Optional()),__param(2,core_1.Inject(core_1.forwardRef(function(){return navbar_1.Navbar}))),__metadata("design:paramtypes",[core_1.ElementRef,Toolbar,navbar_1.Navbar])],ToolbarItem)}();exports.ToolbarItem=ToolbarItem},{"../../config/config":332,"../button/button":271,"../ion":281,"../navbar/navbar":304,"angular2/core":11}],328:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),VirtualHeader=function(){function VirtualHeader(templateRef){this.templateRef=templateRef}return VirtualHeader=__decorate([core_1.Directive({selector:"[virtualHeader]"}),__metadata("design:paramtypes",[core_1.TemplateRef])],VirtualHeader)}();exports.VirtualHeader=VirtualHeader;var VirtualFooter=function(){function VirtualFooter(templateRef){this.templateRef=templateRef}return VirtualFooter=__decorate([core_1.Directive({selector:"[virtualFooter]"}),__metadata("design:paramtypes",[core_1.TemplateRef])],VirtualFooter)}();exports.VirtualFooter=VirtualFooter;var VirtualItem=function(){function VirtualItem(templateRef,viewContainer){this.templateRef=templateRef,this.viewContainer=viewContainer}return VirtualItem=__decorate([core_1.Directive({selector:"[virtualItem]"}),__metadata("design:paramtypes",[core_1.TemplateRef,core_1.ViewContainerRef])],VirtualItem)}();exports.VirtualItem=VirtualItem},{"angular2/core":11}],329:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),config_1=require("../../config/config"),content_1=require("../content/content"),platform_1=require("../../platform/platform"),view_controller_1=require("../nav/view-controller"),virtual_item_1=require("./virtual-item"),virtual_util_1=require("./virtual-util"),util_1=require("../../util/util"),dom_1=require("../../util/dom"),img_1=require("../img/img"),VirtualScroll=function(){function VirtualScroll(_iterableDiffers,_elementRef,_renderer,_zone,_cd,_content,_platform,_ctrl,config){this._iterableDiffers=_iterableDiffers,this._elementRef=_elementRef,this._renderer=_renderer,this._zone=_zone,this._cd=_cd,this._content=_content,this._platform=_platform,this._ctrl=_ctrl,this._records=[],this._cells=[],this._nodes=[],this._vHeight=0,this._lastCheck=0,this._data={scrollTop:0},this._queue=null,this.bufferRatio=2,this.approxItemWidth="100%",this.approxItemHeight="40px",this.approxHeaderWidth="100%",this.approxHeaderHeight="40px",this.approxFooterWidth="100%",this.approxFooterHeight="40px",this._eventAssist=config.getBoolean("virtualScrollEventAssist")}return Object.defineProperty(VirtualScroll.prototype,"virtualScroll",{set:function(val){this._records=val,util_1.isBlank(this._differ)&&util_1.isPresent(val)&&(this._differ=this._iterableDiffers.find(val).create(this._cd,this._trackBy))},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualScroll.prototype,"headerFn",{set:function(val){util_1.isFunction(val)&&(this._hdrFn=val.bind(this._ctrl&&this._ctrl.instance||this))},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualScroll.prototype,"footerFn",{set:function(val){util_1.isFunction(val)&&(this._ftrFn=val.bind(this._ctrl&&this._ctrl.instance||this))},enumerable:!0,configurable:!0}),Object.defineProperty(VirtualScroll.prototype,"virtualTrackBy",{set:function(val){this._trackBy=val},enumerable:!0,configurable:!0}),VirtualScroll.prototype.ngDoCheck=function(){this._init&&this.update(!0)},VirtualScroll.prototype.ngAfterContentInit=function(){var _this=this;if(!this._init){if(!this._itmTmp)throw"virtualItem required within virtualScroll";this._init=!0,this.update(!0),this._platform.onResize(function(){_this.update(!1)})}},VirtualScroll.prototype.update=function(checkChanges){function readDimensions(done){self._data.valid?done():(virtual_util_1.calcDimensions(self._data,self._elementRef.nativeElement.parentElement,self.approxItemWidth,self.approxItemHeight,self.approxHeaderWidth,self.approxHeaderHeight,self.approxFooterWidth,self.approxFooterHeight,self.bufferRatio),self._data.valid?done():30>attempts&&(attempts++,dom_1.raf(function(){readDimensions(done)})))}var self=this;if(self._records&&self._records.length){if(checkChanges&&util_1.isPresent(self._differ)){var changes=self._differ.diff(self._records);if(!util_1.isPresent(changes))return}self._cells.length=0,self._nodes.length=0,self._itmTmp.viewContainer.clear(),self._elementRef.nativeElement.parentElement.scrollTop=0;var attempts=0;readDimensions(function(){virtual_util_1.processRecords(self._data.renderHeight,self._records,self._cells,self._hdrFn,self._ftrFn,self._data),self.renderVirtual(),self._renderer.setElementClass(self._elementRef.nativeElement,"virtual-scroll",!0),self.addScrollListener()})}},VirtualScroll.prototype.renderVirtual=function(){this._data.topCell=0,this._data.bottomCell=this._cells.length-1,virtual_util_1.populateNodeData(0,this._data.bottomCell,this._data.viewWidth,!0,this._cells,this._records,this._nodes,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef,!0),this._cd.detectChanges(),dom_1.raf(this.postRenderVirtual.bind(this))},VirtualScroll.prototype.postRenderVirtual=function(){virtual_util_1.calcDimensions(this._data,this._elementRef.nativeElement.parentElement,this.approxItemWidth,this.approxItemHeight,this.approxHeaderWidth,this.approxHeaderHeight,this.approxFooterWidth,this.approxFooterHeight,this.bufferRatio),virtual_util_1.initReadNodes(this._nodes,this._cells,this._data),virtual_util_1.writeToNodes(this._nodes,this._cells,this._records.length),this.setVirtualHeight(virtual_util_1.estimateHeight(this._records.length,this._cells[this._cells.length-1],this._vHeight,.25))},VirtualScroll.prototype.scrollUpdate=function(){dom_1.clearNativeTimeout(this._tmId),this._tmId=dom_1.nativeTimeout(this.onScrollEnd.bind(this),SCROLL_END_TIMEOUT_MS);var data=this._data;if(this._queue===QUEUE_CHANGE_DETECTION){for(var node=void 0,i=0;i<this._nodes.length;i++)node=this._nodes[i],node.hasChanges&&(node.view.changeDetectorRef.detectChanges(),node.hasChanges=!1);this._eventAssist?this._queue=QUEUE_WRITE_TO_NODES:(virtual_util_1.writeToNodes(this._nodes,this._cells,this._records.length),this._queue=null),this.setVirtualHeight(virtual_util_1.estimateHeight(this._records.length,this._cells[this._cells.length-1],this._vHeight,.25))}else if(this._queue===QUEUE_WRITE_TO_NODES)virtual_util_1.writeToNodes(this._nodes,this._cells,this._records.length),this._queue=null;else if(data.scrollDiff=data.scrollTop-this._lastCheck,Math.abs(data.scrollDiff)>10){if(this._lastCheck=data.scrollTop,data.scrollDiff>0){var stopAtHeight=data.scrollTop+data.renderHeight;virtual_util_1.processRecords(stopAtHeight,this._records,this._cells,this._hdrFn,this._ftrFn,data)}virtual_util_1.updateDimensions(this._nodes,this._cells,data,!1),virtual_util_1.adjustRendered(this._cells,data);var madeChanges=virtual_util_1.populateNodeData(data.topCell,data.bottomCell,data.viewWidth,data.scrollDiff>0,this._cells,this._records,this._nodes,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef,!1);madeChanges?(this._imgs.toArray().forEach(function(img){img.enable(!1)}),this._queue=QUEUE_CHANGE_DETECTION):this._queue=null}},VirtualScroll.prototype.onScrollEnd=function(){this._imgs.toArray().forEach(function(img){img.enable(!0)}),virtual_util_1.updateDimensions(this._nodes,this._cells,this._data,!1),virtual_util_1.adjustRendered(this._cells,this._data),this._cd.detectChanges(),this.setVirtualHeight(virtual_util_1.estimateHeight(this._records.length,this._cells[this._cells.length-1],this._vHeight,.05))},VirtualScroll.prototype.setVirtualHeight=function(newVirtualHeight){newVirtualHeight!==this._vHeight&&(this._renderer.setElementStyle(this._elementRef.nativeElement,"height",newVirtualHeight>0?newVirtualHeight+"px":""),this._vHeight=newVirtualHeight);
},VirtualScroll.prototype.addScrollListener=function(){var self=this;self._unreg||self._zone.runOutsideAngular(function(){function onScroll(){self._data.scrollTop=self._content.getScrollTop(),self.scrollUpdate()}self._eventAssist?self._unreg=self._content.jsScroll(onScroll):self._unreg=self._content.addScrollListener(onScroll)})},VirtualScroll.prototype.ngOnDestroy=function(){this._unreg&&this._unreg(),this._unreg=null},__decorate([core_1.ContentChild(virtual_item_1.VirtualItem),__metadata("design:type",virtual_item_1.VirtualItem)],VirtualScroll.prototype,"_itmTmp",void 0),__decorate([core_1.ContentChild(virtual_item_1.VirtualHeader),__metadata("design:type",virtual_item_1.VirtualHeader)],VirtualScroll.prototype,"_hdrTmp",void 0),__decorate([core_1.ContentChild(virtual_item_1.VirtualFooter),__metadata("design:type",virtual_item_1.VirtualFooter)],VirtualScroll.prototype,"_ftrTmp",void 0),__decorate([core_1.ContentChildren(img_1.Img),__metadata("design:type",core_1.QueryList)],VirtualScroll.prototype,"_imgs",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],VirtualScroll.prototype,"virtualScroll",null),__decorate([core_1.Input(),__metadata("design:type",Number)],VirtualScroll.prototype,"bufferRatio",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxItemWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxItemHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxHeaderWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxHeaderHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxFooterWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],VirtualScroll.prototype,"approxFooterHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",Function),__metadata("design:paramtypes",[Function])],VirtualScroll.prototype,"headerFn",null),__decorate([core_1.Input(),__metadata("design:type",Function),__metadata("design:paramtypes",[Function])],VirtualScroll.prototype,"footerFn",null),__decorate([core_1.Input(),__metadata("design:type",Function),__metadata("design:paramtypes",[Function])],VirtualScroll.prototype,"virtualTrackBy",null),VirtualScroll=__decorate([core_1.Directive({selector:"[virtualScroll]"}),__param(7,core_1.Optional()),__metadata("design:paramtypes",[core_1.IterableDiffers,core_1.ElementRef,core_1.Renderer,core_1.NgZone,core_1.ChangeDetectorRef,content_1.Content,platform_1.Platform,view_controller_1.ViewController,config_1.Config])],VirtualScroll)}();exports.VirtualScroll=VirtualScroll;var SCROLL_END_TIMEOUT_MS=140,QUEUE_CHANGE_DETECTION=0,QUEUE_WRITE_TO_NODES=1},{"../../config/config":332,"../../platform/platform":343,"../../util/dom":357,"../../util/util":363,"../content/content":273,"../img/img":275,"../nav/view-controller":303,"./virtual-item":328,"./virtual-util":330,"angular2/core":11}],330:[function(require,module,exports){"use strict";function processRecords(stopAtHeight,records,cells,headerFn,footerFn,data){var record,startRecordIndex,previousCell,tmpData,lastRecordIndex=records.length-1;if(cells.length){if(previousCell=cells[cells.length-1],previousCell.top+previousCell.height>stopAtHeight)return;startRecordIndex=previousCell.record+1}else previousCell={row:0,width:0,height:0,top:0,left:0,tmpl:-1},startRecordIndex=0;for(var processedTotal=0,recordIndex=startRecordIndex;lastRecordIndex>=recordIndex;recordIndex++)if(record=records[recordIndex],headerFn&&(tmpData=headerFn(record,recordIndex,records),null!==tmpData&&(previousCell=addCell(previousCell,recordIndex,TEMPLATE_HEADER,tmpData,data.hdrWidth,data.hdrHeight,data.viewWidth),cells.push(previousCell))),previousCell=addCell(previousCell,recordIndex,TEMPLATE_ITEM,null,data.itmWidth,data.itmHeight,data.viewWidth),cells.push(previousCell),footerFn&&(tmpData=footerFn(record,recordIndex,records),null!==tmpData&&(previousCell=addCell(previousCell,recordIndex,TEMPLATE_FOOTER,tmpData,data.ftrWidth,data.ftrHeight,data.viewWidth),cells.push(previousCell))),previousCell.record===lastRecordIndex&&(previousCell.isLast=!0),processedTotal++,previousCell.top+previousCell.height+data.itmHeight>stopAtHeight&&processedTotal>3)return}function addCell(previousCell,recordIndex,tmpl,tmplData,cellWidth,cellHeight,viewportWidth){var newCell;return newCell=previousCell.left+previousCell.width+cellWidth>viewportWidth?{record:recordIndex,tmpl:tmpl,row:previousCell.row+1,width:cellWidth,height:cellHeight,top:previousCell.top+previousCell.height,left:0,reads:0}:{record:recordIndex,tmpl:tmpl,row:previousCell.row,width:cellWidth,height:cellHeight,top:previousCell.top,left:previousCell.left+previousCell.width,reads:0},tmplData&&(newCell.data=tmplData),newCell}function populateNodeData(startCellIndex,endCellIndex,viewportWidth,scrollingDown,cells,records,nodes,viewContainer,itmTmp,hdrTmp,ftrTmp,initialLoad){var node,availableNode,cell,isAlreadyRendered,madeChanges=!1,lastRecordIndex=records.length-1,viewInsertIndex=null,totalNodes=nodes.length;startCellIndex=Math.max(startCellIndex,0),endCellIndex=Math.min(endCellIndex,cells.length-1);for(var cellIndex=startCellIndex;endCellIndex>=cellIndex;cellIndex++){if(cell=cells[cellIndex],availableNode=null,isAlreadyRendered=!1,!initialLoad){for(var i=0;totalNodes>i;i++)if(node=nodes[i],cell.tmpl===node.tmpl&&(0!==i||0===cellIndex))if(node.isLastRecord){if(cell.record===lastRecordIndex){availableNode=nodes[i],availableNode.hidden=!1;break}}else{if(node.cell===cellIndex){isAlreadyRendered=!0;break}(node.cell<startCellIndex||node.cell>endCellIndex)&&(availableNode?scrollingDown?node.cell<availableNode.cell&&(availableNode=nodes[i]):node.cell>availableNode.cell&&(availableNode=nodes[i]):availableNode=nodes[i])}if(isAlreadyRendered)continue}if(!availableNode){if(null===viewInsertIndex){viewInsertIndex=-1;for(var j=totalNodes-1;j>=0;j--)if(node=nodes[j],node&&!node.isLastRecord){viewInsertIndex=viewContainer.indexOf(node.view);break}}availableNode={tmpl:cell.tmpl,view:viewContainer.createEmbeddedView(cell.tmpl===TEMPLATE_HEADER?hdrTmp:cell.tmpl===TEMPLATE_FOOTER?ftrTmp:itmTmp,viewInsertIndex)},totalNodes=nodes.push(availableNode)}availableNode.cell=cellIndex,availableNode.view.setLocal("$implicit",cell.data||records[cell.record]),availableNode.view.setLocal("index",cellIndex),availableNode.view.setLocal("even",cellIndex%2===0),availableNode.view.setLocal("odd",cellIndex%2===1),availableNode.hasChanges=!0,availableNode.lastTransform=null,madeChanges=!0}return initialLoad&&(addLastNodes(nodes,viewContainer,TEMPLATE_HEADER,hdrTmp),addLastNodes(nodes,viewContainer,TEMPLATE_ITEM,itmTmp),addLastNodes(nodes,viewContainer,TEMPLATE_FOOTER,ftrTmp)),madeChanges}function addLastNodes(nodes,viewContainer,templateType,templateRef){if(templateRef){var node={tmpl:templateType,view:viewContainer.createEmbeddedView(templateRef),isLastRecord:!0,hidden:!0};node.view.setLocal("$implicit",{}),nodes.push(node)}}function initReadNodes(nodes,cells,data){if(nodes.length&&cells.length){cells[0].top=getElement(nodes[0]).offsetTop,cells[0].row=0,updateDimensions(nodes,cells,data,!0);for(var i=0;i<nodes.length;i++)nodes[i].hidden&&getElement(nodes[i]).classList.add("virtual-hidden")}}function updateDimensions(nodes,cells,data,initialUpdate){for(var node,element,cell,previousCell,totalCells=cells.length,i=0;i<nodes.length;i++)node=nodes[i],cell=cells[node.cell],cell&&cell.reads<REQUIRED_DOM_READS&&!node.hidden&&(element=getElement(node),readElements(cell,element),initialUpdate&&(cell.tmpl===TEMPLATE_HEADER?(data.hdrHeight=cell.height,0===cell.left&&(data.hdrWidth=cell.width)):cell.tmpl===TEMPLATE_FOOTER?(data.ftrHeight=cell.height,0===cell.left&&(data.ftrWidth=cell.width)):(data.itmHeight=cell.height,0===cell.left&&(data.itmWidth=cell.width))),cell.reads++);var viewableBottom=data.scrollTop+data.viewHeight;data.topViewCell=totalCells,data.bottomViewCell=0;for(var i=1;totalCells>i;i++)cell=cells[i],previousCell=cells[i-1],previousCell.left+previousCell.width+cell.width>data.viewWidth?(cell.row++,cell.top=previousCell.top+previousCell.height,cell.left=0):(cell.row=previousCell.row,cell.top=previousCell.top,cell.left=previousCell.left+previousCell.width),cell.top+cell.height>data.scrollTop&&i<data.topViewCell?data.topViewCell=i:cell.top<viewableBottom&&i>data.bottomViewCell&&(data.bottomViewCell=i)}function readElements(cell,element){var styles=window.getComputedStyle(element);cell.left=element.offsetLeft-parseFloat(styles.marginLeft),cell.width=element.offsetWidth+parseFloat(styles.marginLeft)+parseFloat(styles.marginRight),cell.height=element.offsetHeight+parseFloat(styles.marginTop)+parseFloat(styles.marginBottom)}function writeToNodes(nodes,cells,totalRecords){for(var node,element,cell,transform,totalCells=Math.max(totalRecords,cells.length).toString(),i=0,ilen=nodes.length;ilen>i;i++)node=nodes[i],node.hidden||(cell=cells[node.cell],transform="translate3d("+cell.left+"px,"+cell.top+"px,0px)",node.lastTransform!==transform&&(element=getElement(node),element&&(element.style[dom_1.CSS.transform]=node.lastTransform=transform,element.classList.add("virtual-position"),node.isLastRecord&&element.classList.remove("virtual-hidden"),element.setAttribute("aria-posinset",(node.cell+1).toString()),element.setAttribute("aria-setsize",totalCells))))}function adjustRendered(cells,data){var cell,lastRow=-1,cellsRenderHeight=0,maxRenderHeight=data.renderHeight-data.itmHeight,totalCells=cells.length,viewableRenderedPadding=data.itmHeight<90?VIEWABLE_RENDERED_PADDING:0;if(data.scrollDiff>0){data.topCell=Math.max(data.topViewCell-viewableRenderedPadding,0),data.bottomCell=Math.min(data.topCell+2,totalCells-1);for(var i=data.topCell;totalCells>i&&(cell=cells[i],cell.row!==lastRow&&(cellsRenderHeight+=cell.height,lastRow=cell.row),i>data.bottomCell&&(data.bottomCell=i),!(cellsRenderHeight>=maxRenderHeight));i++);}else{data.bottomCell=Math.min(data.bottomViewCell+viewableRenderedPadding,totalCells-1),data.topCell=Math.max(data.bottomCell-2,0);for(var i=data.bottomCell;i>=0&&(cell=cells[i],cell.row!==lastRow&&(cellsRenderHeight+=cell.height,lastRow=cell.row),i<data.topCell&&(data.topCell=i),!(cellsRenderHeight>=maxRenderHeight));i--);}}function getVirtualHeight(totalRecords,lastCell){if(lastCell.record>=totalRecords-1)return lastCell.top+lastCell.height;var unknownRecords=totalRecords-lastCell.record-1,knownHeight=lastCell.top+lastCell.height;return Math.ceil(knownHeight+knownHeight/(totalRecords-unknownRecords)*unknownRecords)}function estimateHeight(totalRecords,lastCell,existingHeight,difference){var newHeight=getVirtualHeight(totalRecords,lastCell),percentToBottom=lastCell.record/(totalRecords-1),diff=Math.abs(existingHeight-newHeight);return diff>newHeight*difference||percentToBottom>.995?newHeight:existingHeight}function calcDimensions(data,viewportElement,approxItemWidth,approxItemHeight,appoxHeaderWidth,approxHeaderHeight,approxFooterWidth,approxFooterHeight,bufferRatio){data.viewWidth=viewportElement.offsetWidth,data.viewHeight=viewportElement.offsetHeight,data.renderHeight=data.viewHeight*bufferRatio,data.viewWidth>0&&data.viewHeight>0&&(data.itmWidth=calcWidth(data.viewWidth,approxItemWidth),data.itmHeight=calcHeight(data.viewHeight,approxItemHeight),data.hdrWidth=calcWidth(data.viewWidth,appoxHeaderWidth),data.hdrHeight=calcHeight(data.viewHeight,approxHeaderHeight),data.ftrWidth=calcWidth(data.viewWidth,approxFooterWidth),data.ftrHeight=calcHeight(data.viewHeight,approxFooterHeight),data.valid=!0)}function calcWidth(viewportWidth,approxWidth){if(approxWidth.indexOf("%")>0)return viewportWidth*(parseFloat(approxWidth)/100);if(approxWidth.indexOf("px")>0)return parseFloat(approxWidth);throw'virtual scroll width can only use "%" or "px" units'}function calcHeight(viewportHeight,approxHeight){if(approxHeight.indexOf("px")>0)return parseFloat(approxHeight);throw'virtual scroll height must use "px" units'}function getElement(node){for(var rootNodes=node.view.rootNodes,i=0;i<rootNodes.length;i++)if(1===rootNodes[i].nodeType)return rootNodes[i]}var dom_1=require("../../util/dom");exports.processRecords=processRecords,exports.populateNodeData=populateNodeData,exports.initReadNodes=initReadNodes,exports.updateDimensions=updateDimensions,exports.writeToNodes=writeToNodes,exports.adjustRendered=adjustRendered,exports.getVirtualHeight=getVirtualHeight,exports.estimateHeight=estimateHeight,exports.calcDimensions=calcDimensions;var TEMPLATE_ITEM=0,TEMPLATE_HEADER=1,TEMPLATE_FOOTER=2,VIEWABLE_RENDERED_PADDING=3,REQUIRED_DOM_READS=2},{"../../util/dom":357}],331:[function(require,module,exports){"use strict";function ionicProviders(args){void 0===args&&(args={});var platform=new platform_1.Platform,navRegistry=new nav_registry_1.NavRegistry(args.pages),config=args.config;config instanceof config_1.Config||(config=new config_1.Config(config)),platform.setUrl(window.location.href),platform.setUserAgent(window.navigator.userAgent),platform.setNavigatorPlatform(window.navigator.platform),platform.load(config),config.setPlatform(platform);var clickBlock=new click_block_1.ClickBlock,events=new events_1.Events,featureDetect=new feature_detect_1.FeatureDetect;return setupDom(window,document,config,platform,clickBlock,featureDetect),bindEvents(window,document,platform,events),[app_1.IonicApp,core_1.provide(click_block_1.ClickBlock,{useValue:clickBlock}),core_1.provide(config_1.Config,{useValue:config}),core_1.provide(platform_1.Platform,{useValue:platform}),core_1.provide(feature_detect_1.FeatureDetect,{useValue:featureDetect}),core_1.provide(events_1.Events,{useValue:events}),core_1.provide(nav_registry_1.NavRegistry,{useValue:navRegistry}),tap_click_1.TapClick,form_1.Form,keyboard_1.Keyboard,menu_controller_1.MenuController,translate_1.Translate,router_1.ROUTER_PROVIDERS,core_1.provide(router_1.LocationStrategy,{useClass:router_1.HashLocationStrategy}),http_1.HTTP_PROVIDERS]}function postBootstrap(appRef,prodMode){appRef.injector.get(tap_click_1.TapClick);var app=appRef.injector.get(app_1.IonicApp),platform=appRef.injector.get(platform_1.Platform);platform.setZone(appRef.injector.get(core_1.NgZone)),platform.prepareReady(),app.setProd(prodMode),app.setAppInjector(appRef.injector)}function setupDom(window,document,config,platform,clickBlock,featureDetect){var bodyEle=document.body,mode=config.get("mode"),modeLinkAttr=mode+"-href",linkEle=document.head.querySelector("link["+modeLinkAttr+"]");if(linkEle){var href=linkEle.getAttribute(modeLinkAttr);linkEle.removeAttribute(modeLinkAttr),linkEle.href=href}bodyEle.classList.add(mode),platform.setDir(document.documentElement.dir,!1),platform.setLang(document.documentElement.lang,!1);var versions=platform.versions();platform.platforms().forEach(function(platformName){var platformClass="platform-"+platformName;bodyEle.classList.add(platformClass);var platformVersion=versions[platformName];platformVersion&&(platformClass+=platformVersion.major,bodyEle.classList.add(platformClass),bodyEle.classList.add(platformClass+"_"+platformVersion.minor))}),config.get("hoverCSS")!==!1&&bodyEle.classList.add("enable-hover"),config.get("clickBlock")&&clickBlock.enable(),featureDetect.run(window,document)}function bindEvents(window,document,platform,events){window.addEventListener("online",function(ev){events.publish("app:online",ev)},!1),window.addEventListener("offline",function(ev){events.publish("app:offline",ev)},!1),window.addEventListener("orientationchange",function(ev){events.publish("app:rotated",ev)}),window.addEventListener("statusTap",function(ev){var el=document.elementFromPoint(platform.width()/2,platform.height()/2);if(el){var content=dom_1.closest(el,"scroll-content");if(content){var scroll=new scroll_view_1.ScrollView(content);scroll.scrollTo(0,0,300)}}}),setTimeout(function(){window.addEventListener("resize",function(){platform.windowResize()})},2e3)}var core_1=require("angular2/core"),router_1=require("angular2/router"),http_1=require("angular2/http"),click_block_1=require("../util/click-block"),config_1=require("./config"),events_1=require("../util/events"),feature_detect_1=require("../util/feature-detect"),form_1=require("../util/form"),app_1=require("../components/app/app"),keyboard_1=require("../util/keyboard"),menu_controller_1=require("../components/menu/menu-controller"),nav_registry_1=require("../components/nav/nav-registry"),platform_1=require("../platform/platform"),dom_1=require("../util/dom"),scroll_view_1=require("../util/scroll-view"),tap_click_1=require("../components/tap-click/tap-click"),translate_1=require("../translation/translate");exports.ionicProviders=ionicProviders,exports.postBootstrap=postBootstrap},{"../components/app/app":267,"../components/menu/menu-controller":289,"../components/nav/nav-registry":299,"../components/tap-click/tap-click":324,"../platform/platform":343,"../translation/translate":353,"../util/click-block":356,"../util/dom":357,"../util/events":358,"../util/feature-detect":359,"../util/form":360,"../util/keyboard":361,"../util/scroll-view":362,"./config":332,"angular2/core":11,"angular2/http":12,"angular2/router":16}],332:[function(require,module,exports){"use strict";var platform_1=require("../platform/platform"),util_1=require("../util/util"),Config=function(){function Config(config){this._c={},this._s={},this._s=config&&util_1.isObject(config)&&!util_1.isArray(config)?config:{}}return Config.prototype.get=function(key,fallbackValue){if(void 0===fallbackValue&&(fallbackValue=null),!util_1.isDefined(this._c[key])){if(!util_1.isDefined(key))throw"config key is not defined";var userPlatformValue=void 0,userDefaultValue=this._s[key],userPlatformModeValue=void 0,userDefaultModeValue=void 0,platformValue=void 0,platformModeValue=void 0,configObj=null;if(this.platform){var queryStringValue=this.platform.query("ionic"+key.toLowerCase());if(util_1.isDefined(queryStringValue))return this._c[key]="true"===queryStringValue?!0:"false"===queryStringValue?!1:queryStringValue;for(var activePlatformKeys=this.platform.platforms(),i=0,l=activePlatformKeys.length;l>i;i++)this._s.platforms&&(configObj=this._s.platforms[activePlatformKeys[i]],configObj&&(util_1.isDefined(configObj[key])&&(userPlatformValue=configObj[key]),configObj=Config.getModeConfig(configObj.mode),configObj&&util_1.isDefined(configObj[key])&&(userPlatformModeValue=configObj[key]))),configObj=platform_1.Platform.get(activePlatformKeys[i]),configObj&&configObj.settings&&(util_1.isDefined(configObj.settings[key])&&(platformValue=configObj.settings[key]),configObj=Config.getModeConfig(configObj.settings.mode),configObj&&util_1.isDefined(configObj[key])&&(platformModeValue=configObj[key]))}configObj=Config.getModeConfig(this._s.mode),configObj&&util_1.isDefined(configObj[key])&&(userDefaultModeValue=configObj[key]),this._c[key]=util_1.isDefined(userPlatformValue)?userPlatformValue:util_1.isDefined(userDefaultValue)?userDefaultValue:util_1.isDefined(userPlatformModeValue)?userPlatformModeValue:util_1.isDefined(userDefaultModeValue)?userDefaultModeValue:util_1.isDefined(platformValue)?platformValue:util_1.isDefined(platformModeValue)?platformModeValue:null}var rtnVal;return rtnVal=util_1.isFunction(this._c[key])?this._c[key](this.platform):this._c[key],null!==rtnVal?rtnVal:fallbackValue},Config.prototype.getBoolean=function(key,fallbackValue){void 0===fallbackValue&&(fallbackValue=!1);var val=this.get(key);return null===val?fallbackValue:"string"==typeof val?"true"===val:!!val},Config.prototype.getNumber=function(key,fallbackValue){void 0===fallbackValue&&(fallbackValue=NaN);var val=parseFloat(this.get(key));return isNaN(val)?fallbackValue:val},Config.prototype.set=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var arg0=args[0],arg1=args[1];switch(args.length){case 2:this._s[arg0]=arg1,delete this._c[arg0];break;case 3:this._s.platforms=this._s.platforms||{},this._s.platforms[arg0]=this._s.platforms[arg0]||{},this._s.platforms[arg0][arg1]=args[2],delete this._c[arg1]}return this},Config.prototype.settings=function(arg0,arg1){switch(arguments.length){case 0:return this._s;case 1:this._s=arg0,this._c={};break;case 2:this._s.platforms=this._s.platforms||{},this._s.platforms[arg0]=arg1,this._c={}}return this},Config.prototype.setPlatform=function(platform){this.platform=platform},Config.setModeConfig=function(mode,config){modeConfigs[mode]=config},Config.getModeConfig=function(mode){return modeConfigs[mode]||null},Config}();exports.Config=Config;var modeConfigs={}},{"../platform/platform":343,"../util/util":363}],333:[function(require,module,exports){"use strict";var common_1=require("angular2/common"),menu_1=require("../components/menu/menu"),menu_toggle_1=require("../components/menu/menu-toggle"),menu_close_1=require("../components/menu/menu-close"),badge_1=require("../components/badge/badge"),button_1=require("../components/button/button"),blur_1=require("../components/blur/blur"),content_1=require("../components/content/content"),img_1=require("../components/img/img"),scroll_1=require("../components/scroll/scroll"),infinite_scroll_1=require("../components/infinite-scroll/infinite-scroll"),infinite_scroll_content_1=require("../components/infinite-scroll/infinite-scroll-content"),refresher_1=require("../components/refresher/refresher"),refresher_content_1=require("../components/refresher/refresher-content"),slides_1=require("../components/slides/slides"),tabs_1=require("../components/tabs/tabs"),tab_1=require("../components/tabs/tab"),list_1=require("../components/list/list"),item_1=require("../components/item/item"),item_sliding_1=require("../components/item/item-sliding"),virtual_scroll_1=require("../components/virtual-scroll/virtual-scroll"),virtual_item_1=require("../components/virtual-scroll/virtual-item"),toolbar_1=require("../components/toolbar/toolbar"),icon_1=require("../components/icon/icon"),spinner_1=require("../components/spinner/spinner"),checkbox_1=require("../components/checkbox/checkbox"),select_1=require("../components/select/select"),option_1=require("../components/option/option"),toggle_1=require("../components/toggle/toggle"),input_1=require("../components/input/input"),label_1=require("../components/label/label"),segment_1=require("../components/segment/segment"),radio_button_1=require("../components/radio/radio-button"),radio_group_1=require("../components/radio/radio-group"),searchbar_1=require("../components/searchbar/searchbar"),nav_1=require("../components/nav/nav"),nav_push_1=require("../components/nav/nav-push"),nav_router_1=require("../components/nav/nav-router"),navbar_1=require("../components/navbar/navbar"),id_1=require("../components/app/id"),show_hide_when_1=require("../components/show-hide-when/show-hide-when");exports.IONIC_DIRECTIVES=[common_1.CORE_DIRECTIVES,common_1.FORM_DIRECTIVES,menu_1.Menu,menu_toggle_1.MenuToggle,menu_close_1.MenuClose,badge_1.Badge,button_1.Button,blur_1.Blur,content_1.Content,scroll_1.Scroll,infinite_scroll_1.InfiniteScroll,infinite_scroll_content_1.InfiniteScrollContent,refresher_1.Refresher,refresher_content_1.RefresherContent,img_1.Img,list_1.List,list_1.ListHeader,item_1.Item,item_sliding_1.ItemSliding,virtual_scroll_1.VirtualScroll,virtual_item_1.VirtualItem,virtual_item_1.VirtualHeader,virtual_item_1.VirtualFooter,slides_1.Slides,slides_1.Slide,slides_1.SlideLazy,tabs_1.Tabs,tab_1.Tab,toolbar_1.Toolbar,toolbar_1.ToolbarTitle,toolbar_1.ToolbarItem,icon_1.Icon,spinner_1.Spinner,searchbar_1.Searchbar,searchbar_1.SearchbarInput,segment_1.Segment,segment_1.SegmentButton,checkbox_1.Checkbox,radio_group_1.RadioGroup,radio_button_1.RadioButton,select_1.Select,option_1.Option,toggle_1.Toggle,input_1.TextArea,input_1.TextInput,label_1.Label,nav_1.Nav,navbar_1.NavbarTemplate,navbar_1.Navbar,nav_push_1.NavPush,nav_push_1.NavPop,nav_router_1.NavRouter,id_1.IdRef,show_hide_when_1.ShowWhen,show_hide_when_1.HideWhen]},{"../components/app/id":268,"../components/badge/badge":269,"../components/blur/blur":270,"../components/button/button":271,"../components/checkbox/checkbox":272,"../components/content/content":273,"../components/icon/icon":274,"../components/img/img":275,"../components/infinite-scroll/infinite-scroll":277,"../components/infinite-scroll/infinite-scroll-content":276,"../components/input/input":279,"../components/item/item":284,"../components/item/item-sliding":283,"../components/label/label":285,"../components/list/list":286,"../components/menu/menu":293,"../components/menu/menu-close":288,"../components/menu/menu-toggle":291,"../components/nav/nav":301,"../components/nav/nav-push":298,"../components/nav/nav-router":300,"../components/navbar/navbar":304,"../components/option/option":305,"../components/radio/radio-button":306,"../components/radio/radio-group":307,"../components/refresher/refresher":309,"../components/refresher/refresher-content":308,"../components/scroll/scroll":310,"../components/searchbar/searchbar":311,"../components/segment/segment":312,"../components/select/select":313,"../components/show-hide-when/show-hide-when":314,"../components/slides/slides":315,"../components/spinner/spinner":317,"../components/tabs/tab":320,"../components/tabs/tabs":321,"../components/toggle/toggle":326,"../components/toolbar/toolbar":327,"../components/virtual-scroll/virtual-item":328,"../components/virtual-scroll/virtual-scroll":329,"angular2/common":9}],334:[function(require,module,exports){"use strict";var config_1=require("./config");config_1.Config.setModeConfig("ios",{activator:"highlight",actionSheetEnter:"action-sheet-slide-in",actionSheetLeave:"action-sheet-slide-out",toastEnter:"toast-slide-in",toastLeave:"toast-slide-out",alertEnter:"alert-pop-in",alertLeave:"alert-pop-out",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-pop-in",loadingLeave:"loading-pop-out",menuType:"reveal",modalEnter:"modal-slide-in",modalLeave:"modal-slide-out",pageTransition:"ios-transition",pageTransitionDelay:16,spinner:"ios",tabbarPlacement:"bottom"}),config_1.Config.setModeConfig("md",{activator:"ripple",actionSheetEnter:"action-sheet-md-slide-in",actionSheetLeave:"action-sheet-md-slide-out",toastEnter:"toast-md-slide-in",toastLeave:"toast-md-slide-out",alertEnter:"alert-md-pop-in",alertLeave:"alert-md-pop-out",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",loadingEnter:"loading-md-pop-in",loadingLeave:"loading-md-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"md-transition",pageTransitionDelay:96,spinner:"crescent",tabbarHighlight:!0,tabbarPlacement:"top",tabSubPages:!0}),config_1.Config.setModeConfig("wp",{activator:"highlight",actionSheetEnter:"action-sheet-wp-slide-in",actionSheetLeave:"action-sheet-wp-slide-out",toastEnter:"toast-wp-slide-in",toastLeave:"toast-wp-slide-out",alertEnter:"alert-wp-pop-in",alertLeave:"alert-wp-pop-out",backButtonText:"",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-wp-pop-in",loadingLeave:"loading-wp-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"wp-transition",pageTransitionDelay:96,spinner:"circles",tabbarPlacement:"top",tabSubPages:!0})},{"./config":332}],335:[function(require,module,exports){"use strict";function App(args){return void 0===args&&(args={}),function(cls){var annotations=_reflect.getMetadata("annotations",cls)||[];args.selector="ion-app",args.templateUrl||args.template||(args.template="<ion-nav></ion-nav>"),annotations.push(new core_1.Component(args)),_reflect.defineMetadata("annotations",annotations,cls);var providers=bootstrap_1.ionicProviders(args).concat(args.providers||[]),directives=args.directives?args.directives.concat(directives_1.IONIC_DIRECTIVES):directives_1.IONIC_DIRECTIVES;return providers.push(core_1.provide(core_1.PLATFORM_DIRECTIVES,{useValue:[directives],multi:!0})),args.prodMode&&core_1.enableProdMode(),browser_1.bootstrap(cls,providers).then(function(appRef){bootstrap_1.postBootstrap(appRef,args.prodMode)}),cls}}var core_1=require("angular2/core"),browser_1=require("angular2/platform/browser"),bootstrap_1=require("../config/bootstrap"),directives_1=require("../config/directives"),_reflect=Reflect;exports.App=App},{"../config/bootstrap":331,"../config/directives":333,"angular2/core":11,"angular2/platform/browser":14}],336:[function(require,module,exports){"use strict";function Page(config){return function(cls){config.selector="ion-page",config.host=config.host||{},config.host["[hidden]"]="_hidden",config.host["[class.tab-subpage]"]="_tabSubPage";var annotations=_reflect.getMetadata("annotations",cls)||[];return annotations.push(new core_1.Component(config)),_reflect.defineMetadata("annotations",annotations,cls),cls}}var core_1=require("angular2/core"),_reflect=Reflect;exports.Page=Page},{"angular2/core":11}],337:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},gesture_1=require("./gesture"),util_1=require("../util"),DragGesture=function(_super){function DragGesture(element,opts){void 0===opts&&(opts={}),util_1.defaults(opts,{}),_super.call(this,element,opts)}return __extends(DragGesture,_super),DragGesture.prototype.listen=function(){var _this=this;_super.prototype.listen.call(this),this.on("panstart",function(ev){_this.onDragStart(ev)!==!1&&(_this.dragging=!0)}),this.on("panmove",function(ev){_this.dragging&&_this.onDrag(ev)===!1&&(_this.dragging=!1)}),this.on("panend",function(ev){_this.dragging&&(_this.onDragEnd(ev),_this.dragging=!1)})},DragGesture.prototype.onDrag=function(ev){return!0},DragGesture.prototype.onDragStart=function(ev){return!0},DragGesture.prototype.onDragEnd=function(ev){},DragGesture}(gesture_1.Gesture);exports.DragGesture=DragGesture},{"../util":355,"./gesture":338}],338:[function(require,module,exports){"use strict";var util_1=require("../util"),hammer_1=require("./hammer"),Gesture=function(){function Gesture(element,opts){void 0===opts&&(opts={}),this._callbacks={},this.isListening=!1,util_1.defaults(opts,{domEvents:!0}),this.element=element,this.direction=opts.direction||"x",opts.direction="x"===this.direction?hammer_1.DIRECTION_HORIZONTAL:hammer_1.DIRECTION_VERTICAL,this._options=opts}return Gesture.prototype.options=function(opts){util_1.assign(this._options,opts)},Gesture.prototype.on=function(type,cb){"pinch"!==type&&"rotate"!==type||this._hammer.get("pinch").set({enable:!0}),this._hammer.on(type,cb),(this._callbacks[type]||(this._callbacks[type]=[])).push(cb)},Gesture.prototype.off=function(type,cb){this._hammer.off(type,this._callbacks[type]?cb:null)},Gesture.prototype.listen=function(){this.isListening||(this._hammer=hammer_1.Hammer(this.element,this._options)),this.isListening=!0},Gesture.prototype.unlisten=function(){var type,i;if(this._hammer&&this.isListening){for(type in this._callbacks)for(i=0;i<this._callbacks[type].length;i++)this._hammer.off(type,this._callbacks[type]);this._hammer.destroy()}this._callbacks={},this._hammer=null,this.isListening=!1},Gesture.prototype.destroy=function(){this.unlisten(),this.element=this._options=null},Gesture}();exports.Gesture=Gesture},{"../util":355,"./hammer":339}],339:[function(require,module,exports){"use strict";function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){return Array.isArray(arg)?(each(arg,context[fn],context),!0):!1}function each(obj,iterator,context){var i;if(obj)if(obj.forEach)obj.forEach(iterator,context);else if(void 0!==obj.length)for(i=0;i<obj.length;)iterator.call(context,obj[i],i,obj),i++;else for(i in obj)obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}function inherit(child,base,properties){
var childP,baseP=base.prototype;childP=child.prototype=Object.create(baseP),childP.constructor=child,childP._super=baseP,properties&&util_1.assign(childP,properties)}function bindFn(fn,context){return function(){return fn.apply(context,arguments)}}function boolOrFn(val,args){return typeof val==TYPE_FUNCTION?val.apply(args?args[0]||void 0:void 0,args):val}function ifUndefined(val1,val2){return void 0===val1?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,!1)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,!1)})}function hasParent(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey)return src.indexOf(find);for(var i=0;i<src.length;){if(findByKey&&src[i][findByKey]==find||!findByKey&&src[i]===find)return i;i++}return-1}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){for(var results=[],values=[],i=0;i<src.length;){var val=key?src[i][key]:src[i];inArray(values,val)<0&&results.push(src[i]),values[i]=val,i++}return sort&&(results=key?results.sort(function(a,b){return a[key]>b[key]?1:0}):results.sort()),results}function prefixed(obj,property){for(var prefix,prop,camelProp=property[0].toUpperCase()+property.slice(1),i=0;i<VENDOR_PREFIXES.length;){if(prefix=VENDOR_PREFIXES[i],prop=prefix?prefix+camelProp:property,prop in obj)return prop;i++}}function uniqueId(){return _uniqueId++}function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}function Input(manager,callback){var self=this;this.manager=manager,this.callback=callback,this.element=manager.element,this.target=manager.options.inputTarget,this.domHandler=function(ev){boolOrFn(manager.options.enable,[manager])&&self.handler(ev)},this.init()}function createInputInstance(manager){var Type,inputClass=manager.options.inputClass;return new(Type=inputClass?inputClass:SUPPORT_POINTER_EVENTS?PointerEventInput:SUPPORT_ONLY_TOUCH?TouchInput:SUPPORT_TOUCH?TouchMouseInput:MouseInput)(manager,inputHandler)}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length,changedPointersLen=input.changedPointers.length,isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen===0,isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen===0;input.isFirst=!!isFirst,input.isFinal=!!isFinal,isFirst&&(manager.session={}),input.eventType=eventType,computeInputData(manager,input),manager.emit("hammer.input",input),manager.recognize(input),manager.session.prevInput=input}function computeInputData(manager,input){var session=manager.session,pointers=input.pointers,pointersLength=pointers.length;session.firstInput||(session.firstInput=simpleCloneInputData(input)),pointersLength>1&&!session.firstMultiple?session.firstMultiple=simpleCloneInputData(input):1===pointersLength&&(session.firstMultiple=!1);var firstInput=session.firstInput,firstMultiple=session.firstMultiple,offsetCenter=firstMultiple?firstMultiple.center:firstInput.center,center=input.center=getCenter(pointers);input.timeStamp=now(),input.deltaTime=input.timeStamp-firstInput.timeStamp,input.angle=getAngle(offsetCenter,center),input.distance=getDistance(offsetCenter,center),computeDeltaXY(session,input),input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x,input.overallVelocityY=overallVelocity.y,input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y,input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1,input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0,input.maxPointers=session.prevInput?input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers:input.pointers.length,computeIntervalInputData(session,input);var target=manager.element;hasParent(input.srcEvent.target,target)&&(target=input.srcEvent.target),input.target=target}function computeDeltaXY(session,input){var center=input.center,offset=session.offsetDelta||{},prevDelta=session.prevDelta||{},prevInput=session.prevInput||{};input.eventType!==INPUT_START&&prevInput.eventType!==INPUT_END||(prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0},offset=session.offsetDelta={x:center.x,y:center.y}),input.deltaX=prevDelta.x+(center.x-offset.x),input.deltaY=prevDelta.y+(center.y-offset.y)}function computeIntervalInputData(session,input){var velocity,velocityX,velocityY,direction,last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp;if(input.eventType!=INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||void 0===last.velocity)){var deltaX=input.deltaX-last.deltaX,deltaY=input.deltaY-last.deltaY,v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x,velocityY=v.y,velocity=abs(v.x)>abs(v.y)?v.x:v.y,direction=getDirection(deltaX,deltaY),session.lastInterval=input}else velocity=last.velocity,velocityX=last.velocityX,velocityY=last.velocityY,direction=last.direction;input.velocity=velocity,input.velocityX=velocityX,input.velocityY=velocityY,input.direction=direction}function simpleCloneInputData(input){for(var pointers=[],i=0;i<input.pointers.length;)pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)},i++;return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(1===pointersLength)return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)};for(var x=0,y=0,i=0;pointersLength>i;)x+=pointers[i].clientX,y+=pointers[i].clientY,i++;return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){return x===y?DIRECTION_NONE:abs(x)>=abs(y)?0>x?exports.DIRECTION_LEFT:exports.DIRECTION_RIGHT:0>y?DIRECTION_UP:DIRECTION_DOWN}function getDistance(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return 180*Math.atan2(y,x)/Math.PI}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}function MouseInput(manager,handler){this.evEl=MOUSE_ELEMENT_EVENTS,this.evWin=MOUSE_WINDOW_EVENTS,this.allow=!0,this.pressed=!1,Input.apply(this,arguments)}function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS,this.evWin=POINTER_WINDOW_EVENTS,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function SingleTouchInput(){this.evTarget=SINGLE_TOUCH_TARGET_EVENTS,this.evWin=SINGLE_TOUCH_WINDOW_EVENTS,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(ev,type){var all=toArray(ev.touches),changed=toArray(ev.changedTouches);return type&(INPUT_END|INPUT_CANCEL)&&(all=uniqueArray(all.concat(changed),"identifier",!0)),[all,changed]}function TouchInput(manager,handler){this.evTarget=TOUCH_TARGET_EVENTS,this.targetIds={},Input.apply(this,arguments)}function getTouches(ev,type){var allTouches=toArray(ev.touches),targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&1===allTouches.length)return targetIds[allTouches[0].identifier]=!0,[allTouches,allTouches];var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;if(targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)}),type===INPUT_START)for(i=0;i<targetTouches.length;)targetIds[targetTouches[i].identifier]=!0,i++;for(i=0;i<changedTouches.length;)targetIds[changedTouches[i].identifier]&&changedTargetTouches.push(changedTouches[i]),type&(INPUT_END|INPUT_CANCEL)&&delete targetIds[changedTouches[i].identifier],i++;return changedTargetTouches.length?[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",!0),changedTargetTouches]:void 0}function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler),this.mouse=new MouseInput(this.manager,handler)}function TouchAction(manager,value){this.manager=manager,this.set(value)}function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X),hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);return hasPanX&&hasPanY?TOUCH_ACTION_NONE:hasPanX||hasPanY?hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(actions,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}function Recognizer(options){this.options=util_1.assign({},this.defaults,options||{}),this.id=uniqueId(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}function stateStr(state){return state&STATE_CANCELLED?"cancel":state&STATE_ENDED?"end":state&STATE_CHANGED?"move":state&STATE_BEGAN?"start":""}function directionStr(direction){return direction==DIRECTION_DOWN?"down":direction==DIRECTION_UP?"up":direction==exports.DIRECTION_LEFT?"left":direction==exports.DIRECTION_RIGHT?"right":""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;return manager?manager.get(otherRecognizer):otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(element,options){return options=options||{},options.recognizers=ifUndefined(options.recognizers,_defaults.preset),new Manager(element,options)}function Manager(element,options){this.options=util_1.assign({},_defaults,options||{}),this.options.inputTarget=this.options.inputTarget||element,this.handlers={},this.session={},this.recognizers=[],this.element=element,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(item){var recognizer=this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]),item[3]&&recognizer.requireFailure(item[3])},this)}function toggleCssProps(manager,add){var element=manager.element;element.style&&each(manager.options.cssProps,function(value,name){element.style[prefixed(element.style,name)]=add?value:""})}function triggerDomEvent(event,data){var gestureEvent=doc.createEvent("Event");gestureEvent.initEvent(event,!0,!0),gestureEvent.gesture=data,data.target.dispatchEvent(gestureEvent)}var util_1=require("../util/util"),win=window,doc=document,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=doc.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs=Math.abs,now=Date.now,_uniqueId=1,MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in window,SUPPORT_POINTER_EVENTS=void 0!==prefixed(window,"PointerEvent"),SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1;exports.DIRECTION_LEFT=2,exports.DIRECTION_RIGHT=4;var DIRECTION_UP=8,DIRECTION_DOWN=16;exports.DIRECTION_HORIZONTAL=exports.DIRECTION_LEFT|exports.DIRECTION_RIGHT,exports.DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=exports.DIRECTION_HORIZONTAL|exports.DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup";inherit(MouseInput,Input,{handler:function(ev){var eventType=MOUSE_INPUT_MAP[ev.type];eventType&INPUT_START&&0===ev.button&&(this.pressed=!0),eventType&INPUT_MOVE&&1!==ev.which&&(eventType=INPUT_END),this.pressed&&this.allow&&(eventType&INPUT_END&&(this.pressed=!1),this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:INPUT_TYPE_MOUSE,srcEvent:ev}))}});var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";win.MSPointerEvent&&!win.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function(ev){var store=this.store,removePointer=!1,eventTypeNormalized=ev.type.toLowerCase().replace("ms",""),eventType=POINTER_INPUT_MAP[eventTypeNormalized],pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType,isTouch=pointerType==INPUT_TYPE_TOUCH,storeIndex=inArray(store,ev.pointerId,"pointerId");eventType&INPUT_START&&(0===ev.button||isTouch)?0>storeIndex&&(store.push(ev),storeIndex=store.length-1):eventType&(INPUT_END|INPUT_CANCEL)&&(removePointer=!0),0>storeIndex||(store[storeIndex]=ev,this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev}),removePointer&&store.splice(storeIndex,1))}});var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";inherit(SingleTouchInput,Input,{handler:function(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START&&(this.started=!0),this.started){var touches=normalizeSingleTouches.call(this,ev,type);type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length===0&&(this.started=!1),this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}}});var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";inherit(TouchInput,Input,{handler:function(ev){var type=TOUCH_INPUT_MAP[ev.type],touches=getTouches.call(this,ev,type);touches&&this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}}),inherit(TouchMouseInput,Input,{handler:function(manager,inputEvent,inputData){var isTouch=inputData.pointerType==INPUT_TYPE_TOUCH,isMouse=inputData.pointerType==INPUT_TYPE_MOUSE;if(isTouch)this.mouse.allow=!1;else if(isMouse&&!this.mouse.allow)return;inputEvent&(INPUT_END|INPUT_CANCEL)&&(this.mouse.allow=!0),this.callback(manager,inputEvent,inputData)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=void 0!==PREFIXED_TOUCH_ACTION,TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y";TouchAction.prototype={set:function(value){value==TOUCH_ACTION_COMPUTE&&(value=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=value),this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];return each(this.manager.recognizers,function(recognizer){boolOrFn(recognizer.options.enable,[recognizer])&&(actions=actions.concat(recognizer.getTouchAction()))}),cleanTouchActions(actions.join(" "))},preventDefaults:function(input){if(!NATIVE_TOUCH_ACTION){var srcEvent=input.srcEvent,direction=input.offsetDirection;if(this.manager.session.prevented)return void srcEvent.preventDefault();var actions=this.actions,hasNone=inStr(actions,TOUCH_ACTION_NONE),hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y),hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);if(hasNone){var isTapPointer=1===input.pointers.length,isTapMovement=input.distance<2,isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime)return}if(!hasPanX||!hasPanY)return hasNone||hasPanY&&direction&exports.DIRECTION_HORIZONTAL||hasPanX&&direction&exports.DIRECTION_VERTICAL?this.preventSrc(srcEvent):void 0}},preventSrc:function(srcEvent){this.manager.session.prevented=!0,srcEvent.preventDefault()}};var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32;Recognizer.prototype={defaults:{},set:function(options){return util_1.assign(this.options,options),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this))return this;var simultaneous=this.simultaneous;return otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),simultaneous[otherRecognizer.id]||(simultaneous[otherRecognizer.id]=otherRecognizer,otherRecognizer.recognizeWith(this)),this},dropRecognizeWith:function(otherRecognizer){return invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)?this:(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),delete this.simultaneous[otherRecognizer.id],this)},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this))return this;var requireFail=this.requireFail;return otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),-1===inArray(requireFail,otherRecognizer)&&(requireFail.push(otherRecognizer),otherRecognizer.requireFailure(this)),this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this))return this;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);return index>-1&&this.requireFail.splice(index,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]},emit:function(input){function emit(event){self.manager.emit(event,input)}var self=this,state=this.state;STATE_ENDED>state&&emit(self.options.event+stateStr(state)),emit(self.options.event),input.additionalEvent&&emit(input.additionalEvent),state>=STATE_ENDED&&emit(self.options.event+stateStr(state))},tryEmit:function(input){return this.canEmit()?this.emit(input):void(this.state=STATE_FAILED)},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(STATE_FAILED|STATE_POSSIBLE)))return!1;i++}return!0},recognize:function(inputData){var inputDataClone=util_1.assign({},inputData);return boolOrFn(this.options.enable,[this,inputDataClone])?(this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)&&(this.state=STATE_POSSIBLE),this.state=this.process(inputDataClone),void(this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(inputDataClone))):(this.reset(),void(this.state=STATE_FAILED))},process:function(inputData){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return 0===optionPointers||input.pointers.length===optionPointers},process:function(input){var state=this.state,eventType=input.eventType,isRecognized=state&(STATE_BEGAN|STATE_CHANGED),isValid=this.attrTest(input);return isRecognized&&(eventType&INPUT_CANCEL||!isValid)?state|STATE_CANCELLED:isRecognized||isValid?eventType&INPUT_END?state|STATE_ENDED:state&STATE_BEGAN?state|STATE_CHANGED:STATE_BEGAN:STATE_FAILED}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:function(){var direction=this.options.direction,actions=[];return direction&exports.DIRECTION_HORIZONTAL&&actions.push(TOUCH_ACTION_PAN_Y),direction&exports.DIRECTION_VERTICAL&&actions.push(TOUCH_ACTION_PAN_X),actions},directionTest:function(input){var options=this.options,hasMoved=!0,distance=input.distance,direction=input.direction,x=input.deltaX,y=input.deltaY;return direction&options.direction||(options.direction&exports.DIRECTION_HORIZONTAL?(direction=0===x?DIRECTION_NONE:0>x?exports.DIRECTION_LEFT:exports.DIRECTION_RIGHT,hasMoved=x!=this.pX,distance=Math.abs(input.deltaX)):(direction=0===y?DIRECTION_NONE:0>y?DIRECTION_UP:DIRECTION_DOWN,hasMoved=y!=this.pY,distance=Math.abs(input.deltaY))),input.direction=direction,hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX,this.pY=input.deltaY;var direction=directionStr(input.direction);direction&&(input.additionalEvent=this.options.event+direction),this._super.emit.call(this,input)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},emit:function(input){if(1!==input.scale){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}this._super.emit.call(this,input)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[TOUCH_ACTION_AUTO]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTime=input.deltaTime>options.time;if(this._input=input,!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime)this.reset();else if(input.eventType&INPUT_START)this.reset(),this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.time,this);else if(input.eventType&INPUT_END)return STATE_RECOGNIZED;return STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(input){this.state===STATE_RECOGNIZED&&(input&&input.eventType&INPUT_END?this.manager.emit(this.options.event+"up",input):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:exports.DIRECTION_HORIZONTAL|exports.DIRECTION_VERTICAL,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var velocity,direction=this.options.direction;return direction&(exports.DIRECTION_HORIZONTAL|exports.DIRECTION_VERTICAL)?velocity=input.overallVelocity:direction&exports.DIRECTION_HORIZONTAL?velocity=input.overallVelocityX:direction&exports.DIRECTION_VERTICAL&&(velocity=input.overallVelocityY),this._super.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END},emit:function(input){var direction=directionStr(input.offsetDirection);direction&&this.manager.emit(this.options.event+direction,input),this.manager.emit(this.options.event,input)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[TOUCH_ACTION_MANIPULATION]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTouchTime=input.deltaTime<options.time;if(this.reset(),input.eventType&INPUT_START&&0===this.count)return this.failTimeout();if(validMovement&&validTouchTime&&validPointers){if(input.eventType!=INPUT_END)return this.failTimeout();var validInterval=this.pTime?input.timeStamp-this.pTime<options.interval:!0,validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;this.pTime=input.timeStamp,this.pCenter=input.center,validMultiTap&&validInterval?this.count+=1:this.count=1,this._input=input;var tapCount=this.count%options.taps;if(0===tapCount)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.interval,this),STATE_BEGAN):STATE_RECOGNIZED}return STATE_FAILED},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=STATE_FAILED},this.options.interval,this),STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),exports.Hammer=Hammer;var _defaults={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE,enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:exports.DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:exports.DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},STOP=1,FORCED_STOP=2;Manager.prototype={set:function(options){return util_1.assign(this.options,options),options.touchAction&&this.touchAction.update(),options.inputTarget&&(this.input.destroy(),this.input.target=options.inputTarget,this.input.init()),this},stop:function(force){this.session.stopped=force?FORCED_STOP:STOP},recognize:function(inputData){var session=this.session;if(!session.stopped){this.touchAction.preventDefaults(inputData);var recognizer,recognizers=this.recognizers,curRecognizer=session.curRecognizer;(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED)&&(curRecognizer=session.curRecognizer=null);for(var i=0;i<recognizers.length;)recognizer=recognizers[i],session.stopped===FORCED_STOP||curRecognizer&&recognizer!=curRecognizer&&!recognizer.canRecognizeWith(curRecognizer)?recognizer.reset():recognizer.recognize(inputData),!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(curRecognizer=session.curRecognizer=recognizer),i++}},get:function(recognizer){if(recognizer instanceof Recognizer)return recognizer;for(var recognizers=this.recognizers,i=0;i<recognizers.length;i++)if(recognizers[i].options.event==recognizer)return recognizers[i];return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this))return this;var existing=this.get(recognizer.options.event);return existing&&this.remove(existing),this.recognizers.push(recognizer),recognizer.manager=this,this.touchAction.update(),recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this))return this;if(recognizer=this.get(recognizer)){var recognizers=this.recognizers,index=inArray(recognizers,recognizer);-1!==index&&(recognizers.splice(index,1),this.touchAction.update())}return this},on:function(events,handler){var handlers=this.handlers;return each(splitStr(events),function(event){handlers[event]=handlers[event]||[],handlers[event].push(handler)}),this},off:function(events,handler){var handlers=this.handlers;return each(splitStr(events),function(event){handler?handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1):delete handlers[event]}),this},emit:function(event,data){this.options.domEvents&&triggerDomEvent(event,data);var handlers=this.handlers[event]&&this.handlers[event].slice();if(handlers&&handlers.length){data.type=event,data.preventDefault=function(){data.srcEvent.preventDefault()};for(var i=0;i<handlers.length;)handlers[i](data),i++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},util_1.assign(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:STATE_FAILED,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:exports.DIRECTION_LEFT,DIRECTION_RIGHT:exports.DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:exports.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:exports.DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),win.Hammer=Hammer},{"../util/util":363}],340:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},slide_gesture_1=require("./slide-gesture"),util_1=require("../util/util"),dom_1=require("../util/dom"),SlideEdgeGesture=function(_super){function SlideEdgeGesture(element,opts){void 0===opts&&(opts={}),util_1.defaults(opts,{edge:"left",maxEdgeStart:50}),_super.call(this,element,opts),this.edges=opts.edge.split(" "),this.maxEdgeStart=opts.maxEdgeStart}return __extends(SlideEdgeGesture,_super),SlideEdgeGesture.prototype.canStart=function(ev){var _this=this;return this._d=this.getContainerDimensions(),this.edges.every(function(edge){return _this._checkEdge(edge,ev.center)})},SlideEdgeGesture.prototype.getContainerDimensions=function(){return{left:0,top:0,width:dom_1.windowDimensions().width,height:dom_1.windowDimensions().height}},SlideEdgeGesture.prototype._checkEdge=function(edge,pos){switch(edge){case"left":return pos.x<=this._d.left+this.maxEdgeStart;case"right":return pos.x>=this._d.width-this.maxEdgeStart;case"top":return pos.y<=this._d.top+this.maxEdgeStart;case"bottom":
return pos.y>=this._d.height-this.maxEdgeStart}},SlideEdgeGesture}(slide_gesture_1.SlideGesture);exports.SlideEdgeGesture=SlideEdgeGesture},{"../util/dom":357,"../util/util":363,"./slide-gesture":341}],341:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},drag_gesture_1=require("./drag-gesture"),util_1=require("../util"),SlideGesture=function(_super){function SlideGesture(element,opts){void 0===opts&&(opts={}),_super.call(this,element,opts),this.slide=null,this.element=element}return __extends(SlideGesture,_super),SlideGesture.prototype.getSlideBoundaries=function(slide,ev){return{min:0,max:this.element.offsetWidth}},SlideGesture.prototype.getElementStartPos=function(slide,ev){return 0},SlideGesture.prototype.canStart=function(ev){return!0},SlideGesture.prototype.onDragStart=function(ev){if(!this.canStart(ev))return!1;this.slide={},this.onSlideBeforeStart(this.slide,ev);var _a=this.getSlideBoundaries(this.slide,ev),min=_a.min,max=_a.max;return this.slide.min=min,this.slide.max=max,this.slide.elementStartPos=this.getElementStartPos(this.slide,ev),this.slide.pointerStartPos=ev.center[this.direction],this.slide.started=!0,this.onSlideStart(this.slide,ev),!0},SlideGesture.prototype.onDrag=function(ev){return this.slide&&this.slide.started?(this.slide.pos=ev.center[this.direction],this.slide.distance=util_1.clamp(this.slide.min,this.slide.pos-this.slide.pointerStartPos+this.slide.elementStartPos,this.slide.max),this.slide.delta=this.slide.pos-this.slide.pointerStartPos,this.onSlide(this.slide,ev),!0):!1},SlideGesture.prototype.onDragEnd=function(ev){this.slide&&this.slide.started&&(this.onSlideEnd(this.slide,ev),this.slide=null)},SlideGesture.prototype.onSlideBeforeStart=function(slide,ev){},SlideGesture.prototype.onSlideStart=function(slide,ev){},SlideGesture.prototype.onSlide=function(slide,ev){},SlideGesture.prototype.onSlideEnd=function(slide,ev){},SlideGesture}(drag_gesture_1.DragGesture);exports.SlideGesture=SlideGesture},{"../util":355,"./drag-gesture":337}],342:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./config/bootstrap")),__export(require("./config/config")),__export(require("./config/directives")),__export(require("./decorators/app")),__export(require("./decorators/page")),__export(require("./components")),__export(require("./platform/platform")),__export(require("./platform/storage")),__export(require("./util/click-block")),__export(require("./util/events")),__export(require("./util/keyboard")),__export(require("./util/form")),__export(require("./animations/animation")),__export(require("./transitions/transition")),__export(require("./translation/translate")),__export(require("./translation/translate_pipe")),require("./config/modes"),require("./platform/registry"),require("./animations/builtins"),require("./transitions/transition-ios"),require("./transitions/transition-md"),require("./transitions/transition-wp")},{"./animations/animation":262,"./animations/builtins":263,"./components":264,"./config/bootstrap":331,"./config/config":332,"./config/directives":333,"./config/modes":334,"./decorators/app":335,"./decorators/page":336,"./platform/platform":343,"./platform/registry":344,"./platform/storage":345,"./transitions/transition":352,"./transitions/transition-ios":349,"./transitions/transition-md":350,"./transitions/transition-wp":351,"./translation/translate":353,"./translation/translate_pipe":354,"./util/click-block":356,"./util/events":358,"./util/form":360,"./util/keyboard":361}],343:[function(require,module,exports){"use strict";function insertSuperset(platformNode){var supersetPlaformName=platformNode.superset();if(supersetPlaformName){var supersetPlatform=new PlatformNode(supersetPlaformName);supersetPlatform.parent=platformNode.parent,supersetPlatform.child=platformNode,supersetPlatform.parent&&(supersetPlatform.parent.child=supersetPlatform),platformNode.parent=supersetPlatform}}var core_1=require("angular2/core"),util_1=require("../util/util"),dom_1=require("../util/dom"),Platform=function(){function Platform(platforms){var _this=this;void 0===platforms&&(platforms=[]),this._versions={},this._onResizes=[],this.backButton=new core_1.EventEmitter,this.pause=new core_1.EventEmitter,this.resume=new core_1.EventEmitter,this._platforms=platforms,this._readyPromise=new Promise(function(res){_this._readyResolve=res})}return Platform.prototype.setZone=function(zone){this._zone=zone},Platform.prototype.is=function(platformName){return this._platforms.indexOf(platformName)>-1},Platform.prototype.platforms=function(){return this._platforms},Platform.prototype.versions=function(){return this._versions},Platform.prototype.version=function(){for(var platformName in this._versions)if(this._versions[platformName])return this._versions[platformName];return{}},Platform.prototype.ready=function(){return this._readyPromise},Platform.prototype.triggerReady=function(){var _this=this;this._zone.run(function(){_this._readyResolve()})},Platform.prototype.prepareReady=function(){dom_1.ready(this.triggerReady.bind(this))},Platform.prototype.setDir=function(dir,updateDocument){this._dir=(dir||"").toLowerCase(),updateDocument!==!1&&document.documentElement.setAttribute("dir",dir)},Platform.prototype.dir=function(){return this._dir},Platform.prototype.isRTL=function(){return"rtl"===this._dir},Platform.prototype.setLang=function(language,updateDocument){this._lang=language,updateDocument!==!1&&document.documentElement.setAttribute("lang",language)},Platform.prototype.lang=function(){return this._lang},Platform.prototype.exitApp=function(){},Platform.prototype.setUrl=function(url){this._url=url,this._qs=util_1.getQuerystring(url)},Platform.prototype.url=function(){return this._url},Platform.prototype.query=function(key){return(this._qs||{})[key]},Platform.prototype.setUserAgent=function(userAgent){this._ua=userAgent},Platform.prototype.userAgent=function(){return this._ua||""},Platform.prototype.setNavigatorPlatform=function(navigatorPlatform){this._bPlt=navigatorPlatform},Platform.prototype.navigatorPlatform=function(){return this._bPlt||""},Platform.prototype.width=function(){return dom_1.windowDimensions().width},Platform.prototype.height=function(){return dom_1.windowDimensions().height},Platform.prototype.isPortrait=function(){return this.width()<this.height()},Platform.prototype.isLandscape=function(){return!this.isPortrait()},Platform.prototype.windowResize=function(){var self=this;clearTimeout(self._resizeTm),self._resizeTm=setTimeout(function(){dom_1.flushDimensionCache();for(var i=0;i<self._onResizes.length;i++)try{self._onResizes[i]()}catch(e){}},200)},Platform.prototype.onResize=function(cb){var self=this;return self._onResizes.push(cb),function(){var index=self._onResizes.indexOf(cb);index>-1&&self._onResizes.splice(index,1)}},Platform.register=function(platformConfig){platformRegistry[platformConfig.name]=platformConfig},Platform.registry=function(){return platformRegistry},Platform.get=function(platformName){return platformRegistry[platformName]||{}},Platform.setDefault=function(platformName){platformDefault=platformName},Platform.prototype.testQuery=function(queryValue,queryTestValue){var valueSplit=queryValue.toLowerCase().split(";");return valueSplit.indexOf(queryTestValue)>-1},Platform.prototype.testNavigatorPlatform=function(navigatorPlatformExpression){var rgx=new RegExp(navigatorPlatformExpression,"i");return rgx.test(this._bPlt)},Platform.prototype.matchUserAgentVersion=function(userAgentExpression){if(this._ua&&userAgentExpression){var val=this._ua.match(userAgentExpression);if(val)return{major:val[1],minor:val[2]}}},Platform.prototype.isPlatformMatch=function(queryStringName,userAgentAtLeastHas,userAgentMustNotHave){void 0===userAgentMustNotHave&&(userAgentMustNotHave=[]);var queryValue=this.query("ionicplatform");if(queryValue)return this.testQuery(queryValue,queryStringName);userAgentAtLeastHas=userAgentAtLeastHas||[queryStringName];for(var userAgent=this._ua.toLowerCase(),i=0;i<userAgentAtLeastHas.length;i++)if(userAgent.indexOf(userAgentAtLeastHas[i])>-1){for(var j=0;j<userAgentMustNotHave.length;j++)if(userAgent.indexOf(userAgentMustNotHave[j])>-1)return!1;return!0}return!1},Platform.prototype.load=function(config){var rootPlatformNode,enginePlatformNode,tmpPlatform;for(var platformName in platformRegistry)tmpPlatform=this.matchPlatform(platformName),tmpPlatform&&(tmpPlatform.isEngine?enginePlatformNode=tmpPlatform:(!rootPlatformNode||tmpPlatform.depth>rootPlatformNode.depth)&&(rootPlatformNode=tmpPlatform));if(rootPlatformNode||(rootPlatformNode=new PlatformNode(platformDefault)),rootPlatformNode){enginePlatformNode&&(enginePlatformNode.child=rootPlatformNode,rootPlatformNode.parent=enginePlatformNode,rootPlatformNode=enginePlatformNode);for(var platformNode=rootPlatformNode;platformNode;)insertSuperset(platformNode),platformNode=platformNode.child;for(platformNode=rootPlatformNode.parent;platformNode;)rootPlatformNode=platformNode,platformNode=platformNode.parent;for(platformNode=rootPlatformNode;platformNode;)platformNode.initialize(this,config),this._platforms.push(platformNode.name),this._versions[platformNode.name]=platformNode.version(this),platformNode=platformNode.child}this._platforms.indexOf("mobile")>-1&&-1===this._platforms.indexOf("cordova")&&this._platforms.push("mobileweb")},Platform.prototype.matchPlatform=function(platformName){var platformNode=new PlatformNode(platformName),rootNode=platformNode.getRoot(this);if(rootNode){rootNode.depth=0;for(var childPlatform=rootNode.child;childPlatform;)rootNode.depth++,childPlatform=childPlatform.child}return rootNode},Platform}();exports.Platform=Platform;var PlatformNode=function(){function PlatformNode(platformName){this.c=Platform.get(platformName),this.name=platformName,this.isEngine=this.c.isEngine}return PlatformNode.prototype.settings=function(){return this.c.settings||{}},PlatformNode.prototype.superset=function(){return this.c.superset},PlatformNode.prototype.isMatch=function(p){return this.c.isMatch&&this.c.isMatch(p)||!1},PlatformNode.prototype.initialize=function(platform,config){this.c.initialize&&this.c.initialize(platform,config)},PlatformNode.prototype.version=function(p){if(this.c.versionParser){var v=this.c.versionParser(p);if(v){var str=v.major+"."+v.minor;return{str:str,num:parseFloat(str),major:parseInt(v.major,10),minor:parseInt(v.minor,10)}}}},PlatformNode.prototype.getRoot=function(p){if(this.isMatch(p)){var parents=this.getSubsetParents(this.name);if(!parents.length)return this;for(var platform=null,rootPlatform=null,i=0;i<parents.length;i++)if(platform=new PlatformNode(parents[i]),platform.child=this,rootPlatform=platform.getRoot(p))return this.parent=platform,rootPlatform}return null},PlatformNode.prototype.getSubsetParents=function(subsetPlatformName){var platformRegistry=Platform.registry(),parentPlatformNames=[],platform=null;for(var platformName in platformRegistry)platform=platformRegistry[platformName],platform.subsets&&platform.subsets.indexOf(subsetPlatformName)>-1&&parentPlatformNames.push(platformName);return parentPlatformNames},PlatformNode}(),platformRegistry={},platformDefault=null},{"../util/dom":357,"../util/util":363,"angular2/core":11}],344:[function(require,module,exports){"use strict";function isIOSDevice(p){return p.testNavigatorPlatform("iphone|ipad|ipod")}var platform_1=require("./platform"),dom_1=require("../util/dom"),win=window,doc=document;platform_1.Platform.register({name:"core",settings:{mode:"md",keyboardHeight:290}}),platform_1.Platform.setDefault("core"),platform_1.Platform.register({name:"mobile"}),platform_1.Platform.register({name:"phablet",isMatch:function(p){var smallest=Math.min(p.width(),p.height()),largest=Math.max(p.width(),p.height());return smallest>390&&520>smallest&&largest>620&&800>largest}}),platform_1.Platform.register({name:"tablet",isMatch:function(p){var smallest=Math.min(p.width(),p.height()),largest=Math.max(p.width(),p.height());return smallest>460&&820>smallest&&largest>780&&1400>largest}}),platform_1.Platform.register({name:"android",superset:"mobile",subsets:["phablet","tablet"],settings:{activator:function(p){if(p.testNavigatorPlatform("linux")){var chromeVersion=p.matchUserAgentVersion(/Chrome\/(\d+).(\d+)?/);if(chromeVersion)return parseInt(chromeVersion.major,10)<36?"none":"ripple";if(p.version().major<5)return"none"}return"ripple"},autoFocusAssist:"immediate",hoverCSS:!1,keyboardHeight:300,mode:"md"},isMatch:function(p){return p.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(p){return p.matchUserAgentVersion(/Android (\d+).(\d+)?/)}}),platform_1.Platform.register({name:"ios",superset:"mobile",subsets:["ipad","iphone"],settings:{autoFocusAssist:"delay",clickBlock:!0,hoverCSS:!1,inputBlurring:isIOSDevice,inputCloning:isIOSDevice,keyboardHeight:300,mode:"ios",scrollAssist:isIOSDevice,statusbarPadding:!!win.cordova,swipeBackEnabled:isIOSDevice,swipeBackThreshold:40,tapPolyfill:isIOSDevice,virtualScrollEventAssist:!win.indexedDB},isMatch:function(p){return p.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(p){return p.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}}),platform_1.Platform.register({name:"ipad",superset:"tablet",settings:{keyboardHeight:500},isMatch:function(p){return p.isPlatformMatch("ipad")}}),platform_1.Platform.register({name:"iphone",subsets:["phablet"],isMatch:function(p){return p.isPlatformMatch("iphone")}}),platform_1.Platform.register({name:"windows",superset:"mobile",subsets:["phablet","tablet"],settings:{mode:"wp",autoFocusAssist:"immediate",clickBlock:!0,hoverCSS:!1},isMatch:function(p){return p.isPlatformMatch("windows",["windows phone"])},versionParser:function(p){return p.matchUserAgentVersion(/Windows Phone (\d+).(\d+)?/)}}),platform_1.Platform.register({name:"cordova",isEngine:!0,initialize:function(p,config){p.prepareReady=function(){dom_1.windowLoad(function(){doc.addEventListener("deviceready",function(){doc.addEventListener("backbutton",function(){p.backButton.emit(null)}),p.triggerReady()})})},p.exitApp=function(){win.navigator.app.exitApp()}},isMatch:function(){return!!(win.cordova||win.PhoneGap||win.phonegap)}})},{"../util/dom":357,"./platform":343}],345:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(require("./storage/storage")),__export(require("./storage/local-storage")),__export(require("./storage/sql"))},{"./storage/local-storage":346,"./storage/sql":347,"./storage/storage":348}],346:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},storage_1=require("./storage"),LocalStorage=function(_super){function LocalStorage(options){void 0===options&&(options={}),_super.call(this)}return __extends(LocalStorage,_super),LocalStorage.prototype.get=function(key){return new Promise(function(resolve,reject){try{var value=window.localStorage.getItem(key);resolve(value)}catch(e){reject(e)}})},LocalStorage.prototype.set=function(key,value){return new Promise(function(resolve,reject){try{window.localStorage.setItem(key,value),resolve()}catch(e){reject(e)}})},LocalStorage.prototype.remove=function(key){return new Promise(function(resolve,reject){try{window.localStorage.removeItem(key),resolve()}catch(e){reject(e)}})},LocalStorage.prototype.clear=function(){return new Promise(function(resolve,reject){try{window.localStorage.clear(),resolve()}catch(e){reject(e)}})},LocalStorage}(storage_1.StorageEngine);exports.LocalStorage=LocalStorage},{"./storage":348}],347:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},storage_1=require("./storage"),util_1=require("../../util/util"),DB_NAME="__ionicstorage",win=window,SqlStorage=function(_super){function SqlStorage(options){void 0===options&&(options={}),_super.call(this);var dbOptions=util_1.defaults(options,{name:DB_NAME,backupFlag:SqlStorage.BACKUP_LOCAL,existingDatabase:!1});if(win.sqlitePlugin){var location_1=this._getBackupLocation(dbOptions.backupFlag);this._db=win.sqlitePlugin.openDatabase(util_1.assign({name:dbOptions.name,location:location_1,createFromLocation:dbOptions.existingDatabase?1:0},dbOptions))}else this._db=win.openDatabase(dbOptions.name,"1.0","database",5242880);this._tryInit()}return __extends(SqlStorage,_super),SqlStorage.prototype._getBackupLocation=function(dbFlag){switch(dbFlag){case SqlStorage.BACKUP_LOCAL:return 2;case SqlStorage.BACKUP_LIBRARY:return 1;case SqlStorage.BACKUP_DOCUMENTS:return 0;default:throw Error("Invalid backup flag: "+dbFlag)}},SqlStorage.prototype._tryInit=function(){this.query("CREATE TABLE IF NOT EXISTS kv (key text primary key, value text)")["catch"](function(err){})},SqlStorage.prototype.query=function(query,params){var _this=this;return void 0===params&&(params=[]),new Promise(function(resolve,reject){try{_this._db.transaction(function(tx){tx.executeSql(query,params,function(tx,res){return resolve({tx:tx,res:res})},function(tx,err){return reject({tx:tx,err:err})})},function(err){return reject({err:err})})}catch(err){reject({err:err})}})},SqlStorage.prototype.get=function(key){return this.query("select key, value from kv where key = ? limit 1",[key]).then(function(data){return data.res.rows.length>0?data.res.rows.item(0).value:void 0})},SqlStorage.prototype.set=function(key,value){return this.query("insert or replace into kv(key, value) values (?, ?)",[key,value])},SqlStorage.prototype.remove=function(key){return this.query("delete from kv where key = ?",[key])},SqlStorage.prototype.clear=function(){return this.query("delete from kv")},SqlStorage.BACKUP_LOCAL=2,SqlStorage.BACKUP_LIBRARY=1,SqlStorage.BACKUP_DOCUMENTS=0,SqlStorage}(storage_1.StorageEngine);exports.SqlStorage=SqlStorage},{"../../util/util":363,"./storage":348}],348:[function(require,module,exports){"use strict";var Storage=function(){function Storage(strategyCls,options){this._strategy=new strategyCls(options)}return Storage.prototype.get=function(key){return this._strategy.get(key)},Storage.prototype.getJson=function(key){return this.get(key).then(function(value){try{return JSON.parse(value)}catch(e){throw e}})},Storage.prototype.setJson=function(key,value){try{return this.set(key,JSON.stringify(value))}catch(e){return Promise.reject(e)}},Storage.prototype.set=function(key,value){return this._strategy.set(key,value)},Storage.prototype.remove=function(key){return this._strategy.remove(key)},Storage.prototype.query=function(query,params){return this._strategy.query(query,params)},Storage.prototype.clear=function(){return this._strategy.clear()},Storage}();exports.Storage=Storage;var StorageEngine=function(){function StorageEngine(options){void 0===options&&(options={})}return StorageEngine.prototype.get=function(key){throw Error("get() not implemented for this storage engine")},StorageEngine.prototype.set=function(key,value){throw Error("set() not implemented for this storage engine")},StorageEngine.prototype.remove=function(key){throw Error("remove() not implemented for this storage engine")},StorageEngine.prototype.query=function(query,params){throw Error("query() not implemented for this storage engine")},StorageEngine.prototype.clear=function(){throw Error("clear() not implemented for this storage engine")},StorageEngine}();exports.StorageEngine=StorageEngine},{}],349:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),transition_1=require("./transition"),DURATION=500,EASING="cubic-bezier(0.36,0.66,0.04,1)",OPACITY="opacity",TRANSLATEX="translateX",OFF_RIGHT="99.5%",OFF_LEFT="-33%",CENTER="0%",OFF_OPACITY=.8,SHOW_BACK_BTN_CSS="show-back-button",IOSTransition=function(_super){function IOSTransition(enteringView,leavingView,opts){_super.call(this,opts),this.duration(opts.duration||DURATION),this.easing(opts.easing||EASING);var backDirection="back"===opts.direction,enteringHasNavbar=enteringView.hasNavbar(),leavingHasNavbar=leavingView&&leavingView.hasNavbar(),enteringPage=new animation_1.Animation(enteringView.pageRef());enteringPage.before.addClass("show-page"),this.add(enteringPage);var enteringContent=new animation_1.Animation(enteringView.contentRef());if(this.add(enteringContent),backDirection?enteringContent.fromTo(TRANSLATEX,OFF_LEFT,CENTER,!0).fromTo(OPACITY,OFF_OPACITY,1,!0):enteringContent.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,OFF_RIGHT,CENTER,!0),enteringHasNavbar){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar);var enteringTitle=new animation_1.Animation(enteringView.titleRef()),enteringNavbarItems=new animation_1.Animation(enteringView.navbarItemRefs()),enteringNavbarBg=new animation_1.Animation(enteringView.navbarBgRef()),enteringBackButton=new animation_1.Animation(enteringView.backBtnRef());if(enteringNavBar.add(enteringTitle).add(enteringNavbarItems).add(enteringNavbarBg).add(enteringBackButton),enteringTitle.fadeIn(),enteringNavbarItems.fadeIn(),backDirection)enteringTitle.fromTo(TRANSLATEX,OFF_LEFT,CENTER,!0),enteringView.enableBack()&&enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS).fadeIn();else if(enteringTitle.fromTo(TRANSLATEX,OFF_RIGHT,CENTER,!0),leavingHasNavbar?enteringNavbarBg.before.clearStyles([TRANSLATEX]).fadeIn():enteringNavbarBg.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,OFF_RIGHT,CENTER,!0),enteringView.enableBack()){enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS).fadeIn();var enteringBackBtnText=new animation_1.Animation(enteringView.backBtnTextRef());enteringBackBtnText.fromTo(TRANSLATEX,"100px","0px"),enteringNavBar.add(enteringBackBtnText)}else enteringBackButton.before.removeClass(SHOW_BACK_BTN_CSS)}if(leavingView){var leavingContent=new animation_1.Animation(leavingView.contentRef());if(this.add(leavingContent),backDirection?leavingContent.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,CENTER,"100%"):leavingContent.fromTo(TRANSLATEX,CENTER,OFF_LEFT).fromTo(OPACITY,1,OFF_OPACITY),leavingHasNavbar){var leavingNavBar=new animation_1.Animation(leavingView.navbarRef()),leavingBackButton=new animation_1.Animation(leavingView.backBtnRef()),leavingTitle=new animation_1.Animation(leavingView.titleRef()),leavingNavbarItems=new animation_1.Animation(leavingView.navbarItemRefs()),leavingNavbarBg=new animation_1.Animation(leavingView.navbarBgRef());if(leavingNavBar.add(leavingBackButton).add(leavingTitle).add(leavingNavbarItems).add(leavingNavbarBg),this.add(leavingNavBar),leavingBackButton.fadeOut(),leavingTitle.fadeOut(),leavingNavbarItems.fadeOut(),backDirection){leavingTitle.fromTo(TRANSLATEX,CENTER,"100%"),enteringHasNavbar?leavingNavbarBg.before.clearStyles([TRANSLATEX]).fadeOut():leavingNavbarBg.before.clearStyles([OPACITY]).fromTo(TRANSLATEX,CENTER,"100%");var leavingBackBtnText=new animation_1.Animation(leavingView.backBtnTextRef());leavingBackBtnText.fromTo(TRANSLATEX,CENTER,"300px"),leavingNavBar.add(leavingBackBtnText)}else leavingTitle.fromTo(TRANSLATEX,CENTER,OFF_LEFT)}}}return __extends(IOSTransition,_super),IOSTransition}(transition_1.Transition);transition_1.Transition.register("ios-transition",IOSTransition)},{"../animations/animation":262,"./transition":352}],350:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),transition_1=require("./transition"),TRANSLATEY="translateY",OFF_BOTTOM="40px",CENTER="0px",SHOW_BACK_BTN_CSS="show-back-button",MDTransition=function(_super){function MDTransition(enteringView,leavingView,opts){_super.call(this,opts);var backDirection="back"===opts.direction,enteringHasNavbar=enteringView.hasNavbar(),enteringPage=(leavingView&&leavingView.hasNavbar(),new animation_1.Animation(enteringView.pageRef()));if(enteringPage.before.addClass("show-page"),this.add(enteringPage),backDirection?(this.duration(opts.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"),enteringPage.before.clearStyles([TRANSLATEY])):(this.duration(opts.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)"),enteringPage.fromTo(TRANSLATEY,OFF_BOTTOM,CENTER,!0).fadeIn()),enteringHasNavbar){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar);var enteringBackButton=new animation_1.Animation(enteringView.backBtnRef());this.add(enteringBackButton),enteringView.enableBack()?enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS):enteringBackButton.before.removeClass(SHOW_BACK_BTN_CSS)}if(leavingView&&backDirection){this.duration(opts.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var leavingPage=new animation_1.Animation(leavingView.pageRef());this.add(leavingPage.fromTo(TRANSLATEY,CENTER,OFF_BOTTOM).fadeOut())}}return __extends(MDTransition,_super),MDTransition}(transition_1.Transition);transition_1.Transition.register("md-transition",MDTransition)},{"../animations/animation":262,"./transition":352}],351:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),transition_1=require("./transition"),SHOW_BACK_BTN_CSS="show-back-button",SCALE_SMALL=.95,WPTransition=function(_super){function WPTransition(enteringView,leavingView,opts){_super.call(this,opts);var backDirection="back"===opts.direction,enteringHasNavbar=enteringView.hasNavbar(),enteringPage=(leavingView&&leavingView.hasNavbar(),new animation_1.Animation(enteringView.pageRef()));if(enteringPage.before.addClass("show-page"),this.add(enteringPage),backDirection?(this.duration(opts.duration||120).easing("cubic-bezier(0.47,0,0.745,0.715)"),enteringPage.before.clearStyles(["scale"])):(this.duration(opts.duration||280).easing("cubic-bezier(0,0 0.05,1)"),enteringPage.fromTo("scale",SCALE_SMALL,1,!0).fadeIn()),enteringHasNavbar){var enteringNavBar=new animation_1.Animation(enteringView.navbarRef());enteringNavBar.before.addClass("show-navbar"),this.add(enteringNavBar);var enteringBackButton=new animation_1.Animation(enteringView.backBtnRef());this.add(enteringBackButton),enteringView.enableBack()?enteringBackButton.before.addClass(SHOW_BACK_BTN_CSS):enteringBackButton.before.removeClass(SHOW_BACK_BTN_CSS)}if(leavingView&&backDirection){this.duration(opts.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var leavingPage=new animation_1.Animation(leavingView.pageRef());this.add(leavingPage.fromTo("scale",1,SCALE_SMALL).fadeOut())}}return __extends(WPTransition,_super),WPTransition}(transition_1.Transition);transition_1.Transition.register("wp-transition",WPTransition)},{"../animations/animation":262,"./transition":352}],352:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},animation_1=require("../animations/animation"),Transition=function(_super){function Transition(opts){_super.call(this,null,{renderDelay:opts.renderDelay})}return __extends(Transition,_super),Transition.createTransition=function(enteringView,leavingView,opts){var TransitionClass=TransitionRegistry[opts.animation];return TransitionClass||(TransitionClass=TransitionRegistry["ios-transition"]),new TransitionClass(enteringView,leavingView,opts)},Transition.register=function(name,TransitionClass){TransitionRegistry[name]=TransitionClass},Transition}(animation_1.Animation);exports.Transition=Transition;var TransitionRegistry={}},{"../animations/animation":262}],353:[function(require,module,exports){"use strict";var Translate=function(){function Translate(){this._transMap={},this._language={}}return Translate.prototype.translations=function(lang,map){this._transMap[lang]=map},Translate.prototype.setLanguage=function(lang){this._language=lang},Translate.prototype.getTranslations=function(lang){return this._transMap[lang]},Translate.prototype.translate=function(key,lang){if(!lang&&!this._language)return key;var setLanguage=lang||this._language,map=this.getTranslations(setLanguage);return map?this._getTranslation(map,key):""},Translate.prototype._getTranslation=function(map,key){return map&&map[key]||""},Translate}();exports.Translate=Translate},{}],354:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),translate_1=require("./translate"),TranslatePipe=function(){function TranslatePipe(translate){this.translate={},this.translate=translate}return TranslatePipe.prototype.transform=function(value,args){var lang;return args.length>0&&(lang=args[0]),this.translate.translate(value,lang)},TranslatePipe.prototype.supports=function(obj){return!0},TranslatePipe=__decorate([core_1.Pipe({name:"translate"}),core_1.Injectable(),__metadata("design:paramtypes",[translate_1.Translate])],TranslatePipe)}();exports.TranslatePipe=TranslatePipe},{"./translate":353,"angular2/core":11}],355:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var domUtil=require("./util/dom");exports.dom=domUtil,__export(require("./util/util"))},{"./util/dom":357,"./util/util":363}],356:[function(require,module,exports){"use strict";function show(expire){clearTimeout(fallbackTimerId),fallbackTimerId=dom_1.nativeTimeout(hide,expire||DEFAULT_EXPIRE),isShowing||(cbEle.classList.add(CSS_CLICK_BLOCK),isShowing=!0)}function hide(){clearTimeout(fallbackTimerId),isShowing&&(cbEle.classList.remove(CSS_CLICK_BLOCK),isShowing=!1)}var cbEle,fallbackTimerId,dom_1=require("./dom"),CSS_CLICK_BLOCK="click-block-active",DEFAULT_EXPIRE=330,isShowing=!1,ClickBlock=function(){function ClickBlock(){this._enabled=!1}return ClickBlock.prototype.enable=function(){cbEle=document.createElement("click-block"),document.body.appendChild(cbEle),cbEle.addEventListener("touchmove",function(ev){ev.preventDefault(),ev.stopPropagation()}),this._enabled=!0},ClickBlock.prototype.show=function(shouldShow,expire){this._enabled&&(shouldShow?show(expire):hide())},ClickBlock}();exports.ClickBlock=ClickBlock},{"./dom":357}],357:[function(require,module,exports){"use strict";function rafFrames(framesToWait,callback){framesToWait=Math.ceil(framesToWait),2>framesToWait?exports.raf(callback):exports.nativeTimeout(function(){
exports.raf(callback)},16.6667*(framesToWait-1))}function transitionEnd(el,callback){function unregister(){exports.CSS.transitionEnd.split(" ").forEach(function(eventName){el.removeEventListener(eventName,onEvent)})}function onEvent(ev){el===ev.target&&(unregister(),callback(ev))}return el?(exports.CSS.transitionEnd.split(" ").forEach(function(eventName){el.addEventListener(eventName,onEvent)}),unregister):void 0}function ready(callback){function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),callback()}var promise=null;return callback||(promise=new Promise(function(resolve){callback=resolve})),"complete"===document.readyState||"interactive"===document.readyState?callback():(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1)),promise}function windowLoad(callback){function completed(){window.removeEventListener("load",completed,!1),callback()}var promise=null;return callback||(promise=new Promise(function(resolve){callback=resolve})),"complete"===document.readyState?callback():window.addEventListener("load",completed,!1),promise}function pointerCoord(ev){var c={x:0,y:0};if(ev){var touches=ev.touches&&ev.touches.length?ev.touches:[ev],e=ev.changedTouches&&ev.changedTouches[0]||touches[0];e&&(c.x=e.clientX||e.pageX||0,c.y=e.clientY||e.pageY||0)}return c}function hasPointerMoved(threshold,startCoord,endCoord){return startCoord&&endCoord&&(Math.abs(startCoord.x-endCoord.x)>threshold||Math.abs(startCoord.y-endCoord.y)>threshold)}function isActive(ele){return!(!ele||document.activeElement!==ele)}function hasFocus(ele){return isActive(ele)&&ele.parentElement.querySelector(":focus")===ele}function isTextInput(ele){return!!ele&&("TEXTAREA"===ele.tagName||"true"===ele.contentEditable||"INPUT"===ele.tagName&&!/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i.test(ele.type))}function hasFocusedTextInput(){var ele=document.activeElement;return isTextInput(ele)?ele.parentElement.querySelector(":focus")===ele:!1}function copyInputAttributes(srcElement,destElement){for(var attrs=srcElement.attributes,i=0;i<attrs.length;i++){var attr=attrs[i];skipInputAttrsReg.test(attr.name)||destElement.setAttribute(attr.name,attr.value)}}function closest(ele,selector,checkSelf){if(ele&&matchesFn)for(ele=checkSelf?ele:ele.parentElement;null!==ele;){if(ele[matchesFn](selector))return ele;ele=ele.parentElement}return null}function getDimensions(ele,id){var dimensions=dimensionCache[id];if(!dimensions){if(!ele.offsetWidth||!ele.offsetHeight)return{width:0,height:0,left:0,top:0};dimensions=dimensionCache[id]={width:ele.offsetWidth,height:ele.offsetHeight,left:ele.offsetLeft,top:ele.offsetTop}}return dimensions}function clearDimensions(id){delete dimensionCache[id]}function windowDimensions(){if(!dimensionCache.win){if(!window.innerWidth||!window.innerHeight)return{width:0,height:0};dimensionCache.win={width:window.innerWidth,height:window.innerHeight}}return dimensionCache.win}function flushDimensionCache(){dimensionCache={}}!function(){var rafLastTime=0,win=window;win.requestAnimationFrame||(win.requestAnimationFrame=function(callback,element){var currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-rafLastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return rafLastTime=currTime+timeToCall,id}),win.cancelAnimationFrame||(win.cancelAnimationFrame=function(id){clearTimeout(id)})}(),exports.raf=(window[window.Zone.__symbol__("requestAnimationFrame")]||window[window.Zone.__symbol__("webkitRequestAnimationFrame")]).bind(window),exports.cancelRaf=window.cancelAnimationFrame.bind(window),exports.nativeTimeout=window[window.Zone.__symbol__("setTimeout")].bind(window),exports.clearNativeTimeout=window[window.Zone.__symbol__("clearTimeout")].bind(window),exports.rafFrames=rafFrames,exports.CSS={},function(){var i,keys=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(i=0;i<keys.length;i++)if(void 0!==document.documentElement.style[keys[i]]){exports.CSS.transform=keys[i];break}for(keys=["webkitTransition","mozTransition","msTransition","transition"],i=0;i<keys.length;i++)if(void 0!==document.documentElement.style[keys[i]]){exports.CSS.transition=keys[i];break}var isWebkit=exports.CSS.transition.indexOf("webkit")>-1;exports.CSS.transitionDuration=(isWebkit?"-webkit-":"")+"transition-duration",exports.CSS.transitionTimingFn=(isWebkit?"-webkit-":"")+"transition-timing-function",exports.CSS.transitionDelay=(isWebkit?"-webkit-":"")+"transition-delay",exports.CSS.transitionEnd=(isWebkit?"webkitTransitionEnd ":"")+"transitionend"}(),exports.transitionEnd=transitionEnd,exports.ready=ready,exports.windowLoad=windowLoad,exports.pointerCoord=pointerCoord,exports.hasPointerMoved=hasPointerMoved,exports.isActive=isActive,exports.hasFocus=hasFocus,exports.isTextInput=isTextInput,exports.hasFocusedTextInput=hasFocusedTextInput;var skipInputAttrsReg=/^(value|checked|disabled|type|class|style|id|autofocus|autocomplete|autocorrect)$/i;exports.copyInputAttributes=copyInputAttributes;var matchesFn,matchesMethods=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"];matchesMethods.some(function(fn){return"function"==typeof document.documentElement[fn]?(matchesFn=fn,!0):void 0}),exports.closest=closest,exports.getDimensions=getDimensions,exports.clearDimensions=clearDimensions,exports.windowDimensions=windowDimensions,exports.flushDimensionCache=flushDimensionCache;var dimensionCache={}},{}],358:[function(require,module,exports){"use strict";var Events=function(){function Events(){this._channels=[]}return Events.prototype.subscribe=function(topic){for(var _this=this,handlers=[],_i=1;_i<arguments.length;_i++)handlers[_i-1]=arguments[_i];this._channels[topic]||(this._channels[topic]=[]),handlers.forEach(function(handler){_this._channels[topic].push(handler)})},Events.prototype.unsubscribe=function(topic,handler){var t=this._channels[topic];if(!t)return!1;if(!handler)return delete this._channels[topic],!0;var i=t.indexOf(handler);return 0>i?!1:(t.splice(i,1),t.length||delete this._channels[topic],!0)},Events.prototype.publish=function(topic){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var t=this._channels[topic];if(!t)return null;var responses=[];return t.forEach(function(handler){responses.push(handler(args))}),responses},Events}();exports.Events=Events},{}],359:[function(require,module,exports){"use strict";var FeatureDetect=function(){function FeatureDetect(){this._results={}}return FeatureDetect.prototype.run=function(window,document){for(var name_1 in featureDetects)this._results[name_1]=featureDetects[name_1](window,document,document.body)},FeatureDetect.prototype.has=function(featureName){return!!this._results[featureName]},FeatureDetect.add=function(name,fn){featureDetects[name]=fn},FeatureDetect}();exports.FeatureDetect=FeatureDetect;var featureDetects={};FeatureDetect.add("hairlines",function(window,document,body){var canDo=!1;if(window.devicePixelRatio>=2){var hairlineEle=document.createElement("div");hairlineEle.style.border=".5px solid transparent",body.appendChild(hairlineEle),1===hairlineEle.offsetHeight&&(body.classList.add("hairlines"),canDo=!0),body.removeChild(hairlineEle)}return canDo})},{}],360:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),Form=function(){function Form(){this._focused=null,this._ids=-1,this._inputs=[],this.focusCtrl(document)}return Form.prototype.register=function(input){this._inputs.push(input)},Form.prototype.deregister=function(input){var index=this._inputs.indexOf(input);index>-1&&this._inputs.splice(index,1),input===this._focused&&(this._focused=null)},Form.prototype.focusCtrl=function(document){var focusCtrl=document.createElement("focus-ctrl");focusCtrl.setAttribute("aria-hidden",!0),this._blur=document.createElement("button"),this._blur.tabIndex=-1,focusCtrl.appendChild(this._blur),document.body.appendChild(focusCtrl)},Form.prototype.focusOut=function(){var activeElement=document.activeElement;activeElement&&activeElement.blur(),this._blur.focus()},Form.prototype.setAsFocused=function(input){this._focused=input},Form.prototype.tabFocus=function(currentInput){var index=this._inputs.indexOf(currentInput);if(index>-1&&index+1<this._inputs.length){var nextInput=this._inputs[index+1];if(nextInput!==this._focused)return nextInput.initFocus()}if(index=this._inputs.indexOf(this._focused),index>0){var previousInput=this._inputs[index-1];previousInput&&previousInput.initFocus()}},Form.prototype.nextId=function(){return++this._ids},Form=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Form)}();exports.Form=Form},{"angular2/core":11}],361:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),config_1=require("../config/config"),form_1=require("./form"),dom_1=require("./dom"),Keyboard=function(){function Keyboard(config,_form,_zone){var _this=this;this._form=_form,this._zone=_zone,_zone.runOutsideAngular(function(){_this.focusOutline(config.get("focusOutline"),document)})}return Keyboard.prototype.isOpen=function(){return dom_1.hasFocusedTextInput()},Keyboard.prototype.onClose=function(callback,pollingInternval,pollingChecksMax){function checkKeyboard(){!self.isOpen()||checks>pollingChecksMax?dom_1.rafFrames(30,function(){self._zone.run(function(){callback()})}):dom_1.nativeTimeout(checkKeyboard,pollingInternval),checks++}void 0===pollingInternval&&(pollingInternval=KEYBOARD_CLOSE_POLLING),void 0===pollingChecksMax&&(pollingChecksMax=KEYBOARD_POLLING_CHECKS_MAX);var self=this,checks=0,promise=null;return callback||(promise=new Promise(function(resolve){callback=resolve})),dom_1.nativeTimeout(checkKeyboard,pollingInternval),promise},Keyboard.prototype.close=function(){var _this=this;dom_1.raf(function(){dom_1.hasFocusedTextInput()&&_this._form.focusOut()})},Keyboard.prototype.focusOutline=function(setting,document){function cssClass(){dom_1.raf(function(){document.body.classList[isKeyInputEnabled?"add":"remove"]("focus-outline")})}function keyDown(ev){isKeyInputEnabled||9!==ev.keyCode||(isKeyInputEnabled=!0,enableKeyInput())}function pointerDown(){isKeyInputEnabled=!1,enableKeyInput()}function enableKeyInput(){cssClass(),self._zone.runOutsideAngular(function(){document.removeEventListener("mousedown",pointerDown),document.removeEventListener("touchstart",pointerDown),isKeyInputEnabled&&(document.addEventListener("mousedown",pointerDown),document.addEventListener("touchstart",pointerDown))})}var self=this,isKeyInputEnabled=!1;return setting===!0?(isKeyInputEnabled=!0,cssClass()):void(setting!==!1&&document.addEventListener("keydown",keyDown))},Keyboard=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[config_1.Config,form_1.Form,core_1.NgZone])],Keyboard)}();exports.Keyboard=Keyboard;var KEYBOARD_CLOSE_POLLING=150,KEYBOARD_POLLING_CHECKS_MAX=100},{"../config/config":332,"./dom":357,"./form":360,"angular2/core":11}],362:[function(require,module,exports){"use strict";var dom_1=require("../util/dom"),ScrollView=function(){function ScrollView(ele){this._js=!1,this._top=0,this._el=ele}return ScrollView.prototype.getTop=function(){return this._js?this._top:this._top=this._el.scrollTop},ScrollView.prototype.setTop=function(top){this._top=top,this._js?this._el.style[dom_1.CSS.transform]="translate3d(0px,"+-1*top+"px,0px)":this._el.scrollTop=top},ScrollView.prototype.scrollTo=function(x,y,duration){var self=this;if(!self._el)return Promise.resolve();x=x||0,y=y||0;var fromY=self._el.scrollTop,fromX=self._el.scrollLeft,maxAttempts=(Math.abs(x-fromX),Math.abs(y-fromY),duration/16+100);return new Promise(function(resolve){function step(){if(attempts++,!self._el||!self.isPlaying||attempts>maxAttempts)return self.isPlaying=!1,void resolve();var time=Math.min(1,(Date.now()-startTime)/duration),easedT=--time*time*time+1;fromY!==y&&self.setTop(easedT*(y-fromY)+fromY),fromX!==x&&(self._el.scrollLeft=Math.floor(easedT*(x-fromX)+fromX)),1>easedT?dom_1.raf(step):resolve()}var startTime,attempts=0;self.isPlaying=!0,dom_1.raf(function(){startTime=Date.now(),dom_1.raf(step)})})},ScrollView.prototype.scrollToTop=function(duration){return this.scrollTo(0,0,duration)},ScrollView.prototype.scrollToBottom=function(duration){var y=0;return this._el&&(y=this._el.scrollHeight-this._el.clientHeight),this.scrollTo(0,y,duration)},ScrollView.prototype.stop=function(){this.isPlaying=!1},ScrollView.prototype.jsScroll=function(onScrollCallback){var _this=this;return this._js=!0,this._cb=onScrollCallback,this._pos=[],this._el.addEventListener("touchstart",this._start.bind(this)),this._el.addEventListener("touchmove",this._move.bind(this)),this._el.addEventListener("touchend",this._end.bind(this)),this._el.parentElement.classList.add("js-scroll"),function(){_this._el.removeEventListener("touchstart",_this._start.bind(_this)),_this._el.removeEventListener("touchmove",_this._move.bind(_this)),_this._el.removeEventListener("touchend",_this._end.bind(_this)),_this._el.parentElement.classList.remove("js-scroll")}},ScrollView.prototype._start=function(ev){this._velocity=0,this._pos.length=0,this._max=null,this._pos.push(dom_1.pointerCoord(ev).y,Date.now())},ScrollView.prototype._move=function(ev){if(this._pos.length){var y=dom_1.pointerCoord(ev).y;this._setMax(),this._top-=y-this._pos[this._pos.length-2],this._top=Math.min(Math.max(this._top,0),this._max),this._pos.push(y,Date.now()),this._cb(this._top),this.setTop(this._top)}},ScrollView.prototype._setMax=function(){this._max||(this._max=this._el.offsetHeight-this._el.parentElement.offsetHeight+this._el.parentElement.offsetTop)},ScrollView.prototype._end=function(ev){var positions=this._pos;if(this._velocity=0,dom_1.cancelRaf(this._rafId),positions.length){var y=dom_1.pointerCoord(ev).y;positions.push(y,Date.now());for(var endPos=positions.length-1,startPos=endPos,timeRange=Date.now()-100,i=endPos;i>0&&positions[i]>timeRange;i-=2)startPos=i;if(startPos!==endPos){var timeOffset=positions[endPos]-positions[startPos],movedTop=positions[startPos-1]-positions[endPos-1];this._velocity=movedTop/timeOffset*FRAME_MS,Math.abs(this._velocity)>MIN_VELOCITY_START_DECELERATION&&(this._setMax(),this._rafId=dom_1.raf(this._decelerate.bind(this)))}positions.length=0}},ScrollView.prototype._decelerate=function(){var self=this;self._velocity&&(self._velocity*=DECELERATION_FRICTION,self._top=Math.min(Math.max(self._top+self._velocity,0),self._max),self._cb(self._top),self.setTop(self._top),self._top>0&&self._top<self._max&&Math.abs(self._velocity)>MIN_VELOCITY_CONTINUE_DECELERATION&&(self._rafId=dom_1.raf(self._decelerate.bind(self))))},ScrollView.prototype.destroy=function(){this._velocity=0,this.stop(),this._el=null},ScrollView}();exports.ScrollView=ScrollView;var MIN_VELOCITY_START_DECELERATION=4,MIN_VELOCITY_CONTINUE_DECELERATION=.12,DECELERATION_FRICTION=.97,FRAME_MS=1e3/60},{"../util/dom":357}],363:[function(require,module,exports){"use strict";function clamp(min,n,max){return Math.max(min,Math.min(n,max))}function assign(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return"function"!=typeof Object.assign?_baseExtend(args[0],[].slice.call(args,1),!1):Object.assign.apply(null,args)}function merge(dst){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return _baseExtend(dst,[].slice.call(arguments,1),!0)}function _baseExtend(dst,objs,deep){for(var i=0,ii=objs.length;ii>i;++i){var obj=objs[i];if(obj&&(exports.isObject(obj)||exports.isFunction(obj)))for(var keys=Object.keys(obj),j=0,jj=keys.length;jj>j;j++){var key=keys[j],src=obj[key];deep&&exports.isObject(src)?(exports.isObject(dst[key])||(dst[key]=exports.isArray(src)?[]:{}),_baseExtend(dst[key],[src],!0)):dst[key]=src}}return dst}function debounce(fn,wait,immediate){void 0===immediate&&(immediate=!1);var timeout,args,context,timestamp,result;return function(){context=this,args=arguments,timestamp=Date.now();var later=function(){var last=Date.now()-timestamp;wait>last?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=fn.apply(context,args)))},callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=fn.apply(context,args)),result}}function defaults(dest){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];for(var i=arguments.length-1;i>=1;i--){var source=arguments[i]||{};for(var key in source)source.hasOwnProperty(key)&&!dest.hasOwnProperty(key)&&(dest[key]=source[key])}return dest}function pascalCaseToDashCase(val){return void 0===val&&(val=""),val.charAt(0).toLowerCase()+val.substring(1).replace(/[A-Z]/g,function(match){return"-"+match.toLowerCase()})}function nextUid(){return++uid}function getQuerystring(url){var queryParams={};if(url){var startIndex=url.indexOf("?");if(-1!==startIndex)for(var queries=url.slice(startIndex+1).split("&"),i=0;i<queries.length;i++)if(queries[i].indexOf("=")>0){var split=queries[i].split("=");split.length>1&&(queryParams[split[0].toLowerCase()]=split[1].split("#")[0])}}return queryParams}function throttle(fn,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:Date.now(),timeout=null,result=fn.apply(context,args)};return function(){var now=Date.now();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=fn.apply(context,args)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}}exports.clamp=clamp,exports.assign=assign,exports.merge=merge,exports.debounce=debounce,exports.defaults=defaults,exports.isBoolean=function(val){return"boolean"==typeof val},exports.isString=function(val){return"string"==typeof val},exports.isNumber=function(val){return"number"==typeof val},exports.isFunction=function(val){return"function"==typeof val},exports.isDefined=function(val){return"undefined"!=typeof val},exports.isUndefined=function(val){return"undefined"==typeof val},exports.isPresent=function(val){return void 0!==val&&null!==val},exports.isBlank=function(val){return void 0===val||null===val},exports.isObject=function(val){return"object"==typeof val},exports.isArray=Array.isArray,exports.isTrueProperty=function(val){return"string"==typeof val?(val=val.toLowerCase().trim(),"true"===val||"on"===val||""===val):!!val},exports.isCheckedProperty=function(a,b){return void 0===a||null===a||""===a?void 0===b||null===b||""===b:a===!0||"true"===a?b===!0||"true"===b:a===!1||"false"===a?b===!1||"false"===b:0===a||"0"===a?0===b||"0"===b:a==b},exports.pascalCaseToDashCase=pascalCaseToDashCase;var uid=0;exports.nextUid=nextUid,exports.array={find:function(arr,cb){for(var i=0,ii=arr.length;ii>i;i++)if(cb(arr[i],i))return arr[i]},remove:function(arr,itemOrIndex){var index=-1;return index=exports.isNumber(itemOrIndex)?itemOrIndex:arr.indexOf(itemOrIndex),0>index?!1:(arr.splice(index,1),!0)}},exports.getQuerystring=getQuerystring,exports.throttle=throttle},{}],364:[function(require,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var ng1_1=require("./ng1");ng1_1.initAngular1();var DEVICE_READY_TIMEOUT=2e3,actionsheet_1=require("./plugins/actionsheet");exports.ActionSheet=actionsheet_1.ActionSheet;var admob_1=require("./plugins/admob");exports.AdMob=admob_1.AdMob;var appavailability_1=require("./plugins/appavailability");exports.AppAvailability=appavailability_1.AppAvailability;var apprate_1=require("./plugins/apprate");exports.AppRate=apprate_1.AppRate;var appversion_1=require("./plugins/appversion");exports.AppVersion=appversion_1.AppVersion;var badge_1=require("./plugins/badge");exports.Badge=badge_1.Badge;var barcodescanner_1=require("./plugins/barcodescanner");exports.BarcodeScanner=barcodescanner_1.BarcodeScanner;var base64togallery_1=require("./plugins/base64togallery");exports.Base64ToGallery=base64togallery_1.Base64ToGallery;var batterystatus_1=require("./plugins/batterystatus");exports.BatteryStatus=batterystatus_1.BatteryStatus;var ble_1=require("./plugins/ble");exports.BLE=ble_1.BLE;var bluetoothserial_1=require("./plugins/bluetoothserial");exports.BluetoothSerial=bluetoothserial_1.BluetoothSerial;var calendar_1=require("./plugins/calendar");exports.Calendar=calendar_1.Calendar;var camera_1=require("./plugins/camera");exports.Camera=camera_1.Camera;var clipboard_1=require("./plugins/clipboard");exports.Clipboard=clipboard_1.Clipboard;var contacts_1=require("./plugins/contacts");exports.Contacts=contacts_1.Contacts;var datepicker_1=require("./plugins/datepicker");exports.DatePicker=datepicker_1.DatePicker;var dbmeter_1=require("./plugins/dbmeter");exports.DBMeter=dbmeter_1.DBMeter;var device_1=require("./plugins/device");exports.Device=device_1.Device;var deviceaccounts_1=require("./plugins/deviceaccounts");exports.DeviceAccounts=deviceaccounts_1.DeviceAccounts;var devicemotion_1=require("./plugins/devicemotion");exports.DeviceMotion=devicemotion_1.DeviceMotion;var deviceorientation_1=require("./plugins/deviceorientation");exports.DeviceOrientation=deviceorientation_1.DeviceOrientation;var diagnostic_1=require("./plugins/diagnostic");exports.Diagnostic=diagnostic_1.Diagnostic;var dialogs_1=require("./plugins/dialogs");exports.Dialogs=dialogs_1.Dialogs;var emailcomposer_1=require("./plugins/emailcomposer");exports.EmailComposer=emailcomposer_1.EmailComposer;var facebook_1=require("./plugins/facebook");exports.Facebook=facebook_1.Facebook;var file_1=require("./plugins/file");exports.File=file_1.File;var flashlight_1=require("./plugins/flashlight");exports.Flashlight=flashlight_1.Flashlight;var geolocation_1=require("./plugins/geolocation");exports.Geolocation=geolocation_1.Geolocation;var globalization_1=require("./plugins/globalization");exports.Globalization=globalization_1.Globalization;var googlemaps_1=require("./plugins/googlemaps");exports.GoogleMaps=googlemaps_1.GoogleMaps;var googleanalytics_1=require("./plugins/googleanalytics");exports.GoogleAnalytics=googleanalytics_1.GoogleAnalytics;var hotspot_1=require("./plugins/hotspot");exports.Hotspot=hotspot_1.Hotspot;var imagepicker_1=require("./plugins/imagepicker");exports.ImagePicker=imagepicker_1.ImagePicker;var inappbrowser_1=require("./plugins/inappbrowser");exports.InAppBrowser=inappbrowser_1.InAppBrowser;var keyboard_1=require("./plugins/keyboard");exports.Keyboard=keyboard_1.Keyboard;var launchnavigator_1=require("./plugins/launchnavigator");exports.LaunchNavigator=launchnavigator_1.LaunchNavigator;var localnotifications_1=require("./plugins/localnotifications");exports.LocalNotifications=localnotifications_1.LocalNotifications;var media_1=require("./plugins/media");exports.MediaPlugin=media_1.MediaPlugin;var network_1=require("./plugins/network");exports.Network=network_1.Network,exports.Connection=network_1.Connection;var push_1=require("./plugins/push");exports.Push=push_1.Push;var screenshot_1=require("./plugins/screenshot");exports.Screenshot=screenshot_1.Screenshot;var sms_1=require("./plugins/sms");exports.SMS=sms_1.SMS;var socialsharing_1=require("./plugins/socialsharing");exports.SocialSharing=socialsharing_1.SocialSharing;var spinnerdialog_1=require("./plugins/spinnerdialog");exports.SpinnerDialog=spinnerdialog_1.SpinnerDialog;var splashscreen_1=require("./plugins/splashscreen");exports.Splashscreen=splashscreen_1.Splashscreen;var sqlite_1=require("./plugins/sqlite");exports.SQLite=sqlite_1.SQLite;var statusbar_1=require("./plugins/statusbar");exports.StatusBar=statusbar_1.StatusBar;var toast_1=require("./plugins/toast");exports.Toast=toast_1.Toast;var touchid_1=require("./plugins/touchid");exports.TouchID=touchid_1.TouchID;var vibration_1=require("./plugins/vibration");exports.Vibration=vibration_1.Vibration;var webintent_1=require("./plugins/webintent");exports.WebIntent=webintent_1.WebIntent,__export(require("./plugins/plugin")),window.IonicNative={ActionSheet:actionsheet_1.ActionSheet,AdMob:admob_1.AdMob,AppAvailability:appavailability_1.AppAvailability,AppRate:apprate_1.AppRate,AppVersion:appversion_1.AppVersion,Badge:badge_1.Badge,BarcodeScanner:barcodescanner_1.BarcodeScanner,Base64ToGallery:base64togallery_1.Base64ToGallery,BatteryStatus:batterystatus_1.BatteryStatus,BLE:ble_1.BLE,BluetoothSerial:bluetoothserial_1.BluetoothSerial,Calendar:calendar_1.Calendar,Camera:camera_1.Camera,Clipboard:clipboard_1.Clipboard,Connection:network_1.Connection,Contacts:contacts_1.Contacts,DatePicker:datepicker_1.DatePicker,DBMeter:dbmeter_1.DBMeter,Device:device_1.Device,DeviceAccounts:deviceaccounts_1.DeviceAccounts,DeviceMotion:devicemotion_1.DeviceMotion,DeviceOrientation:deviceorientation_1.DeviceOrientation,Dialogs:dialogs_1.Dialogs,Diagnostic:diagnostic_1.Diagnostic,EmailComposer:emailcomposer_1.EmailComposer,Facebook:facebook_1.Facebook,File:file_1.File,Flashlight:flashlight_1.Flashlight,Geolocation:geolocation_1.Geolocation,Globalization:globalization_1.Globalization,GoogleMaps:googlemaps_1.GoogleMaps,GoogleAnalytics:googleanalytics_1.GoogleAnalytics,Hotspot:hotspot_1.Hotspot,ImagePicker:imagepicker_1.ImagePicker,InAppBrowser:inappbrowser_1.InAppBrowser,Keyboard:keyboard_1.Keyboard,LaunchNavigator:launchnavigator_1.LaunchNavigator,LocalNotifications:localnotifications_1.LocalNotifications,MediaPlugin:media_1.MediaPlugin,Network:network_1.Network,Push:push_1.Push,Screenshot:screenshot_1.Screenshot,SMS:sms_1.SMS,SocialSharing:socialsharing_1.SocialSharing,SpinnerDialog:spinnerdialog_1.SpinnerDialog,Splashscreen:splashscreen_1.Splashscreen,SQLite:sqlite_1.SQLite,StatusBar:statusbar_1.StatusBar,Toast:toast_1.Toast,TouchID:touchid_1.TouchID,Vibration:vibration_1.Vibration,WebIntent:webintent_1.WebIntent};var before=+new Date,didFireReady=!1;document.addEventListener("deviceready",function(){console.log("DEVICE READY FIRED AFTER",+new Date-before,"ms"),didFireReady=!0}),setTimeout(function(){!didFireReady&&window.cordova&&console.warn("Native: deviceready did not fire within "+DEVICE_READY_TIMEOUT+"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},DEVICE_READY_TIMEOUT)},{"./ng1":365,"./plugins/actionsheet":366,"./plugins/admob":367,"./plugins/appavailability":368,"./plugins/apprate":369,"./plugins/appversion":370,"./plugins/badge":371,"./plugins/barcodescanner":372,"./plugins/base64togallery":373,"./plugins/batterystatus":374,"./plugins/ble":375,"./plugins/bluetoothserial":376,"./plugins/calendar":377,"./plugins/camera":378,"./plugins/clipboard":379,"./plugins/contacts":380,"./plugins/datepicker":381,"./plugins/dbmeter":382,"./plugins/device":383,"./plugins/deviceaccounts":384,"./plugins/devicemotion":385,"./plugins/deviceorientation":386,"./plugins/diagnostic":387,"./plugins/dialogs":388,"./plugins/emailcomposer":389,"./plugins/facebook":390,"./plugins/file":391,"./plugins/flashlight":392,"./plugins/geolocation":393,"./plugins/globalization":394,"./plugins/googleanalytics":395,"./plugins/googlemaps":396,"./plugins/hotspot":397,"./plugins/imagepicker":398,"./plugins/inappbrowser":399,"./plugins/keyboard":400,"./plugins/launchnavigator":401,"./plugins/localnotifications":402,"./plugins/media":403,"./plugins/network":404,"./plugins/plugin":405,"./plugins/push":406,"./plugins/screenshot":407,"./plugins/sms":408,"./plugins/socialsharing":409,"./plugins/spinnerdialog":410,"./plugins/splashscreen":411,"./plugins/sqlite":412,"./plugins/statusbar":413,"./plugins/toast":414,"./plugins/touchid":415,"./plugins/vibration":416,"./plugins/webintent":417}],365:[function(require,module,exports){"use strict";function initAngular1(){window.angular&&window.angular.module("ngCordova",[])}function publishAngular1Service(config,cls){var serviceName="$cordova"+cls.name;console.log("Registering Angular1 service",serviceName),window.angular.module("ngCordova").service(serviceName,[function(){var funcs={};for(var k in cls);return funcs}])}exports.initAngular1=initAngular1,exports.publishAngular1Service=publishAngular1Service},{}],366:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),ActionSheet=function(){function ActionSheet(){}return ActionSheet.show=function(options){},ActionSheet.hide=function(){},__decorate([plugin_1.Cordova()],ActionSheet,"show",null),__decorate([plugin_1.Cordova()],ActionSheet,"hide",null),ActionSheet=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-actionsheet",pluginRef:"plugins.actionsheet",repo:"https://github.com/EddyVerbruggen/cordova-plugin-actionsheet",platforms:["Android","iOS","Windows Phone 8"]})],ActionSheet)}();exports.ActionSheet=ActionSheet},{"./plugin":405}],367:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AdMob=function(){function AdMob(){}return AdMob.createBanner=function(adIdOrOptions){},AdMob.removeBanner=function(){},AdMob.showBanner=function(position){},AdMob.showBannerAtXY=function(x,y){},AdMob.hideBanner=function(){},AdMob.prepareInterstitial=function(adIdOrOptions){},AdMob.showInterstitial=function(){},AdMob.isInterstitialReady=function(){},AdMob.prepareRewardVideoAd=function(adIdOrOptions){},AdMob.showRewardVideoAd=function(){},AdMob.setOptions=function(options){},AdMob.getAdSettings=function(){},AdMob.onBannerFailedToReceive=function(){},AdMob.onBannerReceive=function(){},AdMob.onBannerPresent=function(){},AdMob.onBannerLeaveApp=function(){},AdMob.onBannerDismiss=function(){},AdMob.onInterstitialFailedToReceive=function(){},AdMob.onInterstitialReceive=function(){},AdMob.onInterstitialPresent=function(){},AdMob.onInterstitialLeaveApp=function(){},AdMob.onInterstitialDismiss=function(){},__decorate([plugin_1.Cordova()],AdMob,"createBanner",null),
__decorate([plugin_1.Cordova({sync:!0})],AdMob,"removeBanner",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showBanner",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showBannerAtXY",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"hideBanner",null),__decorate([plugin_1.Cordova()],AdMob,"prepareInterstitial",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showInterstitial",null),__decorate([plugin_1.Cordova()],AdMob,"isInterstitialReady",null),__decorate([plugin_1.Cordova()],AdMob,"prepareRewardVideoAd",null),__decorate([plugin_1.Cordova({sync:!0})],AdMob,"showRewardVideoAd",null),__decorate([plugin_1.Cordova()],AdMob,"setOptions",null),__decorate([plugin_1.Cordova()],AdMob,"getAdSettings",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerFailedToReceive"})],AdMob,"onBannerFailedToReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerReceive"})],AdMob,"onBannerReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerPresent"})],AdMob,"onBannerPresent",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerLeaveApp"})],AdMob,"onBannerLeaveApp",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onBannerDismiss"})],AdMob,"onBannerDismiss",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialFailedToReceive"})],AdMob,"onInterstitialFailedToReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialReceive"})],AdMob,"onInterstitialReceive",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialPresent"})],AdMob,"onInterstitialPresent",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialLeaveApp"})],AdMob,"onInterstitialLeaveApp",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"onInterstitialDismiss"})],AdMob,"onInterstitialDismiss",null),AdMob=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-admobpro",pluginRef:"AdMob",repo:"https://github.com/floatinghotspot/cordova-admob-pro"})],AdMob)}();exports.AdMob=AdMob},{"./plugin":405}],368:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AppAvailability=function(){function AppAvailability(){}return AppAvailability.check=function(app){},__decorate([plugin_1.Cordova()],AppAvailability,"check",null),AppAvailability=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-appavailability",pluginRef:"appAvailability",repo:"https://github.com/ohh2ahh/AppAvailability",platforms:["Android","iOS"]})],AppAvailability)}();exports.AppAvailability=AppAvailability},{"./plugin":405}],369:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AppRate=function(){function AppRate(){}return Object.defineProperty(AppRate,"preferences",{get:function(){return window.AppRate.preferences},enumerable:!0,configurable:!0}),AppRate.promptForRating=function(immediately){},__decorate([plugin_1.CordovaProperty],AppRate,"preferences",null),__decorate([plugin_1.Cordova()],AppRate,"promptForRating",null),AppRate=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-apprate",pluginRef:"AppRate",repo:"https://github.com/pushandplay/cordova-plugin-apprate",platforms:["Android","iOS"]})],AppRate)}();exports.AppRate=AppRate},{"./plugin":405}],370:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),AppVersion=function(){function AppVersion(){}return AppVersion.getAppName=function(){},AppVersion.getPackageName=function(){},AppVersion.getVersionCode=function(){},AppVersion.getVersionNumber=function(){},__decorate([plugin_1.Cordova()],AppVersion,"getAppName",null),__decorate([plugin_1.Cordova()],AppVersion,"getPackageName",null),__decorate([plugin_1.Cordova()],AppVersion,"getVersionCode",null),__decorate([plugin_1.Cordova()],AppVersion,"getVersionNumber",null),AppVersion=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-app-version",pluginRef:"cordova.getAppVersion",repo:"https://github.com/whiteoctober/cordova-plugin-app-version",platforms:["Android","iOS"]})],AppVersion)}();exports.AppVersion=AppVersion},{"./plugin":405}],371:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Badge=function(){function Badge(){}return Badge.clear=function(){},Badge.set=function(badgeNumber){},Badge.get=function(){},Badge.increase=function(increaseBy){},Badge.decrease=function(decreaseBy){},Badge.hasPermission=function(){},Badge.registerPermission=function(){},__decorate([plugin_1.Cordova()],Badge,"clear",null),__decorate([plugin_1.Cordova()],Badge,"set",null),__decorate([plugin_1.Cordova()],Badge,"get",null),__decorate([plugin_1.Cordova()],Badge,"increase",null),__decorate([plugin_1.Cordova()],Badge,"decrease",null),__decorate([plugin_1.Cordova()],Badge,"hasPermission",null),__decorate([plugin_1.Cordova()],Badge,"registerPermission",null),Badge=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-badge",pluginRef:"cordova.plugins.notification.badge",repo:"https://github.com/katzer/cordova-plugin-badge",platforms:["Android","iOS","Browser","Windows","Amazon FireOS","Windows Phone 8"]})],Badge)}();exports.Badge=Badge},{"./plugin":405}],372:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BarcodeScanner=function(){function BarcodeScanner(){}return BarcodeScanner.scan=function(){},__decorate([plugin_1.Cordova()],BarcodeScanner,"scan",null),BarcodeScanner=__decorate([plugin_1.Plugin({plugin:"phonegap-plugin-barcodescanner",pluginRef:"cordova.plugins.barcodeScanner",repo:"https://github.com/phonegap/phonegap-plugin-barcodescanner",platforms:["Android","iOS","Windows Phone 8","Windows 10","Windows 8","BlackBerry 10","Browser"]})],BarcodeScanner)}();exports.BarcodeScanner=BarcodeScanner},{"./plugin":405}],373:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Base64ToGallery=function(){function Base64ToGallery(){}return Base64ToGallery.prototype.base64ToGallery=function(data,prefix){},__decorate([plugin_1.Cordova()],Base64ToGallery.prototype,"base64ToGallery",null),Base64ToGallery=__decorate([plugin_1.Plugin({plugin:"cordova-base64-to-gallery",pluginRef:"cordova",repo:"https://github.com/Nexxa/cordova-base64-to-gallery",platforms:["Android","iOS","Windows Phone 8"]})],Base64ToGallery)}();exports.Base64ToGallery=Base64ToGallery},{"./plugin":405}],374:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BatteryStatus=function(){function BatteryStatus(){}return BatteryStatus.onChange=function(){},BatteryStatus.onLow=function(){},BatteryStatus.onCritical=function(){},__decorate([plugin_1.Cordova({eventObservable:!0,event:"batterystatus"})],BatteryStatus,"onChange",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"batterylow"})],BatteryStatus,"onLow",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"batterycritical"})],BatteryStatus,"onCritical",null),BatteryStatus=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-batterystatus",repo:"https://github.com/apache/cordova-plugin-battery-status",platforms:["Amazon Fire OS","iOS","Android","BlackBerry 10","Windows Phone 7","Windows Phone 8","Windows","Firefox OS","Browser"]})],BatteryStatus)}();exports.BatteryStatus=BatteryStatus},{"./plugin":405}],375:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BLE=function(){function BLE(){}return BLE.scan=function(services,seconds){},BLE.startScan=function(services){},BLE.stopScan=function(){},BLE.connect=function(deviceId){},BLE.disconnect=function(deviceId){},BLE.read=function(deviceId,serviceUUID,characteristicUUID){},BLE.write=function(deviceId,serviceUUID,characteristicUUID,value){},BLE.writeWithoutResponse=function(deviceId,serviceUUID,characteristicUUID,value){},BLE.startNotification=function(deviceId,serviceUUID,characteristicUUID){},BLE.stopNotification=function(deviceId,serviceUUID,characteristicUUID){},BLE.isConnected=function(deviceId){},BLE.isEnabled=function(){},BLE.showBluetoothSettings=function(){},BLE.enable=function(){},__decorate([plugin_1.Cordova({observable:!0})],BLE,"scan",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stopScan",clearWithArgs:!0})],BLE,"startScan",null),__decorate([plugin_1.Cordova()],BLE,"stopScan",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"disconnect",clearWithArgs:!0})],BLE,"connect",null),__decorate([plugin_1.Cordova()],BLE,"disconnect",null),__decorate([plugin_1.Cordova()],BLE,"read",null),__decorate([plugin_1.Cordova()],BLE,"write",null),__decorate([plugin_1.Cordova()],BLE,"writeWithoutResponse",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stopNotification",clearWithArgs:!0})],BLE,"startNotification",null),__decorate([plugin_1.Cordova()],BLE,"stopNotification",null),__decorate([plugin_1.Cordova()],BLE,"isConnected",null),__decorate([plugin_1.Cordova()],BLE,"isEnabled",null),__decorate([plugin_1.Cordova()],BLE,"showBluetoothSettings",null),__decorate([plugin_1.Cordova()],BLE,"enable",null),BLE=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-ble-central",pluginRef:"ble",repo:"https://github.com/don/cordova-plugin-ble-central",platforms:["iOS","Android"]})],BLE)}();exports.BLE=BLE},{"./plugin":405}],376:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),BluetoothSerial=function(){function BluetoothSerial(){}return BluetoothSerial.connect=function(macAddress_or_uuid){},BluetoothSerial.connectInsecure=function(macAddress){},BluetoothSerial.disconnect=function(){},BluetoothSerial.write=function(data){},BluetoothSerial.available=function(){},BluetoothSerial.read=function(){},BluetoothSerial.readUntil=function(delimiter){},BluetoothSerial.subscribe=function(delimiter){},BluetoothSerial.subscribeRawData=function(){},BluetoothSerial.clear=function(){},BluetoothSerial.list=function(){},BluetoothSerial.isEnabled=function(){},BluetoothSerial.isConnected=function(){},BluetoothSerial.readRSSI=function(){},BluetoothSerial.showBluetoothSettings=function(){},BluetoothSerial.enable=function(){},BluetoothSerial.discoverUnpaired=function(){},BluetoothSerial.setDeviceDiscoveredListener=function(){},BluetoothSerial.setName=function(newName){},BluetoothSerial.setDiscoverable=function(discoverableDuration){},__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"connect",null),__decorate([plugin_1.Cordova({platforms:["Android"]})],BluetoothSerial,"connectInsecure",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"disconnect",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"write",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"available",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"read",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"readUntil",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"unsubscribe"})],BluetoothSerial,"subscribe",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"unsubscribeRawData"})],BluetoothSerial,"subscribeRawData",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"clear",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"list",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"isEnabled",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"isConnected",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"readRSSI",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"showBluetoothSettings",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"enable",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"]})],BluetoothSerial,"discoverUnpaired",null),__decorate([plugin_1.Cordova({platforms:["Android","iOS","Windows Phone"],observable:!0,clearFunction:"clearDeviceDiscoveredListener"})],BluetoothSerial,"setDeviceDiscoveredListener",null),__decorate([plugin_1.Cordova({platforms:["Android"],sync:!0})],BluetoothSerial,"setName",null),__decorate([plugin_1.Cordova({platforms:["Android"],sync:!0})],BluetoothSerial,"setDiscoverable",null),BluetoothSerial=__decorate([plugin_1.Plugin({repo:"https://github.com/don/BluetoothSerial",plugin:"cordova-plugin-bluetooth-serial",pluginRef:"bluetoothSerial",platforms:["Android","iOS","Windows Phone","Browser"]})],BluetoothSerial)}();exports.BluetoothSerial=BluetoothSerial},{"./plugin":405}],377:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Calendar=function(){function Calendar(){}return Calendar.createCalendar=function(nameOrOptions){},Calendar.deleteCalendar=function(name){},Calendar.getCalendarOptions=function(){return{firstReminderMinutes:60,secondReminderMinutes:null,recurrence:null,recurrenceInterval:1,recurrenceEndDate:null,calendarName:null,calendarId:null,url:null}},Calendar.createEvent=function(title,location,notes,startDate,endDate){},Calendar.createEventWithOptions=function(title,location,notes,startDate,endDate,options){},Calendar.createEventInteractively=function(title,location,notes,startDate,endDate){},Calendar.createEventInteractivelyWithOptions=function(title,location,notes,startDate,endDate,options){},Calendar.findEvent=function(title,location,notes,startDate,endDate){},Calendar.findEventWithOptions=function(title,location,notes,startDate,endDate,options){},Calendar.listEventsInRange=function(startDate,endDate){},Calendar.listCalendars=function(){},Calendar.findAllEventsInNamedCalendar=function(calendarName){},Calendar.modifyEvent=function(title,location,notes,startDate,endDate,newTitle,newLocation,newNotes,newStartDate,newEndDate){},Calendar.modifyEventWithOptions=function(title,location,notes,startDate,endDate,newTitle,newLocation,newNotes,newStartDate,newEndDate,options){},Calendar.deleteEvent=function(title,location,notes,startDate,endDate){},Calendar.deleteEventFromNamedCalendar=function(title,location,notes,startDate,endDate,calendarName){},Calendar.openCalendar=function(date){},__decorate([plugin_1.Cordova()],Calendar,"createCalendar",null),__decorate([plugin_1.Cordova()],Calendar,"deleteCalendar",null),__decorate([plugin_1.Cordova({sync:!0})],Calendar,"getCalendarOptions",null),__decorate([plugin_1.Cordova()],Calendar,"createEvent",null),__decorate([plugin_1.Cordova()],Calendar,"createEventWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"createEventInteractively",null),__decorate([plugin_1.Cordova()],Calendar,"createEventInteractivelyWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"findEvent",null),__decorate([plugin_1.Cordova()],Calendar,"findEventWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"listEventsInRange",null),__decorate([plugin_1.Cordova()],Calendar,"listCalendars",null),__decorate([plugin_1.Cordova()],Calendar,"findAllEventsInNamedCalendar",null),__decorate([plugin_1.Cordova()],Calendar,"modifyEvent",null),__decorate([plugin_1.Cordova()],Calendar,"modifyEventWithOptions",null),__decorate([plugin_1.Cordova()],Calendar,"deleteEvent",null),__decorate([plugin_1.Cordova()],Calendar,"deleteEventFromNamedCalendar",null),__decorate([plugin_1.Cordova()],Calendar,"openCalendar",null),Calendar=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-calendar",pluginRef:"plugins.calendar",repo:"https://github.com/EddyVerbruggen/Calendar-PhoneGap-Plugin",platforms:["Android","iOS"]})],Calendar)}();exports.Calendar=Calendar},{"./plugin":405}],378:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Camera=function(){function Camera(){}return Camera.getPicture=function(options){},Camera.cleanup=function(){},Camera.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},Camera.EncodingType={JPEG:0,PNG:1},Camera.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Camera.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Camera.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},Camera.Direction={BACK:0,FRONT:1},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Camera,"getPicture",null),__decorate([plugin_1.Cordova({platforms:["iOS"]})],Camera,"cleanup",null),Camera=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-camera",pluginRef:"navigator.camera",repo:"https://github.com/apache/cordova-plugin-camera",platforms:["Android","BlackBerry","Browser","Firefox","FireOS","iOS","Windows","Windows Phone 8","Ubuntu"]})],Camera)}();exports.Camera=Camera},{"./plugin":405}],379:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Clipboard=function(){function Clipboard(){}return Clipboard.copy=function(text){},Clipboard.paste=function(){},__decorate([plugin_1.Cordova()],Clipboard,"copy",null),__decorate([plugin_1.Cordova()],Clipboard,"paste",null),Clipboard=__decorate([plugin_1.Plugin({plugin:"https://github.com/VersoSolutions/CordovaClipboard.git",pluginRef:"cordova.plugins.clipboard",repo:"https://github.com/VersoSolutions/CordovaClipboard",platforms:["Amazon Fire OS","iOS","Android","BlackBerry 10","Windows Phone 7","Windows Phone 8","Windows","Firefox OS","Browser"]})],Clipboard)}();exports.Clipboard=Clipboard},{"./plugin":405}],380:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Contacts=function(){function Contacts(){}return Contacts.create=function(options){return new Contact},Contacts.find=function(fields,options){},Contacts.pickContact=function(){},__decorate([plugin_1.Cordova({sync:!0})],Contacts,"create",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Contacts,"find",null),__decorate([plugin_1.Cordova()],Contacts,"pickContact",null),Contacts=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-contacts",pluginRef:"navigator.contacts",repo:"https://github.com/apache/cordova-plugin-contacts"})],Contacts)}();exports.Contacts=Contacts},{"./plugin":405}],381:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DatePicker=function(){function DatePicker(){}return DatePicker.show=function(options){},__decorate([plugin_1.Cordova()],DatePicker,"show",null),DatePicker=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-datepicker",pluginRef:"datePicker",repo:"https://github.com/VitaliiBlagodir/cordova-plugin-datepicker"})],DatePicker)}();exports.DatePicker=DatePicker},{"./plugin":405}],382:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DBMeter=function(){function DBMeter(){}return DBMeter.start=function(){},DBMeter.stop=function(){},DBMeter.isListening=function(){},DBMeter["delete"]=function(){},__decorate([plugin_1.Cordova({observable:!0,clearFunction:"stop"})],DBMeter,"start",null),__decorate([plugin_1.Cordova()],DBMeter,"stop",null),__decorate([plugin_1.Cordova()],DBMeter,"isListening",null),__decorate([plugin_1.Cordova()],DBMeter,"delete",null),DBMeter=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-dbmeter",pluginRef:"DBMeter",repo:"https://github.com/akofman/cordova-plugin-dbmeter",platforms:["iOS","Android"]})],DBMeter)}();exports.DBMeter=DBMeter},{"./plugin":405}],383:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Device=function(){function Device(){}return Object.defineProperty(Device,"device",{get:function(){return window.device},enumerable:!0,configurable:!0}),__decorate([plugin_1.CordovaProperty],Device,"device",null),Device=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-device",pluginRef:"device",repo:"https://github.com/apache/cordova-plugin-device"})],Device)}();exports.Device=Device},{"./plugin":405}],384:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DeviceAccounts=function(){function DeviceAccounts(){}return DeviceAccounts.get=function(){},DeviceAccounts.getByType=function(type){},DeviceAccounts.getEmails=function(){},DeviceAccounts.getEmail=function(){},__decorate([plugin_1.Cordova()],DeviceAccounts,"get",null),__decorate([plugin_1.Cordova()],DeviceAccounts,"getByType",null),__decorate([plugin_1.Cordova()],DeviceAccounts,"getEmails",null),__decorate([plugin_1.Cordova()],DeviceAccounts,"getEmail",null),DeviceAccounts=__decorate([plugin_1.Plugin({plugin:"https://github.com/loicknuchel/cordova-device-accounts.git",pluginRef:"plugins.DeviceAccounts",repo:"https://github.com/loicknuchel/cordova-device-accounts",platforms:["Android"]})],DeviceAccounts)}();exports.DeviceAccounts=DeviceAccounts},{"./plugin":405}],385:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DeviceMotion=function(){function DeviceMotion(){}return DeviceMotion.getCurrentAcceleration=function(){},DeviceMotion.watchAcceleration=function(options){},__decorate([plugin_1.Cordova()],DeviceMotion,"getCurrentAcceleration",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"})],DeviceMotion,"watchAcceleration",null),DeviceMotion=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-device-motion",pluginRef:"navigator.accelerometer",repo:"https://github.com/apache/cordova-plugin-device-motion"})],DeviceMotion)}();exports.DeviceMotion=DeviceMotion},{"./plugin":405}],386:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),DeviceOrientation=function(){function DeviceOrientation(){}return DeviceOrientation.getCurrentHeading=function(){},DeviceOrientation.watchHeading=function(options){},__decorate([plugin_1.Cordova()],DeviceOrientation,"getCurrentHeading",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse",observable:!0,cancelFunction:"clearWatch"})],DeviceOrientation,"watchHeading",null),DeviceOrientation=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-device-orientation",pluginRef:"navigator.compass",repo:"https://github.com/apache/cordova-plugin-device-orientation"})],DeviceOrientation)}();exports.DeviceOrientation=DeviceOrientation},{"./plugin":405}],387:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Diagnostic=function(){function Diagnostic(){}return Diagnostic.isLocationEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.isWifiEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.isCameraEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.isBluetoothEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.requestLocationAuthorization=function(mode){return new Promise(function(res,rej){})},Diagnostic.isLocationAuthorized=function(){return new Promise(function(res,rej){});
},Diagnostic.isCameraPresent=function(){return new Promise(function(res,rej){})},Diagnostic.isCameraAuthorized=function(){return new Promise(function(res,rej){})},Diagnostic.isGpsLocationEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.isNetworkLocationEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.isRemoteNotificationsEnabled=function(){return new Promise(function(res,rej){})},Diagnostic.isRegisteredForRemoteNotifications=function(){return new Promise(function(res,rej){})},__decorate([plugin_1.Cordova()],Diagnostic,"isLocationEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isWifiEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isCameraEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isBluetoothEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"requestLocationAuthorization",null),__decorate([plugin_1.Cordova()],Diagnostic,"isLocationAuthorized",null),__decorate([plugin_1.Cordova()],Diagnostic,"isCameraPresent",null),__decorate([plugin_1.Cordova()],Diagnostic,"isCameraAuthorized",null),__decorate([plugin_1.Cordova()],Diagnostic,"isGpsLocationEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isNetworkLocationEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isRemoteNotificationsEnabled",null),__decorate([plugin_1.Cordova()],Diagnostic,"isRegisteredForRemoteNotifications",null),Diagnostic=__decorate([plugin_1.Plugin({plugin:"cordova.plugins.diagnostic",pluginRef:"cordova.plugins.diagnostic"})],Diagnostic)}();exports.Diagnostic=Diagnostic},{"./plugin":405}],388:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Dialogs=function(){function Dialogs(){}return Dialogs.alert=function(message,title,buttonName){void 0===title&&(title="Alert"),void 0===buttonName&&(buttonName="OK")},Dialogs.confirm=function(message,title,buttonLabels){void 0===title&&(title="Confirm"),void 0===buttonLabels&&(buttonLabels=["OK","Cancel"])},Dialogs.prompt=function(message,title,buttonLabels,defaultText){void 0===title&&(title="Prompt"),void 0===buttonLabels&&(buttonLabels=["OK","Cancel"]),void 0===defaultText&&(defaultText="")},Dialogs.beep=function(times){},__decorate([plugin_1.Cordova({successIndex:1,errorIndex:4})],Dialogs,"alert",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:4})],Dialogs,"confirm",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:5})],Dialogs,"prompt",null),__decorate([plugin_1.Cordova({sync:!0})],Dialogs,"beep",null),Dialogs=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-dialogs",pluginRef:"navigator.notification",repo:"https://github.com/apache/cordova-plugin-dialogs.git"})],Dialogs)}();exports.Dialogs=Dialogs},{"./plugin":405}],389:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),EmailComposer=function(){function EmailComposer(){}return EmailComposer.isAvailable=function(app,scope){return new Promise(function(resolve,reject){cordova.plugins.email.isAvailable(app,resolve,scope)})},EmailComposer.addAlias=function(alias,packageName){},EmailComposer.open=function(email,scope){},__decorate([plugin_1.Cordova()],EmailComposer,"addAlias",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:3})],EmailComposer,"open",null),EmailComposer=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-email-composer",pluginRef:"cordova.plugins.email",repo:"https://github.com/katzer/cordova-plugin-email-composer.git",platforms:["Android","iOS","Windows Phone 8"]})],EmailComposer)}();exports.EmailComposer=EmailComposer},{"./plugin":405}],390:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Facebook=function(){function Facebook(){}return Facebook.login=function(permissions){},Facebook.logout=function(){},Facebook.getLoginStatus=function(){},Facebook.getAccessToken=function(){},Facebook.showDialog=function(options){},Facebook.api=function(requestPath,permissions){},Facebook.logEvent=function(name,params,valueToSum){},Facebook.logPurchase=function(value,currency){},Facebook.appInvite=function(options){},__decorate([plugin_1.Cordova()],Facebook,"login",null),__decorate([plugin_1.Cordova()],Facebook,"logout",null),__decorate([plugin_1.Cordova()],Facebook,"getLoginStatus",null),__decorate([plugin_1.Cordova()],Facebook,"getAccessToken",null),__decorate([plugin_1.Cordova()],Facebook,"showDialog",null),__decorate([plugin_1.Cordova()],Facebook,"api",null),__decorate([plugin_1.Cordova()],Facebook,"logEvent",null),__decorate([plugin_1.Cordova()],Facebook,"logPurchase",null),__decorate([plugin_1.Cordova()],Facebook,"appInvite",null),Facebook=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-facebook4",pluginRef:"facebookConnectPlugin",repo:"https://github.com/jeduan/cordova-plugin-facebook4",install:'cordova plugin add cordova-plugin-facebook4 --variable APP_ID="123456789" --variable APP_NAME="myApplication"'})],Facebook)}();exports.Facebook=Facebook},{"./plugin":405}],391:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),File=function(){function File(){}return File.checkDir=function(path,dir){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(dir)&&rejectFn("directory cannot start with /");try{var directory=path+dir;window.resolveLocalFileSystemURL(directory,function(fileSystem){fileSystem.isDirectory===!0?resolveFn(fileSystem):rejectFn({code:13,message:"input is not a directory"})},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})}catch(err){err.message=File.cordovaFileError[err.code],rejectFn(err)}return promise},File.createDir=function(path,dirName,replace){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(dirName)&&rejectFn("directory cannot start with /"),replace=!replace;var options={create:!0,exclusive:replace};try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getDirectory(dirName,options,function(result){resolveFn(result)},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.removeDir=function(path,dirName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(dirName)&&rejectFn("directory cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getDirectory(dirName,{create:!1},function(dirEntry){dirEntry.remove(function(){resolveFn({success:!0,fileRemoved:dirEntry})},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})},function(er){er.message=File.cordovaFileError[er.code],rejectFn(er)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.moveDir=function(path,dirName,newPath,newDirName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});newDirName=newDirName||dirName,/^\//.test(newDirName)&&rejectFn("directory cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getDirectory(dirName,{create:!1},function(dirEntry){window.resolveLocalFileSystemURL(newPath,function(newDirEntry){dirEntry.moveTo(newDirEntry,newDirName,function(result){resolveFn(result)},function(error){rejectFn(error)})},function(erro){rejectFn(erro)})},function(err){rejectFn(err)})},function(er){rejectFn(er)})}catch(e){rejectFn(e)}return promise},File.copyDir=function(path,dirName,newPath,newDirName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});newDirName=newDirName||dirName,/^\//.test(newDirName)&&rejectFn("directory cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getDirectory(dirName,{create:!1,exclusive:!1},function(dirEntry){window.resolveLocalFileSystemURL(newPath,function(newDirEntry){dirEntry.copyTo(newDirEntry,newDirName,function(result){resolveFn(result)},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(erro){erro.message=File.cordovaFileError[erro.code],rejectFn(erro)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})},function(er){er.message=File.cordovaFileError[er.code],rejectFn(er)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.listDir=function(path,dirName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(dirName)&&rejectFn("directory cannot start with /");var options={create:!1,exclusive:!1};try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getDirectory(dirName,options,function(parent){var reader=parent.createReader();reader.readEntries(function(entries){resolveFn(entries)},function(){rejectFn("DIR_READ_ERROR : "+path+dirName)})},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.removeRecursively=function(path,dirName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(dirName)&&rejectFn("directory cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getDirectory(dirName,{create:!1},function(dirEntry){dirEntry.removeRecursively(function(){resolveFn({success:!0,fileRemoved:dirEntry})},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})},function(er){er.message=File.cordovaFileError[er.code],rejectFn(er)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.checkFile=function(path,file){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(file)&&rejectFn("file cannot start with /");try{var directory=path+file;window.resolveLocalFileSystemURL(directory,function(fileSystem){fileSystem.isFile===!0?resolveFn(fileSystem):rejectFn({code:13,message:"input is not a file"})},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})}catch(err){err.message=File.cordovaFileError[err.code],rejectFn(err)}return promise},File.createFile=function(path,fileName,replace){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(fileName)&&rejectFn("file-name cannot start with /"),replace=!replace;var options={create:!0,exclusive:replace};try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getFile(fileName,options,function(result){resolveFn(result)},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.removeFile=function(path,fileName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});/^\//.test(fileName)&&rejectFn("file-name cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getFile(fileName,{create:!1},function(fileEntry){fileEntry.remove(function(){resolveFn({success:!0,fileRemoved:fileEntry})},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})},function(er){er.message=File.cordovaFileError[er.code],rejectFn(er)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.moveFile=function(path,fileName,newPath,newFileName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});newFileName=newFileName||fileName,/^\//.test(newFileName)&&rejectFn("file-name cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getFile(fileName,{create:!1},function(fileEntry){window.resolveLocalFileSystemURL(newPath,function(newFileEntry){fileEntry.moveTo(newFileEntry,newFileName,function(result){resolveFn(result)},function(error){rejectFn(error)})},function(err){rejectFn(err)})},function(err){rejectFn(err)})},function(er){rejectFn(er)})}catch(e){rejectFn(e)}return promise},File.copyFile=function(path,fileName,newPath,newFileName){var resolveFn,rejectFn,promise=new Promise(function(resolve,reject){resolveFn=resolve,rejectFn=reject});newFileName=newFileName||fileName,/^\//.test(newFileName)&&rejectFn("file-name cannot start with /");try{window.resolveLocalFileSystemURL(path,function(fileSystem){fileSystem.getFile(fileName,{create:!1,exclusive:!1},function(fileEntry){window.resolveLocalFileSystemURL(newPath,function(newFileEntry){fileEntry.copyTo(newFileEntry,newFileName,function(result){resolveFn(result)},function(error){error.message=File.cordovaFileError[error.code],rejectFn(error)})},function(erro){erro.message=File.cordovaFileError[erro.code],rejectFn(erro)})},function(err){err.message=File.cordovaFileError[err.code],rejectFn(err)})},function(er){er.message=File.cordovaFileError[er.code],rejectFn(er)})}catch(e){e.message=File.cordovaFileError[e.code],rejectFn(e)}return promise},File.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR"},File=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-file",pluginRef:"cordova.file",repo:"https://github.com/apache/cordova-plugin-file"})],File)}();exports.File=File},{"./plugin":405}],392:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Flashlight=function(){function Flashlight(){}return Flashlight.available=function(){},Flashlight.switchOn=function(){},Flashlight.switchOff=function(){},Flashlight.toggle=function(){},Flashlight.isSwitchedOn=function(){},__decorate([plugin_1.Cordova()],Flashlight,"available",null),__decorate([plugin_1.Cordova()],Flashlight,"switchOn",null),__decorate([plugin_1.Cordova()],Flashlight,"switchOff",null),__decorate([plugin_1.Cordova()],Flashlight,"toggle",null),__decorate([plugin_1.Cordova({sync:!0})],Flashlight,"isSwitchedOn",null),Flashlight=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-flashlight",pluginRef:"window.plugins.flashlight",repo:"https://github.com/EddyVerbruggen/Flashlight-PhoneGap-Plugin.git"})],Flashlight)}();exports.Flashlight=Flashlight},{"./plugin":405}],393:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Geolocation=function(){function Geolocation(){}return Geolocation.getCurrentPosition=function(options){},Geolocation.watchPosition=function(options){},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Geolocation,"getCurrentPosition",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"})],Geolocation,"watchPosition",null),Geolocation=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-geolocation",pluginRef:"navigator.geolocation",repo:"https://github.com/apache/cordova-plugin-geolocation"})],Geolocation)}();exports.Geolocation=Geolocation},{"./plugin":405}],394:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Globalization=function(){function Globalization(){}return Globalization.getPreferredLanguage=function(){},Globalization.getLocaleName=function(){},Globalization.dateToString=function(date,options){},Globalization.stringToDate=function(dateString,options){},Globalization.getDatePattern=function(options){},Globalization.getDateNames=function(options){},Globalization.isDayLightSavingsTime=function(date){},Globalization.getFirstDayOfWeek=function(){},Globalization.numberToString=function(options){},Globalization.stringToNumber=function(stringToConvert,options){},Globalization.getNumberPattern=function(options){},Globalization.getCurrencyPattern=function(currencyCode){},__decorate([plugin_1.Cordova()],Globalization,"getPreferredLanguage",null),__decorate([plugin_1.Cordova()],Globalization,"getLocaleName",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"dateToString",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"stringToDate",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Globalization,"getDatePattern",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Globalization,"getDateNames",null),__decorate([plugin_1.Cordova()],Globalization,"isDayLightSavingsTime",null),__decorate([plugin_1.Cordova()],Globalization,"getFirstDayOfWeek",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"numberToString",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:2})],Globalization,"stringToNumber",null),__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],Globalization,"getNumberPattern",null),__decorate([plugin_1.Cordova()],Globalization,"getCurrencyPattern",null),Globalization=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-globalization",pluginRef:"navigator.globalization",repo:"https: //github.com/apache/cordova-plugin-globalization"})],Globalization)}();exports.Globalization=Globalization},{"./plugin":405}],395:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),GoogleAnalytics=function(){function GoogleAnalytics(){}return GoogleAnalytics.startTrackerWithId=function(id){},GoogleAnalytics.trackView=function(title){},GoogleAnalytics.trackEvent=function(category,action,label,value){},GoogleAnalytics.trackException=function(description,fatal){},GoogleAnalytics.trackTiming=function(category,intervalInMilliseconds,variable,label){},GoogleAnalytics.addTransaction=function(id,affiliation,revenue,tax,shipping,currencyCode){},GoogleAnalytics.addTransactionItem=function(id,name,sku,category,price,quantity,currencyCode){},GoogleAnalytics.addCustomDimension=function(key,value){},GoogleAnalytics.setUserId=function(id){},GoogleAnalytics.debugMode=function(){},GoogleAnalytics.enableUncaughtExceptionReporting=function(shouldEnable){},__decorate([plugin_1.Cordova()],GoogleAnalytics,"startTrackerWithId",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackView",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackEvent",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackException",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"trackTiming",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"addTransaction",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"addTransactionItem",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"addCustomDimension",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"setUserId",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"debugMode",null),__decorate([plugin_1.Cordova()],GoogleAnalytics,"enableUncaughtExceptionReporting",null),GoogleAnalytics=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-google-analytics",pluginRef:"analytics",repo:"https://github.com/danwilson/google-analytics-plugin",platforms:["Android","iOS"]})],GoogleAnalytics)}();exports.GoogleAnalytics=GoogleAnalytics},{"./plugin":405}],396:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),plugin_2=require("./plugin"),GoogleMaps=function(){function GoogleMaps(elementId){this._objectInstance=plugin.google.maps.Map.getMap(document.getElementById(elementId))}return GoogleMaps.onInit=function(){},GoogleMaps.prototype.setDebuggable=function(isDebuggable){},GoogleMaps.prototype.setClickable=function(isClickable){},__decorate([plugin_2.CordovaInstance({sync:!0})],GoogleMaps.prototype,"setDebuggable",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"plugin.google.maps.event.MAP_READY"})],GoogleMaps,"onInit",null),GoogleMaps=__decorate([plugin_1.Plugin({pluginRef:"plugin.google.maps",plugin:"cordova-plugin-googlemaps",repo:"https://github.com/mapsplugin/cordova-plugin-googlemaps"})],GoogleMaps)}();exports.GoogleMaps=GoogleMaps},{"./plugin":405}],397:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Hotspot=function(){function Hotspot(){}return Hotspot.isAvailable=function(){},Hotspot.toggleWifi=function(){},Hotspot.createHotspot=function(ssid,mode,password){},Hotspot.startHotspot=function(){},Hotspot.configureHotspot=function(ssid,mode,password){},Hotspot.stopHotspot=function(){},Hotspot.isHotspotEnabled=function(){},Hotspot.getAllHotspotDevices=function(){},Hotspot.connectToHotspot=function(ssid,password){},Hotspot.connectToWifiAuthEncrypt=function(ssid,password,authentication,encryption){},Hotspot.addWifiNetwork=function(ssid,mode,password){},Hotspot.removeWifiNetwork=function(ssid){},Hotspot.isConnectedToInternet=function(){},Hotspot.isConnectedToInternetViaWifi=function(){},Hotspot.isWifiOn=function(){},Hotspot.isWifiSupported=function(){},Hotspot.isWifiDirectSupported=function(){},Hotspot.scanWifi=function(){},Hotspot.scanWifiByLevel=function(){},Hotspot.startPeriodicallyScan=function(interval,duration){},Hotspot.stopPeriodicallyScan=function(){},Hotspot.getNetConfig=function(){},Hotspot.getConnectionInfo=function(){},Hotspot.pingHost=function(ip){},Hotspot.getMacAddressOfHost=function(ip){},Hotspot.isDnsLive=function(ip){},Hotspot.isPortLife=function(ip){},Hotspot.isRooted=function(){},__decorate([plugin_1.Cordova()],Hotspot,"isAvailable",null),__decorate([plugin_1.Cordova()],Hotspot,"toggleWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"createHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"startHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"configureHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"stopHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"isHotspotEnabled",null),__decorate([plugin_1.Cordova()],Hotspot,"getAllHotspotDevices",null),__decorate([plugin_1.Cordova()],Hotspot,"connectToHotspot",null),__decorate([plugin_1.Cordova()],Hotspot,"connectToWifiAuthEncrypt",null),__decorate([plugin_1.Cordova()],Hotspot,"addWifiNetwork",null),__decorate([plugin_1.Cordova()],Hotspot,"removeWifiNetwork",null),__decorate([plugin_1.Cordova()],Hotspot,"isConnectedToInternet",null),__decorate([plugin_1.Cordova()],Hotspot,"isConnectedToInternetViaWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"isWifiOn",null),__decorate([plugin_1.Cordova()],Hotspot,"isWifiSupported",null),__decorate([plugin_1.Cordova()],Hotspot,"isWifiDirectSupported",null),__decorate([plugin_1.Cordova()],Hotspot,"scanWifi",null),__decorate([plugin_1.Cordova()],Hotspot,"scanWifiByLevel",null),__decorate([plugin_1.Cordova()],Hotspot,"startPeriodicallyScan",null),__decorate([plugin_1.Cordova()],Hotspot,"stopPeriodicallyScan",null),__decorate([plugin_1.Cordova()],Hotspot,"getNetConfig",null),__decorate([plugin_1.Cordova()],Hotspot,"getConnectionInfo",null),__decorate([plugin_1.Cordova()],Hotspot,"pingHost",null),__decorate([plugin_1.Cordova()],Hotspot,"getMacAddressOfHost",null),__decorate([plugin_1.Cordova()],Hotspot,"isDnsLive",null),__decorate([plugin_1.Cordova()],Hotspot,"isPortLife",null),__decorate([plugin_1.Cordova()],Hotspot,"isRooted",null),Hotspot=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-hotspot",pluginRef:"cordova.plugins.hotspot",repo:"https://github.com/hypery2k/cordova-hotspot-plugin",platforms:["Android"]})],Hotspot)}();exports.Hotspot=Hotspot},{"./plugin":405}],398:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),ImagePicker=function(){function ImagePicker(){}return ImagePicker.getPictures=function(options){},__decorate([plugin_1.Cordova({callbackOrder:"reverse"})],ImagePicker,"getPictures",null),ImagePicker=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-image-picker",pluginRef:"window.imagePicker",repo:"https://github.com/wymsee/cordova-imagePicker"})],ImagePicker)}();exports.ImagePicker=ImagePicker},{"./plugin":405}],399:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),InAppBrowser=function(){function InAppBrowser(){}return InAppBrowser.open=function(url,target,options){},__decorate([plugin_1.Cordova({sync:!0})],InAppBrowser,"open",null),InAppBrowser=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-inappbrowser",pluginRef:"cordova.InAppBrowser"})],InAppBrowser)}();exports.InAppBrowser=InAppBrowser},{"./plugin":405}],400:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Keyboard=function(){function Keyboard(){}return Keyboard.hideKeyboardAccessoryBar=function(hide){console.log("hideKeyboardAccessoryBar method has been removed temporarily.")},Keyboard.show=function(){},Keyboard.close=function(){},Keyboard.disableScroll=function(disable){},Keyboard.onKeyboardShow=function(){},Keyboard.onKeyboardHide=function(){},__decorate([plugin_1.Cordova({sync:!0,platforms:["Android","BlackBerry 10","Windows"]})],Keyboard,"show",null),__decorate([plugin_1.Cordova({sync:!0,platforms:["iOS","Android","BlackBerry 10","Windows"]})],Keyboard,"close",null),__decorate([plugin_1.Cordova({sync:!0,platforms:["iOS","Windows"]})],Keyboard,"disableScroll",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"native.keyboardshow",platforms:["iOS","Android","BlackBerry 10","Windows"]})],Keyboard,"onKeyboardShow",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"native.keyboardhide",platforms:["iOS","Android","BlackBerry 10","Windows"]})],Keyboard,"onKeyboardHide",null),Keyboard=__decorate([plugin_1.Plugin({plugin:"ionic-plugin-keyboard",pluginRef:"cordova.plugins.Keyboard",repo:"https://github.com/driftyco/ionic-plugin-keyboard"})],Keyboard)}();exports.Keyboard=Keyboard},{"./plugin":405}],401:[function(require,module,exports){
"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),LaunchNavigator=function(){function LaunchNavigator(){}return LaunchNavigator.navigate=function(destination,start,options){void 0===start&&(start=null)},__decorate([plugin_1.Cordova({successIndex:2,errorIndex:3})],LaunchNavigator,"navigate",null),LaunchNavigator=__decorate([plugin_1.Plugin({plugin:"uk.co.workingedge.phonegap.plugin.launchnavigator",pluginRef:"launchnavigator",repo:"https://github.com/dpa99c/phonegap-launch-navigator.git"})],LaunchNavigator)}();exports.LaunchNavigator=LaunchNavigator},{"./plugin":405}],402:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),LocalNotifications=function(){function LocalNotifications(){}return LocalNotifications.schedule=function(options){},LocalNotifications.update=function(options){},LocalNotifications.clear=function(notificationId){},LocalNotifications.clearAll=function(){},LocalNotifications.cancel=function(notificationId){},LocalNotifications.cancelAll=function(){},LocalNotifications.isPresent=function(notificationId){},LocalNotifications.isScheduled=function(notificationId){},LocalNotifications.isTriggered=function(notificationId){},LocalNotifications.getAllIds=function(){},LocalNotifications.getTriggeredIds=function(){},LocalNotifications.getScheduledIds=function(){},LocalNotifications.get=function(notificationId){},LocalNotifications.getScheduled=function(notificationId){},LocalNotifications.getTriggered=function(notificationId){},LocalNotifications.getAll=function(){},LocalNotifications.getAllScheduled=function(){},LocalNotifications.getAllTriggered=function(){},LocalNotifications.on=function(eventName,callback){},__decorate([plugin_1.Cordova({sync:!0})],LocalNotifications,"schedule",null),__decorate([plugin_1.Cordova({sync:!0})],LocalNotifications,"update",null),__decorate([plugin_1.Cordova()],LocalNotifications,"clear",null),__decorate([plugin_1.Cordova({successIndex:0,errorIndex:2})],LocalNotifications,"clearAll",null),__decorate([plugin_1.Cordova()],LocalNotifications,"cancel",null),__decorate([plugin_1.Cordova({successIndex:0,errorIndex:2})],LocalNotifications,"cancelAll",null),__decorate([plugin_1.Cordova()],LocalNotifications,"isPresent",null),__decorate([plugin_1.Cordova()],LocalNotifications,"isScheduled",null),__decorate([plugin_1.Cordova()],LocalNotifications,"isTriggered",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAllIds",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getTriggeredIds",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getScheduledIds",null),__decorate([plugin_1.Cordova()],LocalNotifications,"get",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getScheduled",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getTriggered",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAll",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAllScheduled",null),__decorate([plugin_1.Cordova()],LocalNotifications,"getAllTriggered",null),__decorate([plugin_1.Cordova({sync:!0})],LocalNotifications,"on",null),LocalNotifications=__decorate([plugin_1.Plugin({plugin:"de.appplant.cordova.plugin.local-notification",pluginRef:"cordova.plugins.notification.local",repo:"https://github.com/katzer/cordova-plugin-local-notifications"})],LocalNotifications)}();exports.LocalNotifications=LocalNotifications},{"./plugin":405}],403:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),MediaPlugin=function(){function MediaPlugin(src){this._objectInstance=new Media(src)}return MediaPlugin.prototype.getCurrentAmplitude=function(){},MediaPlugin.prototype.getCurrentPosition=function(){},MediaPlugin.prototype.getDuration=function(){},MediaPlugin.prototype.play=function(iosOptions){},MediaPlugin.prototype.pause=function(){},MediaPlugin.prototype.release=function(){},MediaPlugin.prototype.seekTo=function(milliseconds){},MediaPlugin.prototype.setVolume=function(volume){},MediaPlugin.prototype.startRecord=function(){},MediaPlugin.prototype.stopRecord=function(){},MediaPlugin.prototype.stop=function(){},MediaPlugin.MEDIA_NONE=0,MediaPlugin.MEDIA_STARTING=1,MediaPlugin.MEDIA_RUNNING=2,MediaPlugin.MEDIA_PAUSED=3,MediaPlugin.MEDIA_STOPPED=4,__decorate([plugin_1.CordovaInstance()],MediaPlugin.prototype,"getCurrentAmplitude",null),__decorate([plugin_1.CordovaInstance()],MediaPlugin.prototype,"getCurrentPosition",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"getDuration",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"play",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"pause",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"release",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"seekTo",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"setVolume",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"startRecord",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"stopRecord",null),__decorate([plugin_1.CordovaInstance({sync:!0})],MediaPlugin.prototype,"stop",null),MediaPlugin=__decorate([plugin_1.Plugin({repo:"https://github.com/apache/cordova-plugin-media",plugin:"cordova-plugin-media",pluginRef:"Media"})],MediaPlugin)}();exports.MediaPlugin=MediaPlugin;var MediaError=function(){function MediaError(){}return Object.defineProperty(MediaError,"MEDIA_ERR_ABORTED",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(MediaError,"MEDIA_ERR_NETWORK",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(MediaError,"MEDIA_ERR_DECODE",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(MediaError,"MEDIA_ERR_NONE_SUPPORTED",{get:function(){return 4},enumerable:!0,configurable:!0}),MediaError}();exports.MediaError=MediaError},{"./plugin":405}],404:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Network=function(){function Network(){}return Object.defineProperty(Network,"connection",{get:function(){return navigator.connection.type},enumerable:!0,configurable:!0}),Network.onDisconnect=function(){},Network.onConnect=function(){},__decorate([plugin_1.CordovaProperty],Network,"connection",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"offline"})],Network,"onDisconnect",null),__decorate([plugin_1.Cordova({eventObservable:!0,event:"online"})],Network,"onConnect",null),Network=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-network-information",repo:"https://github.com/apache/cordova-plugin-network-information",platforms:["Amazon Fire OS","iOS","Android","BlackBerry 10","Windows Phone 7","Windows Phone 8","Windows","Firefox OS","Browser"],pluginRef:"navigator.connection"})],Network)}();exports.Network=Network;var Connection=function(){function Connection(){}return Object.defineProperty(Connection,"UNKNOWN",{get:function(){return"unknown"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"ETHERNET",{get:function(){return"ethernet"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"WIFI",{get:function(){return"wifi"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"CELL_2G",{get:function(){return"2g"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"CELL_3G",{get:function(){return"3g"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"CELL_4G",{get:function(){return"4g"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"CELL",{get:function(){return"cellular"},enumerable:!0,configurable:!0}),Object.defineProperty(Connection,"NONE",{get:function(){return"none"},enumerable:!0,configurable:!0}),Connection}();exports.Connection=Connection},{"./plugin":405}],405:[function(require,module,exports){"use strict";function setIndex(args,opts,resolve,reject){return void 0===opts&&(opts={}),"reverse"===opts.callbackOrder?(args.unshift(reject),args.unshift(resolve)):"undefined"!=typeof opts.successIndex||"undefined"!=typeof opts.errorIndex?(args.splice(opts.successIndex,0,resolve),args.splice(opts.errorIndex,0,reject)):(args.push(resolve),args.push(reject)),args}function callCordovaPlugin(pluginObj,methodName,args,opts,resolve,reject){void 0===opts&&(opts={}),args=setIndex(args,opts,resolve,reject);var pluginInstance=exports.getPlugin(pluginObj.pluginRef);return pluginInstance?util_1.get(window,pluginObj.pluginRef)[methodName].apply(pluginInstance,args):window.cordova?(exports.pluginWarn(pluginObj,methodName),{error:"plugin_not_installed"}):(exports.cordovaWarn(pluginObj.name,methodName),{error:"cordova_not_available"})}function getPromise(cb){if(window.Promise)return new Promise(function(resolve,reject){cb(resolve,reject)});if(window.angular){var $q_1=window.angular.injector(["ng"]).get("$q");return $q_1(function(resolve,reject){cb(resolve,reject)})}console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular 1/2 or on a recent browser.")}function wrapPromise(pluginObj,methodName,args,opts){void 0===opts&&(opts={});var pluginResult,rej,p=getPromise(function(resolve,reject){pluginResult=callCordovaPlugin(pluginObj,methodName,args,opts,resolve,reject),rej=reject});return pluginResult&&pluginResult.error&&(p["catch"](function(){}),rej(pluginResult.error)),p}function wrapObservable(pluginObj,methodName,args,opts){return void 0===opts&&(opts={}),new Observable_1.Observable(function(observer){var pluginResult=callCordovaPlugin(pluginObj,methodName,args,opts,observer.next.bind(observer),observer.error.bind(observer));return pluginResult&&pluginResult.error&&observer.error(pluginResult.error),function(){try{return opts.clearWithArgs?util_1.get(window,pluginObj.pluginRef)[opts.clearFunction].apply(pluginObj,args):util_1.get(window,pluginObj.pluginRef)[opts.clearFunction].call(pluginObj,pluginResult)}catch(e){console.warn("Unable to clear the previous observable watch for",pluginObj.name,methodName),console.error(e)}}})}function callInstance(pluginObj,methodName,args,opts,resolve,reject){return void 0===opts&&(opts={}),args=setIndex(args,opts,resolve,reject),pluginObj._objectInstance[methodName].apply(pluginObj._objectInstance,args)}function wrapInstance(pluginObj,methodName,args,opts){return void 0===opts&&(opts={}),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return opts.sync?callInstance(pluginObj,methodName,args,opts):opts.observable?new Observable_1.Observable(function(observer){var pluginResult=callInstance(pluginObj,methodName,args,opts,observer.next.bind(observer),observer.error.bind(observer));return function(){try{return opts.clearWithArgs?pluginObj._objectInstance[opts.clearFunction].apply(pluginObj._objectInstance,args):pluginObj._objectInstance[opts.clearFunction].call(pluginObj,pluginResult)}catch(e){console.warn("Unable to clear the previous observable watch for",pluginObj.name,methodName),console.error(e)}}}):getPromise(function(resolve,reject){callInstance(pluginObj,methodName,args,opts,resolve,reject)})}}function wrapEventObservable(event){return new Observable_1.Observable(function(observer){var callback=function(status){return observer.next(status)};return window.addEventListener(event,callback,!1),function(){return window.removeEventListener(event,callback,!1)}})}function Plugin(config){return function(cls){for(var k in config)cls[k]=config[k];return cls.installed=function(){return!!exports.getPlugin(config.pluginRef)},cls}}function Cordova(opts){return void 0===opts&&(opts={}),function(target,methodName,descriptor){descriptor.value;return{value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return exports.wrap(this,methodName,opts).apply(this,args)}}}}function CordovaInstance(opts){return void 0===opts&&(opts={}),function(target,methodName){return{value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return wrapInstance(this,methodName,opts).apply(this,args)}}}}function CordovaProperty(target,key,descriptor){var originalMethod=descriptor.get;return descriptor.get=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];if(!window.cordova)return exports.cordovaWarn(this.name,null),{};var pluginInstance=exports.getPlugin(this.pluginRef);return pluginInstance?originalMethod.apply(this,args):(exports.pluginWarn(this,key),{})},descriptor}var util_1=require("../util"),Observable_1=require("rxjs/Observable");exports.getPlugin=function(pluginRef){return util_1.get(window,pluginRef)},exports.isInstalled=function(pluginRef){return!!exports.getPlugin(pluginRef)},exports.pluginWarn=function(pluginObj,method){var pluginName=pluginObj.name,plugin=pluginObj.plugin;method?console.warn("Native: tried calling "+pluginName+"."+method+", but the "+pluginName+" plugin is not installed."):console.warn("Native: tried accessing the "+pluginName+" plugin but it's not installed."),console.warn("Install the "+pluginName+" plugin: 'cordova plugin add "+plugin+"'")},exports.cordovaWarn=function(pluginName,method){method?console.warn("Native: tried calling "+pluginName+"."+method+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+pluginName+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")},exports.wrap=function(pluginObj,methodName,opts){return void 0===opts&&(opts={}),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return opts.sync?callCordovaPlugin(pluginObj,methodName,args,opts):opts.observable?wrapObservable(pluginObj,methodName,args,opts):opts.eventObservable&&opts.event?wrapEventObservable(opts.event):wrapPromise(pluginObj,methodName,args,opts)}},exports.Plugin=Plugin,exports.Cordova=Cordova,exports.CordovaInstance=CordovaInstance,exports.CordovaProperty=CordovaProperty},{"../util":418,"rxjs/Observable":419}],406:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Push=function(){function Push(){}return Push.init=function(options){},Push.hasPermission=function(){},__decorate([plugin_1.Cordova({sync:!0})],Push,"init",null),__decorate([plugin_1.Cordova()],Push,"hasPermission",null),Push=__decorate([plugin_1.Plugin({plugin:"phonegap-plugin-push",pluginRef:"PushNotification",repo:"https://github.com/phonegap/phonegap-plugin-push"})],Push)}();exports.Push=Push},{"./plugin":405}],407:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Screenshot=function(){function Screenshot(){}return Screenshot.save=function(format,quality,filename){},Screenshot.URI=function(quality){},__decorate([plugin_1.Cordova({successIndex:1,errorIndex:0})],Screenshot,"save",null),__decorate([plugin_1.Cordova({successIndex:1,errorIndex:0})],Screenshot,"URI",null),Screenshot=__decorate([plugin_1.Plugin({plugin:"https://github.com/gitawego/cordova-screenshot.git",pluginRef:"navigator.screenshot",repo:"https://github.com/gitawego/cordova-screenshot.git"})],Screenshot)}();exports.Screenshot=Screenshot},{"./plugin":405}],408:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SMS=function(){function SMS(){}return SMS.send=function(phoneNumber,message,options){},__decorate([plugin_1.Cordova()],SMS,"send",null),SMS=__decorate([plugin_1.Plugin({plugin:"cordova-sms-plugin",pluginRef:"sms",repo:"https://github.com/cordova-sms/cordova-sms-plugin",platforms:["Android","iOS","Windows Phone 8"]})],SMS)}();exports.SMS=SMS},{"./plugin":405}],409:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SocialSharing=function(){function SocialSharing(){}return SocialSharing.share=function(message,subject,file,url){},SocialSharing.canShareVia=function(appName){},SocialSharing.shareViaTwitter=function(message,image,url){},SocialSharing.shareViaFacebook=function(message,image,url){},SocialSharing.shareViaFacebookWithPasteMessageHint=function(message,image,url,pasteMessageHint){},SocialSharing.shareViaInstagram=function(message,image){},SocialSharing.shareViaWhatsApp=function(message,image,url){},SocialSharing.shareViaWhatsAppToReceiver=function(receiver,message,image,url){},SocialSharing.shareViaSMS=function(messge,phoneNumber){},SocialSharing.shareViaEmail=function(message,subject,to,cc,bcc,files){},__decorate([plugin_1.Cordova({sync:!0})],SocialSharing,"share",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"canShareVia",null),__decorate([plugin_1.Cordova({sync:!0,platforms:["iOS","Android"]})],SocialSharing,"shareViaTwitter",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaFacebook",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaFacebookWithPasteMessageHint",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaInstagram",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaWhatsApp",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaWhatsAppToReceiver",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaSMS",null),__decorate([plugin_1.Cordova({platforms:["iOS","Android"]})],SocialSharing,"shareViaEmail",null),SocialSharing=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-x-socialsharing",pluginRef:"window.plugins.socialsharing",repo:"https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin",platforms:["iOS","Android","Windows Phone"]})],SocialSharing)}();exports.SocialSharing=SocialSharing},{"./plugin":405}],410:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SpinnerDialog=function(){function SpinnerDialog(){}return SpinnerDialog.show=function(title,message,cancelCallback,iOSOptions){},SpinnerDialog.hide=function(){},__decorate([plugin_1.Cordova({sync:!0})],SpinnerDialog,"show",null),__decorate([plugin_1.Cordova({sync:!0})],SpinnerDialog,"hide",null),SpinnerDialog=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-spinner-dialog",pluginRef:"window.plugins.spinnerDialog",repo:"https://github.com/Paldom/SpinnerDialog",platforms:["Android","iOS","Windows Phone 8"]})],SpinnerDialog)}();exports.SpinnerDialog=SpinnerDialog},{"./plugin":405}],411:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Splashscreen=function(){function Splashscreen(){}return Splashscreen.show=function(){},Splashscreen.hide=function(){},__decorate([plugin_1.Cordova({sync:!0})],Splashscreen,"show",null),__decorate([plugin_1.Cordova({sync:!0})],Splashscreen,"hide",null),Splashscreen=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-splashscreen",pluginRef:"navigator.splashscreen",repo:"https://github.com/apache/cordova-plugin-splashscreen"})],Splashscreen)}();exports.Splashscreen=Splashscreen},{"./plugin":405}],412:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),SQLite=function(){function SQLite(config){var _this=this;new Promise(function(resolve,reject){sqlitePlugin.openDatabase(config,resolve,reject)}).then(function(db){return _this._objectInstance=db},function(error){return console.warn(error)})}return Object.defineProperty(SQLite.prototype,"databaseFeatures",{get:function(){return this._objectInstance.databaseFeatures},enumerable:!0,configurable:!0}),SQLite.prototype.addTransaction=function(transaction){},SQLite.prototype.transaction=function(fn){},SQLite.prototype.readTransaction=function(fn){},SQLite.prototype.startNextTransaction=function(){},SQLite.prototype.close=function(){},SQLite.prototype.start=function(){},SQLite.prototype.executeSql=function(statement,params){},SQLite.prototype.addSatement=function(sql,values){},SQLite.prototype.sqlBatch=function(sqlStatements){},SQLite.prototype.abortallPendingTransactions=function(){},SQLite.prototype.handleStatementSuccess=function(handler,response){},SQLite.prototype.handleStatementFailure=function(handler,response){},SQLite.prototype.run=function(){},SQLite.prototype.abort=function(txFailure){},SQLite.prototype.finish=function(){},SQLite.prototype.abortFromQ=function(sqlerror){},SQLite.echoTest=function(){},SQLite.deleteDatabase=function(first){},__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"addTransaction",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"transaction",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"readTransaction",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"startNextTransaction",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"close",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"start",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"executeSql",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"addSatement",null),__decorate([plugin_1.CordovaInstance()],SQLite.prototype,"sqlBatch",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"abortallPendingTransactions",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"handleStatementSuccess",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"handleStatementFailure",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"run",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"abort",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"finish",null),__decorate([plugin_1.CordovaInstance({sync:!0})],SQLite.prototype,"abortFromQ",null),__decorate([plugin_1.Cordova()],SQLite,"echoTest",null),__decorate([plugin_1.Cordova()],SQLite,"deleteDatabase",null),SQLite=__decorate([plugin_1.Plugin({pluginRef:"sqlitePlugin",plugin:"cordova-sqlite-storage",repo:"https://github.com/litehelpers/Cordova-sqlite-storage"})],SQLite)}();exports.SQLite=SQLite},{"./plugin":405}],413:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),StatusBar=function(){function StatusBar(){}return StatusBar.overlaysWebView=function(doesOverlay){},StatusBar.styleDefault=function(){},StatusBar.styleLightContent=function(){},StatusBar.styleBlackTranslucent=function(){},StatusBar.styleBlackOpaque=function(){},StatusBar.backgroundColorByName=function(colorName){},StatusBar.backgroundColorByHexString=function(hexString){},StatusBar.hide=function(){},StatusBar.show=function(){},Object.defineProperty(StatusBar,"isVisible",{get:function(){return window.StatusBar.isVisible},enumerable:!0,configurable:!0}),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"overlaysWebView",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleDefault",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleLightContent",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleBlackTranslucent",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"styleBlackOpaque",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"backgroundColorByName",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"backgroundColorByHexString",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"hide",null),__decorate([plugin_1.Cordova({sync:!0})],StatusBar,"show",null),__decorate([plugin_1.CordovaProperty],StatusBar,"isVisible",null),StatusBar=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-statusbar",pluginRef:"StatusBar",repo:"https://github.com/apache/cordova-plugin-statusbar"})],StatusBar)}();exports.StatusBar=StatusBar},{"./plugin":405}],414:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Toast=function(){function Toast(){}return Toast.show=function(message,duration,position){},Toast.hide=function(){},Toast.showWithOptions=function(options){},Toast.showShortTop=function(message){},Toast.showShortCenter=function(message){},Toast.showShortBottom=function(message){},Toast.showLongTop=function(message){},Toast.showLongCenter=function(message){},Toast.showLongBottom=function(message){},__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"show",null),__decorate([plugin_1.Cordova()],Toast,"hide",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showWithOptions",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showShortTop",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showShortCenter",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showShortBottom",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showLongTop",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showLongCenter",null),__decorate([plugin_1.Cordova({observable:!0,clearFunction:"hide"})],Toast,"showLongBottom",null),Toast=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-x-toast",pluginRef:"plugins.toast",repo:"https://github.com/EddyVerbruggen/Toast-PhoneGap-Plugin"})],Toast)}();exports.Toast=Toast},{"./plugin":405}],415:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),TouchID=function(){function TouchID(){}return TouchID.prototype.isAvailable=function(){},TouchID.verifyFingerprint=function(message){},TouchID.verifyFingerprintWithCustomPasswordFallback=function(message){},TouchID.verifyFingerprintWithCustomPasswordFallbackAndEnterPasswordLabel=function(message,enterPasswordLabel){},__decorate([plugin_1.Cordova()],TouchID.prototype,"isAvailable",null),
__decorate([plugin_1.Cordova()],TouchID,"verifyFingerprint",null),__decorate([plugin_1.Cordova()],TouchID,"verifyFingerprintWithCustomPasswordFallback",null),__decorate([plugin_1.Cordova()],TouchID,"verifyFingerprintWithCustomPasswordFallbackAndEnterPasswordLabel",null),TouchID=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-touch-id",pluginRef:"plugins.touchid",repo:"https://github.com/EddyVerbruggen/cordova-plugin-touch-id"})],TouchID)}();exports.TouchID=TouchID},{"./plugin":405}],416:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),Vibration=function(){function Vibration(){}return Vibration.vibrate=function(time){},__decorate([plugin_1.Cordova({sync:!0})],Vibration,"vibrate",null),Vibration=__decorate([plugin_1.Plugin({plugin:"cordova-plugin-vibration",pluginRef:"navigator",repo:"https://github.com/apache/cordova-plugin-vibration"})],Vibration)}();exports.Vibration=Vibration},{"./plugin":405}],417:[function(require,module,exports){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},plugin_1=require("./plugin"),WebIntent=function(){function WebIntent(){}return Object.defineProperty(WebIntent,"ACTION_VIEW",{get:function(){return window.plugins.webintent.ACTION_VIEW},enumerable:!0,configurable:!0}),Object.defineProperty(WebIntent,"EXTRA_TEXT",{get:function(){return window.plugins.webintent.EXTRA_TEXT},enumerable:!0,configurable:!0}),WebIntent.startActivity=function(options){},WebIntent.hasExtra=function(extra){},WebIntent.getExtra=function(extra){},WebIntent.getUri=function(){},WebIntent.onNewIntent=function(){},WebIntent.sendBroadcast=function(options){},__decorate([plugin_1.CordovaProperty],WebIntent,"ACTION_VIEW",null),__decorate([plugin_1.CordovaProperty],WebIntent,"EXTRA_TEXT",null),__decorate([plugin_1.Cordova()],WebIntent,"startActivity",null),__decorate([plugin_1.Cordova()],WebIntent,"hasExtra",null),__decorate([plugin_1.Cordova()],WebIntent,"getExtra",null),__decorate([plugin_1.Cordova()],WebIntent,"getUri",null),__decorate([plugin_1.Cordova()],WebIntent,"onNewIntent",null),__decorate([plugin_1.Cordova()],WebIntent,"sendBroadcast",null),WebIntent=__decorate([plugin_1.Plugin({plugin:"https://github.com/Initsogar/cordova-webintent.git",pluginRef:"window.plugins.webintent",repo:"https://github.com/Initsogar/cordova-webintent.git"})],WebIntent)}();exports.WebIntent=WebIntent},{"./plugin":405}],418:[function(require,module,exports){"use strict";function get(obj,path){for(var i=0,path=path.split("."),len=path.length;len>i;i++){if(!obj)return null;obj=obj[path[i]]}return obj}exports.get=get},{}],419:[function(require,module,exports){"use strict";var root_1=require("./util/root"),SymbolShim_1=require("./util/SymbolShim"),toSubscriber_1=require("./util/toSubscriber"),tryCatch_1=require("./util/tryCatch"),errorObject_1=require("./util/errorObject"),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,subscriber=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(operator?subscriber.add(this._subscribe(operator.call(subscriber))):subscriber.add(this._subscribe(subscriber)),subscriber.syncErrorThrowable&&(subscriber.syncErrorThrowable=!1,subscriber.syncErrorThrown))throw subscriber.syncErrorValue;return subscriber},Observable.prototype.forEach=function(next,thisArg,PromiseCtor){if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");var source=this;return new PromiseCtor(function(resolve,reject){source.subscribe(function(value){var result=tryCatch_1.tryCatch(next).call(thisArg,value);result===errorObject_1.errorObject&&reject(errorObject_1.errorObject.e)},reject,resolve)})},Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)},Observable.prototype[SymbolShim_1.SymbolShim.observable]=function(){return this},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();exports.Observable=Observable},{"./util/SymbolShim":429,"./util/errorObject":430,"./util/root":434,"./util/toSubscriber":436,"./util/tryCatch":437}],420:[function(require,module,exports){"use strict";exports.empty={isUnsubscribed:!0,next:function(value){},error:function(err){throw err},complete:function(){}}},{}],421:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=require("./Observable"),Subscriber_1=require("./Subscriber"),Subscription_1=require("./Subscription"),SubjectSubscription_1=require("./subject/SubjectSubscription"),rxSubscriber_1=require("./symbol/rxSubscriber"),throwError_1=require("./util/throwError"),ObjectUnsubscribedError_1=require("./util/ObjectUnsubscribedError"),Subject=function(_super){function Subject(destination,source){_super.call(this),this.destination=destination,this.source=source,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1}return __extends(Subject,_super),Subject.prototype.lift=function(operator){var subject=new Subject(this.destination||this,this);return subject.operator=operator,subject},Subject.prototype.add=function(subscription){Subscription_1.Subscription.prototype.add.call(this,subscription)},Subject.prototype.remove=function(subscription){Subscription_1.Subscription.prototype.remove.call(this,subscription)},Subject.prototype.unsubscribe=function(){Subscription_1.Subscription.prototype.unsubscribe.call(this)},Subject.prototype._subscribe=function(subscriber){if(this.source)return this.source.subscribe(subscriber);if(!subscriber.isUnsubscribed){if(this.hasErrored)return subscriber.error(this.errorValue);if(this.hasCompleted)return subscriber.complete();this.throwIfUnsubscribed();var subscription=new SubjectSubscription_1.SubjectSubscription(this,subscriber);return this.observers.push(subscriber),subscription}},Subject.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},Subject.prototype.next=function(value){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(value),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},Subject.prototype.error=function(err){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=err,this.dispatching||this._error(err))},Subject.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},Subject.prototype.asObservable=function(){var observable=new SubjectObservable(this);return observable},Subject.prototype._next=function(value){this.destination?this.destination.next(value):this._finalNext(value)},Subject.prototype._finalNext=function(value){for(var index=-1,observers=this.observers.slice(0),len=observers.length;++index<len;)observers[index].next(value)},Subject.prototype._error=function(err){this.destination?this.destination.error(err):this._finalError(err)},Subject.prototype._finalError=function(err){var index=-1,observers=this.observers;if(this.observers=null,this.isUnsubscribed=!0,observers)for(var len=observers.length;++index<len;)observers[index].error(err);this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},Subject.prototype._finalComplete=function(){var index=-1,observers=this.observers;if(this.observers=null,this.isUnsubscribed=!0,observers)for(var len=observers.length;++index<len;)observers[index].complete();this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&throwError_1.throwError(new ObjectUnsubscribedError_1.ObjectUnsubscribedError)},Subject.prototype[rxSubscriber_1.rxSubscriber]=function(){return new Subscriber_1.Subscriber(this)},Subject.create=function(destination,source){return new Subject(destination,source)},Subject}(Observable_1.Observable);exports.Subject=Subject;var SubjectObservable=function(_super){function SubjectObservable(source){_super.call(this),this.source=source}return __extends(SubjectObservable,_super),SubjectObservable}(Observable_1.Observable)},{"./Observable":419,"./Subscriber":422,"./Subscription":423,"./subject/SubjectSubscription":426,"./symbol/rxSubscriber":427,"./util/ObjectUnsubscribedError":428,"./util/throwError":435}],422:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isFunction_1=require("./util/isFunction"),Subscription_1=require("./Subscription"),rxSubscriber_1=require("./symbol/rxSubscriber"),Observer_1=require("./Observer"),Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){switch(_super.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1.empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?this.destination=destinationOrNext:(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}return __extends(Subscriber,_super),Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype[rxSubscriber_1.rxSubscriber]=function(){return this},Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parent,observerOrNext,error,complete){_super.call(this),this._parent=_parent;var next,context=this;isFunction_1.isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(context=observerOrNext,next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete),this._context=context,this._next=next,this._error=error,this._complete=complete}return __extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parent=this._parent;_parent.syncErrorThrowable?this.__tryOrSetError(_parent,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parent=this._parent;if(this._error)_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else{if(!_parent.syncErrorThrowable)throw this.unsubscribe(),err;_parent.syncErrorValue=err,_parent.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var _parent=this._parent;this._complete?_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){throw this.unsubscribe(),err}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value)}catch(err){return parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parent=this._parent;this._context=null,this._parent=null,_parent.unsubscribe()},SafeSubscriber}(Subscriber)},{"./Observer":420,"./Subscription":423,"./symbol/rxSubscriber":427,"./util/isFunction":432}],423:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=require("./util/isArray"),isObject_1=require("./util/isObject"),isFunction_1=require("./util/isFunction"),tryCatch_1=require("./util/tryCatch"),errorObject_1=require("./util/errorObject"),Subscription=function(){function Subscription(_unsubscribe){this.isUnsubscribed=!1,_unsubscribe&&(this._unsubscribe=_unsubscribe)}return Subscription.prototype.unsubscribe=function(){var errors,hasErrors=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var _a=this,_unsubscribe=_a._unsubscribe,_subscriptions=_a._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(_unsubscribe)){var trial=tryCatch_1.tryCatch(_unsubscribe).call(this);trial===errorObject_1.errorObject&&(hasErrors=!0,(errors=errors||[]).push(errorObject_1.errorObject.e))}if(isArray_1.isArray(_subscriptions))for(var index=-1,len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if(isObject_1.isObject(sub)){var trial=tryCatch_1.tryCatch(sub.unsubscribe).call(sub);if(trial===errorObject_1.errorObject){hasErrors=!0,errors=errors||[];var err=errorObject_1.errorObject.e;err instanceof UnsubscriptionError?errors=errors.concat(err.errors):errors.push(err)}}}if(hasErrors)throw new UnsubscriptionError(errors)}},Subscription.prototype.add=function(subscription){if(subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var sub=subscription;switch(typeof subscription){case"function":sub=new Subscription(subscription);case"object":if(sub.isUnsubscribed||"function"!=typeof sub.unsubscribe)break;this.isUnsubscribed?sub.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(sub);break;default:throw new Error("Unrecognized subscription "+subscription+" added to Subscription.")}}},Subscription.prototype.remove=function(subscription){if(null!=subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}},Subscription.EMPTY=function(empty){return empty.isUnsubscribed=!0,empty}(new Subscription),Subscription}();exports.Subscription=Subscription;var UnsubscriptionError=function(_super){function UnsubscriptionError(errors){_super.call(this,"unsubscriptoin error(s)"),this.errors=errors,this.name="UnsubscriptionError"}return __extends(UnsubscriptionError,_super),UnsubscriptionError}(Error);exports.UnsubscriptionError=UnsubscriptionError},{"./util/errorObject":430,"./util/isArray":431,"./util/isFunction":432,"./util/isObject":433,"./util/tryCatch":437}],424:[function(require,module,exports){"use strict";function dispatchNext(_a){var value=_a.value,subscriber=_a.subscriber;subscriber.isUnsubscribed||(subscriber.next(value),subscriber.complete())}function dispatchError(_a){var err=_a.err,subscriber=_a.subscriber;subscriber.isUnsubscribed||subscriber.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=require("../util/root"),Observable_1=require("../Observable"),PromiseObservable=function(_super){function PromiseObservable(promise,scheduler){void 0===scheduler&&(scheduler=null),_super.call(this),this.promise=promise,this.scheduler=scheduler}return __extends(PromiseObservable,_super),PromiseObservable.create=function(promise,scheduler){return void 0===scheduler&&(scheduler=null),new PromiseObservable(promise,scheduler)},PromiseObservable.prototype._subscribe=function(subscriber){var _this=this,promise=this.promise,scheduler=this.scheduler;if(null==scheduler)this._isScalar?subscriber.isUnsubscribed||(subscriber.next(this.value),subscriber.complete()):promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.isUnsubscribed||(subscriber.next(value),subscriber.complete())},function(err){subscriber.isUnsubscribed||subscriber.error(err)}).then(null,function(err){root_1.root.setTimeout(function(){throw err})});else if(this._isScalar){if(!subscriber.isUnsubscribed)return scheduler.schedule(dispatchNext,0,{value:this.value,subscriber:subscriber})}else promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.isUnsubscribed||subscriber.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))},function(err){subscriber.isUnsubscribed||subscriber.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}))}).then(null,function(err){root_1.root.setTimeout(function(){throw err})})},PromiseObservable}(Observable_1.Observable);exports.PromiseObservable=PromiseObservable},{"../Observable":419,"../util/root":434}],425:[function(require,module,exports){"use strict";function toPromise(PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})}var root_1=require("../util/root");exports.toPromise=toPromise},{"../util/root":434}],426:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=require("../Subscription"),SubjectSubscription=function(_super){function SubjectSubscription(subject,observer){_super.call(this),this.subject=subject,this.observer=observer,this.isUnsubscribed=!1}return __extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isUnsubscribed){var subscriberIndex=observers.indexOf(this.observer);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription},{"../Subscription":423}],427:[function(require,module,exports){"use strict";var SymbolShim_1=require("../util/SymbolShim");exports.rxSubscriber=SymbolShim_1.SymbolShim["for"]("rxSubscriber")},{"../util/SymbolShim":429}],428:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ObjectUnsubscribedError=function(_super){function ObjectUnsubscribedError(){_super.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return __extends(ObjectUnsubscribedError,_super),ObjectUnsubscribedError}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError},{}],429:[function(require,module,exports){"use strict";function polyfillSymbol(root){var Symbol=ensureSymbol(root);return ensureIterator(Symbol,root),ensureObservable(Symbol),ensureFor(Symbol),Symbol}function ensureFor(Symbol){Symbol["for"]||(Symbol["for"]=symbolForPolyfill)}function ensureSymbol(root){return root.Symbol||(root.Symbol=function(description){return"@@Symbol("+description+"):"+id++}),root.Symbol}function symbolForPolyfill(key){return"@@"+key}function ensureIterator(Symbol,root){if(!Symbol.iterator)if("function"==typeof Symbol["for"])Symbol.iterator=Symbol["for"]("iterator");else if(root.Set&&"function"==typeof(new root.Set)["@@iterator"])Symbol.iterator="@@iterator";else if(root.Map)for(var keys=Object.getOwnPropertyNames(root.Map.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&root.Map.prototype[key]===root.Map.prototype.entries){Symbol.iterator=key;break}}else Symbol.iterator="@@iterator"}function ensureObservable(Symbol){Symbol.observable||("function"==typeof Symbol["for"]?Symbol.observable=Symbol["for"]("observable"):Symbol.observable="@@observable")}var root_1=require("./root");exports.polyfillSymbol=polyfillSymbol,exports.ensureFor=ensureFor;var id=0;exports.ensureSymbol=ensureSymbol,exports.symbolForPolyfill=symbolForPolyfill,exports.ensureIterator=ensureIterator,exports.ensureObservable=ensureObservable,exports.SymbolShim=polyfillSymbol(root_1.root)},{"./root":434}],430:[function(require,module,exports){"use strict";exports.errorObject={e:{}}},{}],431:[function(require,module,exports){"use strict";exports.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length}},{}],432:[function(require,module,exports){"use strict";function isFunction(x){return"function"==typeof x}exports.isFunction=isFunction},{}],433:[function(require,module,exports){"use strict";function isObject(x){return null!=x&&"object"==typeof x}exports.isObject=isObject},{}],434:[function(require,module,exports){(function(global){"use strict";var objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeGlobal=(objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,objectTypes[typeof module]&&module&&!module.nodeType&&module,objectTypes[typeof global]&&global);!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(exports.root=freeGlobal)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],435:[function(require,module,exports){"use strict";function throwError(e){throw e}exports.throwError=throwError},{}],436:[function(require,module,exports){"use strict";function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver&&"object"==typeof nextOrObserver){if(nextOrObserver instanceof Subscriber_1.Subscriber)return nextOrObserver;if("function"==typeof nextOrObserver[rxSubscriber_1.rxSubscriber])return nextOrObserver[rxSubscriber_1.rxSubscriber]()}return new Subscriber_1.Subscriber(nextOrObserver,error,complete)}var Subscriber_1=require("../Subscriber"),rxSubscriber_1=require("../symbol/rxSubscriber");exports.toSubscriber=toSubscriber},{"../Subscriber":422,"../symbol/rxSubscriber":427}],437:[function(require,module,exports){"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject_1.errorObject.e=e,errorObject_1.errorObject}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var tryCatchTarget,errorObject_1=require("./errorObject");exports.tryCatch=tryCatch},{"./errorObject":430}]},{},[1]);